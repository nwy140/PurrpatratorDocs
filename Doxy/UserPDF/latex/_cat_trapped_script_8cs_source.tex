\doxysection{Cat\+Trapped\+Script.\+cs}
\label{_cat_trapped_script_8cs_source}\index{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/\_Developers/Ainun/Scripts/CatTrappedScript.cs@{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/\_Developers/Ainun/Scripts/CatTrappedScript.cs}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{keyword}{using} System.Collections;}
\DoxyCodeLine{00002 \textcolor{keyword}{using} System.Collections.Generic;}
\DoxyCodeLine{00003 \textcolor{keyword}{using} UnityEngine;}
\DoxyCodeLine{00004 \textcolor{keyword}{using} Photon.Pun;}
\DoxyCodeLine{00005 }
\DoxyCodeLine{00006 \textcolor{keyword}{public} \textcolor{keyword}{class }CatTrappedScript : MonoBehaviour}
\DoxyCodeLine{00007 \{}
\DoxyCodeLine{00008     \textcolor{keyword}{public} \textcolor{keywordtype}{bool} trappingCat;}
\DoxyCodeLine{00009     \textcolor{keyword}{public} \textcolor{keywordtype}{float} trappedTime = 3f;}
\DoxyCodeLine{00010     \textcolor{keyword}{public} \textcolor{keyword}{static} CatTrappedScript instance;}
\DoxyCodeLine{00011 }
\DoxyCodeLine{00012     PhotonView photonView;}
\DoxyCodeLine{00013     TrapMechanicButtonScript trapBttn;}
\DoxyCodeLine{00014 }
\DoxyCodeLine{00015     \textcolor{keyword}{private} \textcolor{keywordtype}{void} Awake()}
\DoxyCodeLine{00016     \{}
\DoxyCodeLine{00017         instance = \textcolor{keyword}{this};}
\DoxyCodeLine{00018         TryGetComponent(out photonView);}
\DoxyCodeLine{00019     \}}
\DoxyCodeLine{00020 }
\DoxyCodeLine{00021     \textcolor{keywordtype}{void} Update()}
\DoxyCodeLine{00022     \{}
\DoxyCodeLine{00023         \textcolor{keywordflow}{if}(trappingCat || ButtonSpamScript.instance.barFull)}
\DoxyCodeLine{00024         \{}
\DoxyCodeLine{00025             photonView.RPC(nameof(TrapDestroyself), RpcTarget.AllBuffered);}
\DoxyCodeLine{00026             Debug.Log(\textcolor{stringliteral}{"{}Photon should work"{}});}
\DoxyCodeLine{00027         \}}
\DoxyCodeLine{00028         }
\DoxyCodeLine{00029         \textcolor{comment}{//trappedTime -\/= Time.deltaTime;}}
\DoxyCodeLine{00030 }
\DoxyCodeLine{00031         \textcolor{comment}{//if(trappedTime <= 0)}}
\DoxyCodeLine{00032         \textcolor{comment}{//\{}}
\DoxyCodeLine{00033         \textcolor{comment}{//    Destroy(this.gameObject);}}
\DoxyCodeLine{00034         \textcolor{comment}{//    trappingCat = false;}}
\DoxyCodeLine{00035         \textcolor{comment}{//\}}}
\DoxyCodeLine{00036     \}}
\DoxyCodeLine{00037 }
\DoxyCodeLine{00038 }
\DoxyCodeLine{00039     [PunRPC]}
\DoxyCodeLine{00040     \textcolor{keyword}{public} \textcolor{keywordtype}{void} TrapDestroyself()}
\DoxyCodeLine{00041     \{}
\DoxyCodeLine{00042         \textcolor{comment}{//if (PhotonNetwork.LocalPlayer.IsMasterClient)}}
\DoxyCodeLine{00043         \textcolor{comment}{//\{}}
\DoxyCodeLine{00044         \textcolor{comment}{//    PhotonNetwork.Destroy(this.gameObject);}}
\DoxyCodeLine{00045         \textcolor{comment}{//\}}}
\DoxyCodeLine{00046 }
\DoxyCodeLine{00047         \textcolor{comment}{//trappingCat = false;}}
\DoxyCodeLine{00048         \textcolor{comment}{//EscapeSpamScript.instance.escapeCanvas.SetActive(false);}}
\DoxyCodeLine{00049         \textcolor{comment}{//EscapeSpamScript.instance.startEscaping = false;}}
\DoxyCodeLine{00050         \textcolor{comment}{//ButtonSpamScript.instance.barFull = false;}}
\DoxyCodeLine{00051         \textcolor{comment}{//ButtonSpamScript.instance.currentAmt = 0f;}}
\DoxyCodeLine{00052 }
\DoxyCodeLine{00053         trappedTime -\/= Time.deltaTime;}
\DoxyCodeLine{00054 }
\DoxyCodeLine{00055         \textcolor{keywordflow}{if} (trappedTime <= 0)}
\DoxyCodeLine{00056         \{}
\DoxyCodeLine{00057             \textcolor{keywordflow}{if} (PhotonNetwork.LocalPlayer.IsMasterClient)}
\DoxyCodeLine{00058             \{}
\DoxyCodeLine{00059                 PhotonNetwork.Destroy(this.gameObject);}
\DoxyCodeLine{00060             \}}
\DoxyCodeLine{00061 }
\DoxyCodeLine{00062             trappingCat = \textcolor{keyword}{false};}
\DoxyCodeLine{00063             EscapeSpamScript.instance.escapeCanvas.SetActive(\textcolor{keyword}{false});}
\DoxyCodeLine{00064             EscapeSpamScript.instance.startEscaping = \textcolor{keyword}{false};}
\DoxyCodeLine{00065             ButtonSpamScript.instance.barFull = \textcolor{keyword}{false};}
\DoxyCodeLine{00066         \}}
\DoxyCodeLine{00067 }
\DoxyCodeLine{00068         \textcolor{comment}{//if (ButtonSpamScript.instance.barFull)}}
\DoxyCodeLine{00069         \textcolor{comment}{//\{}}
\DoxyCodeLine{00070         \textcolor{comment}{//    if (PhotonNetwork.LocalPlayer.IsMasterClient)}}
\DoxyCodeLine{00071         \textcolor{comment}{//    \{}}
\DoxyCodeLine{00072         \textcolor{comment}{//        PhotonNetwork.Destroy(this.gameObject);}}
\DoxyCodeLine{00073         \textcolor{comment}{//    \}}}
\DoxyCodeLine{00074 }
\DoxyCodeLine{00075         \textcolor{comment}{//    trappingCat = false;}}
\DoxyCodeLine{00076         \textcolor{comment}{//    EscapeSpamScript.instance.escapeCanvas.SetActive(false);}}
\DoxyCodeLine{00077         \textcolor{comment}{//    EscapeSpamScript.instance.startEscaping = false;}}
\DoxyCodeLine{00078         \textcolor{comment}{//    ButtonSpamScript.instance.barFull = false;}}
\DoxyCodeLine{00079         \textcolor{comment}{//    ButtonSpamScript.instance.currentAmt = 0f;}}
\DoxyCodeLine{00080         \textcolor{comment}{//\}}}
\DoxyCodeLine{00081     \}}
\DoxyCodeLine{00082 \}}

\end{DoxyCode}
