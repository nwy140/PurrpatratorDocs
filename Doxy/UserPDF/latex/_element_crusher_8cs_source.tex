\doxysection{Element\+Crusher.\+cs}
\label{_element_crusher_8cs_source}\index{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/Photon/PhotonUtilities/TransformCrusher/ElementCrusher.cs@{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/Photon/PhotonUtilities/TransformCrusher/ElementCrusher.cs}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00002 \textcolor{comment}{// <copyright>PhotonNetwork Framework for Unity -\/ Copyright (C) 2020 Exit Games GmbH</copyright>}}
\DoxyCodeLine{00003 \textcolor{comment}{// <author>developer@exitgames.com</author>}}
\DoxyCodeLine{00004 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00005 }
\DoxyCodeLine{00006 \textcolor{keyword}{using} UnityEngine;}
\DoxyCodeLine{00007 \textcolor{keyword}{using} System.Collections.Generic;}
\DoxyCodeLine{00008 \textcolor{keyword}{using} System;}
\DoxyCodeLine{00009 \textcolor{keyword}{using} System.Collections.ObjectModel;}
\DoxyCodeLine{00010 \textcolor{keyword}{using} Photon.Utilities;}
\DoxyCodeLine{00011 \textcolor{keyword}{using} emotitron.Compression;}
\DoxyCodeLine{00012 }
\DoxyCodeLine{00013 }
\DoxyCodeLine{00014 \textcolor{preprocessor}{\#if UNITY\_EDITOR}}
\DoxyCodeLine{00015 \textcolor{keyword}{using} UnityEditor;}
\DoxyCodeLine{00016 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00017 }
\DoxyCodeLine{00018 \textcolor{keyword}{namespace }Photon.Compression}
\DoxyCodeLine{00019 \{}
\DoxyCodeLine{00020     \textcolor{keyword}{public} \textcolor{keyword}{interface }IOnElementCrusherChange}
\DoxyCodeLine{00021     \{}
\DoxyCodeLine{00022         \textcolor{keywordtype}{void} OnCrusherChange(ElementCrusher ec);}
\DoxyCodeLine{00023     \}}
\DoxyCodeLine{00024 }
\DoxyCodeLine{00025     [System.Serializable]}
\DoxyCodeLine{00026     \textcolor{keyword}{public} \textcolor{keyword}{class }ElementCrusher : Crusher<ElementCrusher>, IEquatable<ElementCrusher>, ICrusherCopy<ElementCrusher>}
\DoxyCodeLine{00027     \{}
\DoxyCodeLine{00028         \textcolor{keyword}{public} \textcolor{keyword}{enum} UniformAxes \{ NonUniform = 0, XY = 3, XZ = 5, YZ = 6, XYZ = 7 \}}
\DoxyCodeLine{00029         \textcolor{keyword}{public} \textcolor{keyword}{enum} StaticTRSType}
\DoxyCodeLine{00030         \{}
\DoxyCodeLine{00031             Position = 0,}
\DoxyCodeLine{00032             Euler = 1,}
\DoxyCodeLine{00033             Quaternion = 2,}
\DoxyCodeLine{00034             Scale = 3,}
\DoxyCodeLine{00035             Generic = 4}
\DoxyCodeLine{00036         \}}
\DoxyCodeLine{00040         \textcolor{keyword}{public} \textcolor{keyword}{static} Dictionary<int, ElementCrusher> staticElementCrushers = \textcolor{keyword}{new} Dictionary<int, ElementCrusher>();}
\DoxyCodeLine{00041 }
\DoxyCodeLine{00043         \textcolor{keyword}{private} \textcolor{keyword}{static} readonly CompressedElement reusableCE = \textcolor{keyword}{new} CompressedElement();}
\DoxyCodeLine{00044 }
\DoxyCodeLine{00045 \textcolor{preprocessor}{        \#region Static Crushers}}
\DoxyCodeLine{00046 }
\DoxyCodeLine{00047         \textcolor{keyword}{public} \textcolor{keyword}{static} ElementCrusher GetStaticPositionCrusher(Bounds bounds, \textcolor{keywordtype}{int} resolution)}
\DoxyCodeLine{00048         \{}
\DoxyCodeLine{00049             \textcolor{comment}{// Build a new EC with the supplied values.}}
\DoxyCodeLine{00050             ElementCrusher ec = \textcolor{keyword}{new} ElementCrusher(StaticTRSType.Position)}
\DoxyCodeLine{00051             \{}
\DoxyCodeLine{00052                 XCrusher = FloatCrusher.GetStaticFloatCrusher(resolution, bounds.min.x, bounds.max.x, Axis.Generic, TRSType.Position),}
\DoxyCodeLine{00053                 YCrusher = FloatCrusher.GetStaticFloatCrusher(resolution, bounds.min.y, bounds.max.y, Axis.Generic, TRSType.Position),}
\DoxyCodeLine{00054                 ZCrusher = FloatCrusher.GetStaticFloatCrusher(resolution, bounds.min.z, bounds.max.z, Axis.Generic, TRSType.Position)}
\DoxyCodeLine{00055             \};}
\DoxyCodeLine{00056             \textcolor{comment}{// See if this crusher is a repeat of an existing one}}
\DoxyCodeLine{00057             \textcolor{keywordflow}{return} CheckAgainstStatics(ec);}
\DoxyCodeLine{00058         \}}
\DoxyCodeLine{00059 }
\DoxyCodeLine{00060         \textcolor{keyword}{public} \textcolor{keyword}{static} ElementCrusher GetStaticQuatCrusher(\textcolor{keywordtype}{int} minBits)}
\DoxyCodeLine{00061         \{}
\DoxyCodeLine{00062             \textcolor{comment}{// Build a new EC with the supplied values.}}
\DoxyCodeLine{00063             ElementCrusher ec = \textcolor{keyword}{new} ElementCrusher(StaticTRSType.Quaternion)}
\DoxyCodeLine{00064             \{}
\DoxyCodeLine{00065                 QCrusher = \textcolor{keyword}{new} QuatCrusher(\textcolor{keyword}{false}, \textcolor{keyword}{false}) \{ Bits = minBits \}}
\DoxyCodeLine{00066             \};}
\DoxyCodeLine{00067             \textcolor{comment}{// See if this crusher is a repeat of an existing one}}
\DoxyCodeLine{00068             \textcolor{keywordflow}{return} CheckAgainstStatics(ec);}
\DoxyCodeLine{00069         \}}
\DoxyCodeLine{00070 }
\DoxyCodeLine{00077         \textcolor{keyword}{public} \textcolor{keyword}{static} ElementCrusher CheckAgainstStatics(ElementCrusher ec, \textcolor{keywordtype}{bool} CheckAgainstFloatCrushersAsWell = \textcolor{keyword}{true})}
\DoxyCodeLine{00078         \{}
\DoxyCodeLine{00079             \textcolor{keywordflow}{if} (ReferenceEquals(ec, \textcolor{keyword}{null}))}
\DoxyCodeLine{00080                 \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{00081 }
\DoxyCodeLine{00082             \textcolor{keywordflow}{if} (CheckAgainstFloatCrushersAsWell)}
\DoxyCodeLine{00083             \{}
\DoxyCodeLine{00084                 \textcolor{keywordflow}{if} (ec.cache\_xEnabled)}
\DoxyCodeLine{00085                     ec.XCrusher = FloatCrusher.CheckAgainstStatics(ec.\_xcrusher);}
\DoxyCodeLine{00086                 \textcolor{keywordflow}{if} (ec.cache\_yEnabled)}
\DoxyCodeLine{00087                     ec.YCrusher = FloatCrusher.CheckAgainstStatics(ec.\_ycrusher);}
\DoxyCodeLine{00088                 \textcolor{keywordflow}{if} (ec.cache\_zEnabled)}
\DoxyCodeLine{00089                     ec.ZCrusher = FloatCrusher.CheckAgainstStatics(ec.\_zcrusher);}
\DoxyCodeLine{00090                 \textcolor{keywordflow}{if} (ec.cache\_uEnabled)}
\DoxyCodeLine{00091                     ec.UCrusher = FloatCrusher.CheckAgainstStatics(ec.\_ucrusher);}
\DoxyCodeLine{00092             \}}
\DoxyCodeLine{00093 }
\DoxyCodeLine{00094             \textcolor{keywordtype}{int} hash = ec.GetHashCode();}
\DoxyCodeLine{00095 }
\DoxyCodeLine{00096             \textcolor{keywordflow}{if} (staticElementCrushers.ContainsKey(hash))}
\DoxyCodeLine{00097             \{}
\DoxyCodeLine{00098                 \textcolor{keywordflow}{return} staticElementCrushers[hash];}
\DoxyCodeLine{00099             \}}
\DoxyCodeLine{00100 }
\DoxyCodeLine{00101             staticElementCrushers.Add(hash, ec);}
\DoxyCodeLine{00102             \textcolor{keywordflow}{return} ec;}
\DoxyCodeLine{00103         \}}
\DoxyCodeLine{00104 }
\DoxyCodeLine{00105         \textcolor{keyword}{public} \textcolor{keyword}{static} ElementCrusher defaultUncompressedElementCrusher = CheckAgainstStatics(\textcolor{keyword}{new} ElementCrusher(StaticTRSType.Generic)}
\DoxyCodeLine{00106         \{}
\DoxyCodeLine{00107             XCrusher = FloatCrusher.defaultUncompressedCrusher,}
\DoxyCodeLine{00108             YCrusher = FloatCrusher.defaultUncompressedCrusher,}
\DoxyCodeLine{00109             ZCrusher = FloatCrusher.defaultUncompressedCrusher,}
\DoxyCodeLine{00110             UCrusher = FloatCrusher.defaultUncompressedCrusher,}
\DoxyCodeLine{00111         \});}
\DoxyCodeLine{00112 }
\DoxyCodeLine{00113         \textcolor{keyword}{public} \textcolor{keyword}{static} ElementCrusher defaultUncompressedPosCrusher = CheckAgainstStatics(\textcolor{keyword}{new} ElementCrusher(StaticTRSType.Position)}
\DoxyCodeLine{00114         \{}
\DoxyCodeLine{00115             XCrusher = FloatCrusher.defaultUncompressedCrusher,}
\DoxyCodeLine{00116             YCrusher = FloatCrusher.defaultUncompressedCrusher,}
\DoxyCodeLine{00117             ZCrusher = FloatCrusher.defaultUncompressedCrusher,}
\DoxyCodeLine{00118             UCrusher = FloatCrusher.defaultUncompressedCrusher,}
\DoxyCodeLine{00119         \});}
\DoxyCodeLine{00120 }
\DoxyCodeLine{00121         \textcolor{keyword}{public} \textcolor{keyword}{static} ElementCrusher defaultUncompressedSclCrusher = CheckAgainstStatics(\textcolor{keyword}{new} ElementCrusher(StaticTRSType.Position)}
\DoxyCodeLine{00122         \{}
\DoxyCodeLine{00123             XCrusher = FloatCrusher.defaultUncompressedCrusher,}
\DoxyCodeLine{00124             YCrusher = FloatCrusher.defaultUncompressedCrusher,}
\DoxyCodeLine{00125             ZCrusher = FloatCrusher.defaultUncompressedCrusher,}
\DoxyCodeLine{00126             UCrusher = FloatCrusher.defaultUncompressedCrusher,}
\DoxyCodeLine{00127         \});}
\DoxyCodeLine{00128 }
\DoxyCodeLine{00129         \textcolor{keyword}{public} \textcolor{keyword}{static} ElementCrusher defaultHalfFloatElementCrusher = CheckAgainstStatics(\textcolor{keyword}{new} ElementCrusher(StaticTRSType.Generic)}
\DoxyCodeLine{00130         \{}
\DoxyCodeLine{00131             XCrusher = FloatCrusher.defaultUncompressedCrusher,}
\DoxyCodeLine{00132             YCrusher = FloatCrusher.defaultUncompressedCrusher,}
\DoxyCodeLine{00133             ZCrusher = FloatCrusher.defaultUncompressedCrusher,}
\DoxyCodeLine{00134             UCrusher = FloatCrusher.defaultUncompressedCrusher,}
\DoxyCodeLine{00135         \});}
\DoxyCodeLine{00136 }
\DoxyCodeLine{00137         \textcolor{keyword}{public} \textcolor{keyword}{static} ElementCrusher defaultHalfFloatPosCrusher = CheckAgainstStatics(\textcolor{keyword}{new} ElementCrusher(StaticTRSType.Position)}
\DoxyCodeLine{00138         \{}
\DoxyCodeLine{00139             XCrusher = FloatCrusher.defaulHalfFloatCrusher,}
\DoxyCodeLine{00140             YCrusher = FloatCrusher.defaulHalfFloatCrusher,}
\DoxyCodeLine{00141             ZCrusher = FloatCrusher.defaulHalfFloatCrusher,}
\DoxyCodeLine{00142             UCrusher = FloatCrusher.defaulHalfFloatCrusher,}
\DoxyCodeLine{00143         \});}
\DoxyCodeLine{00144 }
\DoxyCodeLine{00145         \textcolor{keyword}{public} \textcolor{keyword}{static} ElementCrusher defaultHalfFloatSclCrusher = CheckAgainstStatics(\textcolor{keyword}{new} ElementCrusher(StaticTRSType.Scale)}
\DoxyCodeLine{00146         \{}
\DoxyCodeLine{00147             XCrusher = FloatCrusher.defaulHalfFloatCrusher,}
\DoxyCodeLine{00148             YCrusher = FloatCrusher.defaulHalfFloatCrusher,}
\DoxyCodeLine{00149             ZCrusher = FloatCrusher.defaulHalfFloatCrusher,}
\DoxyCodeLine{00150             UCrusher = FloatCrusher.defaulHalfFloatCrusher,}
\DoxyCodeLine{00151         \});}
\DoxyCodeLine{00152 }
\DoxyCodeLine{00156         \textcolor{comment}{//static ElementCrusher()}}
\DoxyCodeLine{00157         \textcolor{comment}{//\{}}
\DoxyCodeLine{00158         \textcolor{comment}{//  ElementCrusher defaultUncompressedElementCrusher = CheckAgainstStatics(new ElementCrusher(StaticTRSType.Generic)}}
\DoxyCodeLine{00159         \textcolor{comment}{//  \{}}
\DoxyCodeLine{00160         \textcolor{comment}{//      xcrusher = FloatCrusher.defaultUncompressedCrusher,}}
\DoxyCodeLine{00161         \textcolor{comment}{//      ycrusher = FloatCrusher.defaultUncompressedCrusher,}}
\DoxyCodeLine{00162         \textcolor{comment}{//      zcrusher = FloatCrusher.defaultUncompressedCrusher,}}
\DoxyCodeLine{00163         \textcolor{comment}{//      ucrusher = FloatCrusher.defaultUncompressedCrusher,}}
\DoxyCodeLine{00164         \textcolor{comment}{//  \});}}
\DoxyCodeLine{00165         \textcolor{comment}{//  ElementCrusher defaultHalfFloatElementCrusher = CheckAgainstStatics(new ElementCrusher(StaticTRSType.Generic)}}
\DoxyCodeLine{00166         \textcolor{comment}{//  \{}}
\DoxyCodeLine{00167         \textcolor{comment}{//      xcrusher = FloatCrusher.defaulHalfFloatCrusher,}}
\DoxyCodeLine{00168         \textcolor{comment}{//      ycrusher = FloatCrusher.defaulHalfFloatCrusher,}}
\DoxyCodeLine{00169         \textcolor{comment}{//      zcrusher = FloatCrusher.defaulHalfFloatCrusher,}}
\DoxyCodeLine{00170         \textcolor{comment}{//      ucrusher = FloatCrusher.defaulHalfFloatCrusher,}}
\DoxyCodeLine{00171         \textcolor{comment}{//  \});}}
\DoxyCodeLine{00172 }
\DoxyCodeLine{00173         \textcolor{comment}{//  Debug.Log("{}STATIC CONS EC "{} + (ElementCrusher.defaultUncompressedElementCrusher != null) + "{} "{} }}
\DoxyCodeLine{00174         \textcolor{comment}{//      + (ElementCrusher.defaultUncompressedElementCrusher.xcrusher != null));}}
\DoxyCodeLine{00175 }
\DoxyCodeLine{00176         \textcolor{comment}{//\}}}
\DoxyCodeLine{00177 }
\DoxyCodeLine{00178 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{00179 }
\DoxyCodeLine{00180 \textcolor{preprocessor}{        \#region Inspector}}
\DoxyCodeLine{00181 }
\DoxyCodeLine{00182 \textcolor{preprocessor}{\#if UNITY\_EDITOR}}
\DoxyCodeLine{00183         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} isExpanded = \textcolor{keyword}{true};}
\DoxyCodeLine{00184 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00185         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} hideFieldName = \textcolor{keyword}{false};}
\DoxyCodeLine{00186 }
\DoxyCodeLine{00187         [SerializeField] \textcolor{keyword}{private} TRSType \_trsType;}
\DoxyCodeLine{00188         \textcolor{keyword}{public} TRSType TRSType}
\DoxyCodeLine{00189         \{}
\DoxyCodeLine{00190             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_trsType; \}}
\DoxyCodeLine{00191             \textcolor{keyword}{set}}
\DoxyCodeLine{00192             \{}
\DoxyCodeLine{00193                 \_trsType = value;}
\DoxyCodeLine{00194                 \_xcrusher.TRSType = value;}
\DoxyCodeLine{00195                 \_ycrusher.TRSType = value;}
\DoxyCodeLine{00196                 \_zcrusher.TRSType = value;}
\DoxyCodeLine{00197             \}}
\DoxyCodeLine{00198         \}}
\DoxyCodeLine{00199 }
\DoxyCodeLine{00200         [SerializeField] \textcolor{keyword}{public} Transform defaultTransform;}
\DoxyCodeLine{00201         [SerializeField] \textcolor{keyword}{public} UniformAxes uniformAxes;}
\DoxyCodeLine{00202 }
\DoxyCodeLine{00203         [SerializeField] \textcolor{keyword}{private} FloatCrusher \_xcrusher;}
\DoxyCodeLine{00204         [SerializeField] \textcolor{keyword}{private} FloatCrusher \_ycrusher;}
\DoxyCodeLine{00205         [SerializeField] \textcolor{keyword}{private} FloatCrusher \_zcrusher;}
\DoxyCodeLine{00206         [SerializeField] \textcolor{keyword}{private} FloatCrusher \_ucrusher;}
\DoxyCodeLine{00207         [SerializeField] \textcolor{keyword}{private} QuatCrusher \_qcrusher;}
\DoxyCodeLine{00208 }
\DoxyCodeLine{00209 \textcolor{preprocessor}{        \#region Crusher Properties}}
\DoxyCodeLine{00210 }
\DoxyCodeLine{00211         [System.Obsolete(\textcolor{stringliteral}{"{}Use the XCrusher property instead."{}})]}
\DoxyCodeLine{00212         \textcolor{keyword}{public} FloatCrusher xcrusher \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} XCrusher; \} \textcolor{keyword}{set} \{ XCrusher = value; \} \}}
\DoxyCodeLine{00213         [System.Obsolete(\textcolor{stringliteral}{"{}Use the YCrusher property instead."{}})]}
\DoxyCodeLine{00214         \textcolor{keyword}{public} FloatCrusher ycrusher \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} YCrusher; \} \textcolor{keyword}{set} \{ YCrusher = value; \} \}}
\DoxyCodeLine{00215         [System.Obsolete(\textcolor{stringliteral}{"{}Use the ZCrusher property instead."{}})]}
\DoxyCodeLine{00216         \textcolor{keyword}{public} FloatCrusher zcrusher \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} ZCrusher; \} \textcolor{keyword}{set} \{ ZCrusher = value; \} \}}
\DoxyCodeLine{00217         [System.Obsolete(\textcolor{stringliteral}{"{}Use the UCrusher property instead."{}})]}
\DoxyCodeLine{00218         \textcolor{keyword}{public} FloatCrusher ucrusher \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} UCrusher; \} \textcolor{keyword}{set} \{ UCrusher = value; \} \}}
\DoxyCodeLine{00219         [System.Obsolete(\textcolor{stringliteral}{"{}Use the QCrusher property instead."{}})]}
\DoxyCodeLine{00220         \textcolor{keyword}{public} QuatCrusher qcrusher \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} QCrusher; \} \textcolor{keyword}{set} \{ QCrusher = value; \} \}}
\DoxyCodeLine{00221 }
\DoxyCodeLine{00222         \textcolor{keyword}{public} FloatCrusher XCrusher}
\DoxyCodeLine{00223         \{}
\DoxyCodeLine{00224             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_xcrusher; \}}
\DoxyCodeLine{00225             \textcolor{keyword}{set}}
\DoxyCodeLine{00226             \{}
\DoxyCodeLine{00227 }
\DoxyCodeLine{00228                 \textcolor{keywordflow}{if} (ReferenceEquals(\_xcrusher, value))}
\DoxyCodeLine{00229                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00230 }
\DoxyCodeLine{00231                 \textcolor{keywordflow}{if} (\_xcrusher != \textcolor{keyword}{null}) \_xcrusher.OnRecalculated -\/= OnCrusherChange;}
\DoxyCodeLine{00232                 \_xcrusher = value;}
\DoxyCodeLine{00233                 \textcolor{keywordflow}{if} (\_xcrusher != \textcolor{keyword}{null}) \_xcrusher.OnRecalculated += OnCrusherChange;}
\DoxyCodeLine{00234 }
\DoxyCodeLine{00235                 CacheValues();}
\DoxyCodeLine{00236             \}}
\DoxyCodeLine{00237         \}}
\DoxyCodeLine{00238 }
\DoxyCodeLine{00239         \textcolor{keyword}{public} FloatCrusher YCrusher}
\DoxyCodeLine{00240         \{}
\DoxyCodeLine{00241             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_ycrusher; \}}
\DoxyCodeLine{00242             \textcolor{keyword}{set}}
\DoxyCodeLine{00243             \{}
\DoxyCodeLine{00244                 \textcolor{keywordflow}{if} (ReferenceEquals(\_ycrusher, value))}
\DoxyCodeLine{00245                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00246 }
\DoxyCodeLine{00247                 \textcolor{keywordflow}{if} (\_ycrusher != \textcolor{keyword}{null}) \_ycrusher.OnRecalculated -\/= OnCrusherChange;}
\DoxyCodeLine{00248                 \_ycrusher = value;}
\DoxyCodeLine{00249                 \textcolor{keywordflow}{if} (\_ycrusher != \textcolor{keyword}{null}) \_ycrusher.OnRecalculated += OnCrusherChange;}
\DoxyCodeLine{00250 }
\DoxyCodeLine{00251                 CacheValues();}
\DoxyCodeLine{00252             \}}
\DoxyCodeLine{00253         \}}
\DoxyCodeLine{00254         \textcolor{keyword}{public} FloatCrusher ZCrusher}
\DoxyCodeLine{00255         \{}
\DoxyCodeLine{00256             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_zcrusher; \}}
\DoxyCodeLine{00257             \textcolor{keyword}{set}}
\DoxyCodeLine{00258             \{}
\DoxyCodeLine{00259                 \textcolor{keywordflow}{if} (ReferenceEquals(\_zcrusher, value))}
\DoxyCodeLine{00260                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00261 }
\DoxyCodeLine{00262                 \textcolor{keywordflow}{if} (\_zcrusher != \textcolor{keyword}{null}) \_zcrusher.OnRecalculated -\/= OnCrusherChange;}
\DoxyCodeLine{00263                 \_zcrusher = value;}
\DoxyCodeLine{00264                 \textcolor{keywordflow}{if} (\_zcrusher != \textcolor{keyword}{null}) \_zcrusher.OnRecalculated += OnCrusherChange;}
\DoxyCodeLine{00265 }
\DoxyCodeLine{00266                 CacheValues();}
\DoxyCodeLine{00267             \}}
\DoxyCodeLine{00268         \}}
\DoxyCodeLine{00269         \textcolor{keyword}{public} FloatCrusher UCrusher}
\DoxyCodeLine{00270         \{}
\DoxyCodeLine{00271             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_ucrusher; \}}
\DoxyCodeLine{00272             \textcolor{keyword}{set}}
\DoxyCodeLine{00273             \{}
\DoxyCodeLine{00274                 \textcolor{keywordflow}{if} (ReferenceEquals(\_ucrusher, value))}
\DoxyCodeLine{00275                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00276 }
\DoxyCodeLine{00277                 \textcolor{keywordflow}{if} (\_ucrusher != \textcolor{keyword}{null}) \_ucrusher.OnRecalculated -\/= OnCrusherChange;}
\DoxyCodeLine{00278                 \_ucrusher = value;}
\DoxyCodeLine{00279                 \textcolor{keywordflow}{if} (\_ucrusher != \textcolor{keyword}{null}) \_ucrusher.OnRecalculated += OnCrusherChange;}
\DoxyCodeLine{00280 }
\DoxyCodeLine{00281                 CacheValues();}
\DoxyCodeLine{00282             \}}
\DoxyCodeLine{00283         \}}
\DoxyCodeLine{00284         \textcolor{keyword}{public} QuatCrusher QCrusher}
\DoxyCodeLine{00285         \{}
\DoxyCodeLine{00286             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_qcrusher; \}}
\DoxyCodeLine{00287             \textcolor{keyword}{set}}
\DoxyCodeLine{00288             \{}
\DoxyCodeLine{00289                 \textcolor{keywordflow}{if} (ReferenceEquals(\_qcrusher, value))}
\DoxyCodeLine{00290                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00291 }
\DoxyCodeLine{00292                 \textcolor{keywordflow}{if} (\_qcrusher != \textcolor{keyword}{null}) \_qcrusher.OnRecalculated -\/= OnCrusherChange;}
\DoxyCodeLine{00293                 \_qcrusher = value;}
\DoxyCodeLine{00294                 \textcolor{keywordflow}{if} (\_qcrusher != \textcolor{keyword}{null}) \_qcrusher.OnRecalculated += OnCrusherChange;}
\DoxyCodeLine{00295 }
\DoxyCodeLine{00296                 CacheValues();}
\DoxyCodeLine{00297             \}}
\DoxyCodeLine{00298         \}}
\DoxyCodeLine{00299 }
\DoxyCodeLine{00300         \textcolor{keyword}{public} \textcolor{keywordtype}{void} OnCrusherChange(QuatCrusher crusher)}
\DoxyCodeLine{00301         \{}
\DoxyCodeLine{00302             CacheValues();}
\DoxyCodeLine{00303         \}}
\DoxyCodeLine{00304 }
\DoxyCodeLine{00305         \textcolor{keyword}{public} \textcolor{keywordtype}{void} OnCrusherChange(FloatCrusher crusher)}
\DoxyCodeLine{00306         \{}
\DoxyCodeLine{00307             CacheValues();}
\DoxyCodeLine{00308         \}}
\DoxyCodeLine{00309 }
\DoxyCodeLine{00310 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{00311 }
\DoxyCodeLine{00312         [SerializeField] \textcolor{keyword}{public} \textcolor{keywordtype}{bool} local;}
\DoxyCodeLine{00313         [SerializeField] \textcolor{keyword}{private} \textcolor{keywordtype}{bool} useWorldBounds;}
\DoxyCodeLine{00314         [SerializeField]}
\DoxyCodeLine{00315         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} UseWorldBounds}
\DoxyCodeLine{00316         \{}
\DoxyCodeLine{00317             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} useWorldBounds; \}}
\DoxyCodeLine{00318             \textcolor{keyword}{set}}
\DoxyCodeLine{00319             \{}
\DoxyCodeLine{00320                 ApplyWorldCrusherSettings(value, boundsGroupId);}
\DoxyCodeLine{00321             \}}
\DoxyCodeLine{00322         \}}
\DoxyCodeLine{00323 }
\DoxyCodeLine{00324         [WorldBoundsSelectAttribute]}
\DoxyCodeLine{00325         [HideInInspector]}
\DoxyCodeLine{00326         [SerializeField]}
\DoxyCodeLine{00327         \textcolor{keyword}{private} \textcolor{keywordtype}{int} boundsGroupId;}
\DoxyCodeLine{00328 }
\DoxyCodeLine{00329         \textcolor{keyword}{public} \textcolor{keywordtype}{int} BoundsGroupId}
\DoxyCodeLine{00330         \{}
\DoxyCodeLine{00331             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} boundsGroupId; \}}
\DoxyCodeLine{00332             \textcolor{keyword}{set}}
\DoxyCodeLine{00333             \{}
\DoxyCodeLine{00334                 ApplyWorldCrusherSettings(useWorldBounds, value);}
\DoxyCodeLine{00335             \}}
\DoxyCodeLine{00336         \}}
\DoxyCodeLine{00337 }
\DoxyCodeLine{00341         \textcolor{keyword}{private} \textcolor{keywordtype}{void} OnWorldBoundsReady()}
\DoxyCodeLine{00342         \{}
\DoxyCodeLine{00343             ApplyWorldCrusherSettings();}
\DoxyCodeLine{00344             CacheValues();}
\DoxyCodeLine{00345         \}}
\DoxyCodeLine{00346 }
\DoxyCodeLine{00350         \textcolor{keyword}{public} \textcolor{keywordtype}{void} ApplyWorldCrusherSettings()}
\DoxyCodeLine{00351         \{}
\DoxyCodeLine{00352 }
\DoxyCodeLine{00353             \textcolor{keywordflow}{if} (useWorldBounds)}
\DoxyCodeLine{00354             \{}
\DoxyCodeLine{00355 }
\DoxyCodeLine{00357                 \textcolor{keywordflow}{if} (WorldBoundsSettings.single == \textcolor{keyword}{null})}
\DoxyCodeLine{00358                 \{}
\DoxyCodeLine{00359                     WorldBoundsSettings.OnSingletonReady -\/= OnWorldBoundsReady;}
\DoxyCodeLine{00360                     WorldBoundsSettings.OnSingletonReady += OnWorldBoundsReady;}
\DoxyCodeLine{00361                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00362                 \}}
\DoxyCodeLine{00363 }
\DoxyCodeLine{00364                 WorldBoundsSettings.OnSingletonReady -\/= OnWorldBoundsReady;}
\DoxyCodeLine{00365 }
\DoxyCodeLine{00366                 var wbgs = WorldBoundsSettings.single.worldBoundsGroups;}
\DoxyCodeLine{00367 }
\DoxyCodeLine{00368                 \textcolor{comment}{// If the bounds group is no longer valid, revert to default (0)}}
\DoxyCodeLine{00369                 \textcolor{keywordflow}{if} (boundsGroupId >= wbgs.Count)}
\DoxyCodeLine{00370                 \{}
\DoxyCodeLine{00371                     Debug.LogError(\textcolor{stringliteral}{"{}WorldBoundsGroup "{}} + boundsGroupId + \textcolor{stringliteral}{"{} no longer exists. Using Default(0)."{}});}
\DoxyCodeLine{00372                     boundsGroupId = 0;}
\DoxyCodeLine{00373                 \}}
\DoxyCodeLine{00374 }
\DoxyCodeLine{00375                 var wbg = wbgs[boundsGroupId];}
\DoxyCodeLine{00376 }
\DoxyCodeLine{00377                 wbg.OnWorldBoundChanged -\/= CacheValues;}
\DoxyCodeLine{00378                 wbg.OnWorldBoundChanged += CacheValues;}
\DoxyCodeLine{00379 }
\DoxyCodeLine{00380                 var wbgc = wbg.crusher;}
\DoxyCodeLine{00381 }
\DoxyCodeLine{00382                 \textcolor{keywordflow}{if} (\_xcrusher != wbgc.\_xcrusher)}
\DoxyCodeLine{00383                     XCrusher = wbgc.XCrusher;}
\DoxyCodeLine{00384 }
\DoxyCodeLine{00385                 \textcolor{keywordflow}{if} (\_ycrusher != wbgc.\_ycrusher)}
\DoxyCodeLine{00386                     YCrusher = wbgc.YCrusher;}
\DoxyCodeLine{00387 }
\DoxyCodeLine{00388                 \textcolor{keywordflow}{if} (\_zcrusher != wbgc.\_zcrusher)}
\DoxyCodeLine{00389                     ZCrusher = wbgc.ZCrusher;}
\DoxyCodeLine{00390 }
\DoxyCodeLine{00391                 local = wbgc.local;}
\DoxyCodeLine{00392             \}}
\DoxyCodeLine{00393 }
\DoxyCodeLine{00394         \}}
\DoxyCodeLine{00395 }
\DoxyCodeLine{00399         \textcolor{keyword}{public} \textcolor{keywordtype}{void} ApplyWorldCrusherSettings(\textcolor{keywordtype}{bool} newUseBounds, \textcolor{keywordtype}{int} newBndsGrpId)}
\DoxyCodeLine{00400         \{}
\DoxyCodeLine{00401             \textcolor{keywordflow}{if} (newUseBounds != useWorldBounds)}
\DoxyCodeLine{00402             \{}
\DoxyCodeLine{00403                 useWorldBounds = newUseBounds;}
\DoxyCodeLine{00404                 \textcolor{keywordflow}{if} (!useWorldBounds)}
\DoxyCodeLine{00405                 \{}
\DoxyCodeLine{00406                     Defaults(TRSType.Position);}
\DoxyCodeLine{00407                 \}}
\DoxyCodeLine{00408             \}}
\DoxyCodeLine{00409 }
\DoxyCodeLine{00410             \textcolor{keywordflow}{if} (WorldBoundsSettings.single == \textcolor{keyword}{null})}
\DoxyCodeLine{00411             \{}
\DoxyCodeLine{00412                 Debug.LogWarning(\textcolor{stringliteral}{"{}Not Ready to Change the World"{}});}
\DoxyCodeLine{00413                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{00414             \}}
\DoxyCodeLine{00415             var wbgs = WorldBoundsSettings.single.worldBoundsGroups;}
\DoxyCodeLine{00416 }
\DoxyCodeLine{00418             \textcolor{keywordflow}{if} (newBndsGrpId != boundsGroupId)}
\DoxyCodeLine{00419             \{}
\DoxyCodeLine{00420                 \textcolor{comment}{// If the previous group still exists, be sure we are no longer subscribed to its OnChange events}}
\DoxyCodeLine{00421                 \textcolor{keywordflow}{if} (boundsGroupId < wbgs.Count)}
\DoxyCodeLine{00422                 \{}
\DoxyCodeLine{00423                     var prvWBG = wbgs[boundsGroupId];}
\DoxyCodeLine{00424 }
\DoxyCodeLine{00425                     \textcolor{keywordflow}{if} (prvWBG != \textcolor{keyword}{null})}
\DoxyCodeLine{00426                         prvWBG.OnWorldBoundChanged -\/= CacheValues;}
\DoxyCodeLine{00427                 \}}
\DoxyCodeLine{00428 }
\DoxyCodeLine{00429                 \textcolor{comment}{// If this is no longer a existing worldbounds layer, reset to default}}
\DoxyCodeLine{00430                 \textcolor{keywordflow}{if} (newBndsGrpId >= wbgs.Count)}
\DoxyCodeLine{00431                     boundsGroupId = 0;}
\DoxyCodeLine{00432                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{00433                     boundsGroupId = newBndsGrpId;}
\DoxyCodeLine{00434 }
\DoxyCodeLine{00435                 var newWBG = wbgs[boundsGroupId];}
\DoxyCodeLine{00436 }
\DoxyCodeLine{00437                 \textcolor{keywordflow}{if} (newWBG != \textcolor{keyword}{null} \&\& useWorldBounds)}
\DoxyCodeLine{00438                 \{}
\DoxyCodeLine{00439                     newWBG.OnWorldBoundChanged += CacheValues;}
\DoxyCodeLine{00440 }
\DoxyCodeLine{00441                     var wbgc = newWBG.crusher;}
\DoxyCodeLine{00442 }
\DoxyCodeLine{00443                     \textcolor{keywordflow}{if} (\_xcrusher != wbgc.\_xcrusher)}
\DoxyCodeLine{00444                         XCrusher = wbgc.XCrusher;}
\DoxyCodeLine{00445 }
\DoxyCodeLine{00446                     \textcolor{keywordflow}{if} (\_ycrusher != wbgc.\_ycrusher)}
\DoxyCodeLine{00447                         YCrusher = wbgc.YCrusher;}
\DoxyCodeLine{00448 }
\DoxyCodeLine{00449                     \textcolor{keywordflow}{if} (\_zcrusher != wbgc.\_zcrusher)}
\DoxyCodeLine{00450                         ZCrusher = wbgc.ZCrusher;}
\DoxyCodeLine{00451 }
\DoxyCodeLine{00452                     local = wbgc.local;}
\DoxyCodeLine{00453                 \}}
\DoxyCodeLine{00454             \}}
\DoxyCodeLine{00455         \}}
\DoxyCodeLine{00456 }
\DoxyCodeLine{00457         \textcolor{keyword}{private} WorldBoundsGroup GetUsedWorldBounds()}
\DoxyCodeLine{00458         \{}
\DoxyCodeLine{00459             \textcolor{keywordflow}{if} (\_trsType == TRSType.Position \&\& useWorldBounds)}
\DoxyCodeLine{00460             \{}
\DoxyCodeLine{00461                 \textcolor{comment}{// If this is no longer a existing worldbounds layer, reset to default}}
\DoxyCodeLine{00462                 \textcolor{keywordflow}{if} (boundsGroupId >= WorldBoundsSettings.Single.worldBoundsGroups.Count)}
\DoxyCodeLine{00463                     boundsGroupId = 0;}
\DoxyCodeLine{00464 }
\DoxyCodeLine{00465                 var wbs = WorldBoundsSettings.Single.worldBoundsGroups[boundsGroupId];}
\DoxyCodeLine{00466                 \textcolor{keywordflow}{return} wbs;}
\DoxyCodeLine{00467             \}}
\DoxyCodeLine{00468             \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{00469         \}}
\DoxyCodeLine{00470 }
\DoxyCodeLine{00471         [SerializeField] \textcolor{keyword}{public} \textcolor{keywordtype}{bool} enableTRSTypeSelector;}
\DoxyCodeLine{00472         [SerializeField] \textcolor{keyword}{public} \textcolor{keywordtype}{bool} enableLocalSelector = \textcolor{keyword}{true};}
\DoxyCodeLine{00473 }
\DoxyCodeLine{00474 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{00475 }
\DoxyCodeLine{00476 \textcolor{preprocessor}{        \#region Cached values}}
\DoxyCodeLine{00477 }
\DoxyCodeLine{00478         \textcolor{comment}{// cache values}}
\DoxyCodeLine{00479         [System.NonSerialized]}
\DoxyCodeLine{00480         \textcolor{keyword}{private} \textcolor{keywordtype}{bool} cached;}
\DoxyCodeLine{00481 }
\DoxyCodeLine{00482         [System.NonSerialized] \textcolor{keyword}{private} \textcolor{keywordtype}{bool} cache\_xEnabled, cache\_yEnabled, cache\_zEnabled, cache\_uEnabled, cache\_qEnabled;}
\DoxyCodeLine{00483         [System.NonSerialized] \textcolor{keyword}{private} \textcolor{keywordtype}{bool} cache\_isUniformScale;}
\DoxyCodeLine{00484 }
\DoxyCodeLine{00485         [System.NonSerialized] \textcolor{keyword}{private} readonly \textcolor{keywordtype}{int}[] cache\_xBits = \textcolor{keyword}{new} \textcolor{keywordtype}{int}[4];}
\DoxyCodeLine{00486         [System.NonSerialized] \textcolor{keyword}{private} readonly \textcolor{keywordtype}{int}[] cache\_yBits = \textcolor{keyword}{new} \textcolor{keywordtype}{int}[4];}
\DoxyCodeLine{00487         [System.NonSerialized] \textcolor{keyword}{private} readonly \textcolor{keywordtype}{int}[] cache\_zBits = \textcolor{keyword}{new} \textcolor{keywordtype}{int}[4];}
\DoxyCodeLine{00488         [System.NonSerialized] \textcolor{keyword}{private} readonly \textcolor{keywordtype}{int}[] cache\_uBits = \textcolor{keyword}{new} \textcolor{keywordtype}{int}[4];}
\DoxyCodeLine{00489         [System.NonSerialized] \textcolor{keyword}{private} readonly \textcolor{keywordtype}{int}[] cache\_TotalBits = \textcolor{keyword}{new} \textcolor{keywordtype}{int}[4];}
\DoxyCodeLine{00490 }
\DoxyCodeLine{00491         \textcolor{keyword}{public} ReadOnlyCollection<int> Cached\_TotalBits;}
\DoxyCodeLine{00492 }
\DoxyCodeLine{00493         [System.NonSerialized] \textcolor{keyword}{private} \textcolor{keywordtype}{int} cache\_qBits;}
\DoxyCodeLine{00494         [System.NonSerialized] \textcolor{keyword}{private} \textcolor{keywordtype}{bool} cache\_mustCorrectRotationX;}
\DoxyCodeLine{00495 }
\DoxyCodeLine{00496         \textcolor{comment}{//public ReadOnlyCollection<int> Cached\_TotalBits \{ get \{ return Array.AsReadOnly(cache\_TotalBits); \} \}}}
\DoxyCodeLine{00497 }
\DoxyCodeLine{00498         \textcolor{keyword}{public} Bounds bounds = \textcolor{keyword}{new} Bounds();}
\DoxyCodeLine{00499 }
\DoxyCodeLine{00503         \textcolor{keyword}{public} Bounds Bounds}
\DoxyCodeLine{00504         \{}
\DoxyCodeLine{00505             \textcolor{keyword}{get}}
\DoxyCodeLine{00506             \{}
\DoxyCodeLine{00507                 bounds.SetMinMax(}
\DoxyCodeLine{00508                     \textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{00509                         (\_xcrusher != \textcolor{keyword}{null}) ? \_xcrusher.Min : 0,}
\DoxyCodeLine{00510                         (\_ycrusher != \textcolor{keyword}{null}) ? \_ycrusher.Min : 0,}
\DoxyCodeLine{00511                         (\_zcrusher != \textcolor{keyword}{null}) ? \_zcrusher.Min : 0),}
\DoxyCodeLine{00512                     \textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{00513                         (\_xcrusher != \textcolor{keyword}{null}) ? \_xcrusher.Max : 0,}
\DoxyCodeLine{00514                         (\_ycrusher != \textcolor{keyword}{null}) ? \_ycrusher.Max : 0,}
\DoxyCodeLine{00515                         (\_zcrusher != \textcolor{keyword}{null}) ? \_zcrusher.Max : 0)}
\DoxyCodeLine{00516                     );}
\DoxyCodeLine{00517 }
\DoxyCodeLine{00518                 \textcolor{keywordflow}{return} bounds;}
\DoxyCodeLine{00519             \}}
\DoxyCodeLine{00520 }
\DoxyCodeLine{00521             \textcolor{keyword}{set}}
\DoxyCodeLine{00522             \{}
\DoxyCodeLine{00523                 \textcolor{keywordflow}{if} (\_xcrusher != \textcolor{keyword}{null})}
\DoxyCodeLine{00524                     \_xcrusher.SetRange(value.min.x, value.max.x);}
\DoxyCodeLine{00525                 \textcolor{keywordflow}{if} (\_ycrusher != \textcolor{keyword}{null})}
\DoxyCodeLine{00526                     \_ycrusher.SetRange(value.min.y, value.max.y);}
\DoxyCodeLine{00527                 \textcolor{keywordflow}{if} (\_zcrusher != \textcolor{keyword}{null})}
\DoxyCodeLine{00528                     \_zcrusher.SetRange(value.min.z, value.max.z);}
\DoxyCodeLine{00529 }
\DoxyCodeLine{00530                 CacheValues();}
\DoxyCodeLine{00531             \}}
\DoxyCodeLine{00532         \}}
\DoxyCodeLine{00533 }
\DoxyCodeLine{00534         \textcolor{keyword}{public} \textcolor{keyword}{override} \textcolor{keywordtype}{void} OnBeforeSerialize() \{ \}}
\DoxyCodeLine{00535 }
\DoxyCodeLine{00536         \textcolor{keyword}{public} \textcolor{keyword}{override} \textcolor{keywordtype}{void} OnAfterDeserialize()}
\DoxyCodeLine{00537         \{}
\DoxyCodeLine{00538             \textcolor{comment}{//ApplyWorldCrusherSettings();}}
\DoxyCodeLine{00539             \textcolor{comment}{//CacheValues();}}
\DoxyCodeLine{00540         \}}
\DoxyCodeLine{00541 }
\DoxyCodeLine{00542         \textcolor{keyword}{public} \textcolor{keywordtype}{void} CacheValues()}
\DoxyCodeLine{00543         \{}
\DoxyCodeLine{00544             ApplyWorldCrusherSettings();}
\DoxyCodeLine{00545 }
\DoxyCodeLine{00546 \textcolor{preprocessor}{\#if !UNITY\_EDITOR}}
\DoxyCodeLine{00547             NullUnusedCrushers();}
\DoxyCodeLine{00548 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00549 }
\DoxyCodeLine{00550             \textcolor{keywordflow}{if} (\_trsType == TRSType.Quaternion)}
\DoxyCodeLine{00551             \{}
\DoxyCodeLine{00552 }
\DoxyCodeLine{00553                 cache\_qEnabled = (\_qcrusher != \textcolor{keyword}{null}) \&\& \_qcrusher.Enabled \&\& \_qcrusher.Bits > 0;}
\DoxyCodeLine{00554                 cache\_qBits = (cache\_qEnabled) ? \_qcrusher.Bits : 0;}
\DoxyCodeLine{00555 }
\DoxyCodeLine{00556                 cache\_TotalBits[0] = cache\_qBits;}
\DoxyCodeLine{00557                 cache\_TotalBits[1] = cache\_qBits;}
\DoxyCodeLine{00558                 cache\_TotalBits[2] = cache\_qBits;}
\DoxyCodeLine{00559                 cache\_TotalBits[3] = cache\_qBits;}
\DoxyCodeLine{00560                 cache\_isUniformScale = \textcolor{keyword}{false};}
\DoxyCodeLine{00561 }
\DoxyCodeLine{00562             \}}
\DoxyCodeLine{00563             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\_trsType == TRSType.Scale \&\& uniformAxes != UniformAxes.NonUniform)}
\DoxyCodeLine{00564             \{}
\DoxyCodeLine{00565                 cache\_uEnabled = (\_ucrusher != \textcolor{keyword}{null}) \&\& \_ucrusher.Enabled;}
\DoxyCodeLine{00566 }
\DoxyCodeLine{00567                 for (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)}
\DoxyCodeLine{00568                 \{}
\DoxyCodeLine{00569                     \textcolor{keywordtype}{int} bits = (cache\_uEnabled) ? \_ucrusher.GetBits((BitCullingLevel)i) : 0;}
\DoxyCodeLine{00570                     cache\_uBits[i] = bits;}
\DoxyCodeLine{00571                     cache\_TotalBits[i] = bits;}
\DoxyCodeLine{00572                 \}}
\DoxyCodeLine{00573                 cache\_isUniformScale = \textcolor{keyword}{true};}
\DoxyCodeLine{00574             \}}
\DoxyCodeLine{00575 }
\DoxyCodeLine{00576             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00577             \{}
\DoxyCodeLine{00578                 cache\_mustCorrectRotationX = \_trsType == TRSType.Euler \&\& \_xcrusher.UseHalfRangeX;}
\DoxyCodeLine{00579 }
\DoxyCodeLine{00580                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)}
\DoxyCodeLine{00581                 \{}
\DoxyCodeLine{00582                     cache\_xEnabled = (\_xcrusher != \textcolor{keyword}{null}) \&\& \_xcrusher.Enabled;}
\DoxyCodeLine{00583                     cache\_yEnabled = (\_ycrusher != \textcolor{keyword}{null}) \&\& \_ycrusher.Enabled;}
\DoxyCodeLine{00584                     cache\_zEnabled = (\_zcrusher != \textcolor{keyword}{null}) \&\& \_zcrusher.Enabled;}
\DoxyCodeLine{00585 }
\DoxyCodeLine{00586                     cache\_xBits[i] = (cache\_xEnabled) ? \_xcrusher.GetBits((BitCullingLevel)i) : 0;}
\DoxyCodeLine{00587                     cache\_yBits[i] = (cache\_yEnabled) ? \_ycrusher.GetBits((BitCullingLevel)i) : 0;}
\DoxyCodeLine{00588                     cache\_zBits[i] = (cache\_zEnabled) ? \_zcrusher.GetBits((BitCullingLevel)i) : 0;}
\DoxyCodeLine{00589                     cache\_TotalBits[i] = cache\_xBits[i] + cache\_yBits[i] + cache\_zBits[i];}
\DoxyCodeLine{00590 }
\DoxyCodeLine{00591                     cache\_isUniformScale = \textcolor{keyword}{false};}
\DoxyCodeLine{00592                 \}}
\DoxyCodeLine{00593             \}}
\DoxyCodeLine{00594 }
\DoxyCodeLine{00595             Cached\_TotalBits = Array.AsReadOnly(cache\_TotalBits);}
\DoxyCodeLine{00596 }
\DoxyCodeLine{00597             \textcolor{comment}{// TODO: Cached may no longer be needed. Bootstraps may now ensure it is cached propertly 100\% of the time.}}
\DoxyCodeLine{00598             cached = \textcolor{keyword}{true};}
\DoxyCodeLine{00599 }
\DoxyCodeLine{00601             \textcolor{keywordflow}{if} (OnRecalculated != \textcolor{keyword}{null})}
\DoxyCodeLine{00602                 OnRecalculated(\textcolor{keyword}{this});}
\DoxyCodeLine{00603         \}}
\DoxyCodeLine{00604 }
\DoxyCodeLine{00609         \textcolor{keyword}{private} \textcolor{keywordtype}{void} NullUnusedCrushers()}
\DoxyCodeLine{00610         \{}
\DoxyCodeLine{00611             \textcolor{keywordflow}{if} (\_trsType == TRSType.Quaternion)}
\DoxyCodeLine{00612             \{}
\DoxyCodeLine{00613                 XCrusher = \textcolor{keyword}{null};}
\DoxyCodeLine{00614                 YCrusher = \textcolor{keyword}{null};}
\DoxyCodeLine{00615                 ZCrusher = \textcolor{keyword}{null};}
\DoxyCodeLine{00616                 UCrusher = \textcolor{keyword}{null};}
\DoxyCodeLine{00617             \}}
\DoxyCodeLine{00618             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\_trsType == TRSType.Scale \&\& uniformAxes != UniformAxes.NonUniform)}
\DoxyCodeLine{00619             \{}
\DoxyCodeLine{00620                 XCrusher = \textcolor{keyword}{null};}
\DoxyCodeLine{00621                 YCrusher = \textcolor{keyword}{null};}
\DoxyCodeLine{00622                 ZCrusher = \textcolor{keyword}{null};}
\DoxyCodeLine{00623                 QCrusher = \textcolor{keyword}{null};}
\DoxyCodeLine{00624             \}}
\DoxyCodeLine{00625             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00626             \{}
\DoxyCodeLine{00627                 QCrusher = \textcolor{keyword}{null};}
\DoxyCodeLine{00628                 UCrusher = \textcolor{keyword}{null};}
\DoxyCodeLine{00629             \}}
\DoxyCodeLine{00630         \}}
\DoxyCodeLine{00631 }
\DoxyCodeLine{00635         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} Enabled}
\DoxyCodeLine{00636         \{}
\DoxyCodeLine{00637             \textcolor{keyword}{get}}
\DoxyCodeLine{00638             \{}
\DoxyCodeLine{00639                 \textcolor{keywordflow}{if} (TRSType == TRSType.Quaternion)}
\DoxyCodeLine{00640                     \textcolor{keywordflow}{return} (\_qcrusher.Enabled \&\& \_qcrusher.Bits > 0);}
\DoxyCodeLine{00641 }
\DoxyCodeLine{00642                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (TRSType == TRSType.Scale \&\& uniformAxes != 0)}
\DoxyCodeLine{00643                     \textcolor{keywordflow}{return} \_ucrusher.Enabled;}
\DoxyCodeLine{00644 }
\DoxyCodeLine{00645                 \textcolor{keywordflow}{return} \_xcrusher.Enabled | \_ycrusher.Enabled | \_zcrusher.Enabled;}
\DoxyCodeLine{00646             \}}
\DoxyCodeLine{00647             \textcolor{keyword}{set}}
\DoxyCodeLine{00648             \{}
\DoxyCodeLine{00649                 \textcolor{keywordflow}{if} (TRSType == TRSType.Quaternion)}
\DoxyCodeLine{00650                     \_qcrusher.Enabled = value;}
\DoxyCodeLine{00651 }
\DoxyCodeLine{00652                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (TRSType == TRSType.Scale \&\& uniformAxes != 0)}
\DoxyCodeLine{00653                     \_ucrusher.Enabled = value;}
\DoxyCodeLine{00654 }
\DoxyCodeLine{00655                 \_xcrusher.Enabled = value;}
\DoxyCodeLine{00656                 \_ycrusher.Enabled = value;}
\DoxyCodeLine{00657                 \_zcrusher.Enabled = value;}
\DoxyCodeLine{00658                 \textcolor{comment}{//CacheValues();}}
\DoxyCodeLine{00659             \}}
\DoxyCodeLine{00660         \}}
\DoxyCodeLine{00661 }
\DoxyCodeLine{00662 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{00663 }
\DoxyCodeLine{00664 \textcolor{preprocessor}{        \#region Indexer}}
\DoxyCodeLine{00665 }
\DoxyCodeLine{00671         \textcolor{keyword}{public} FloatCrusher \textcolor{keyword}{this}[\textcolor{keywordtype}{int} axis]}
\DoxyCodeLine{00672         \{}
\DoxyCodeLine{00673             \textcolor{keyword}{get}}
\DoxyCodeLine{00674             \{}
\DoxyCodeLine{00675                 \textcolor{keywordflow}{switch} (axis)}
\DoxyCodeLine{00676                 \{}
\DoxyCodeLine{00677                     \textcolor{keywordflow}{case} 0:}
\DoxyCodeLine{00678                         \textcolor{keywordflow}{return} \_xcrusher;}
\DoxyCodeLine{00679                     \textcolor{keywordflow}{case} 1:}
\DoxyCodeLine{00680                         \textcolor{keywordflow}{return} \_ycrusher;}
\DoxyCodeLine{00681                     \textcolor{keywordflow}{case} 2:}
\DoxyCodeLine{00682                         \textcolor{keywordflow}{return} \_zcrusher;}
\DoxyCodeLine{00683 }
\DoxyCodeLine{00684                     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00685                         Debug.Log(\textcolor{stringliteral}{"{}AXIS "{}} + axis + \textcolor{stringliteral}{"{} should not be calling happening"{}});}
\DoxyCodeLine{00686                         \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{00687                 \}}
\DoxyCodeLine{00688             \}}
\DoxyCodeLine{00689         \}}
\DoxyCodeLine{00690 }
\DoxyCodeLine{00691 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{00692 }
\DoxyCodeLine{00693 \textcolor{preprocessor}{        \#region Constructors}}
\DoxyCodeLine{00694 }
\DoxyCodeLine{00695         \textcolor{keyword}{public} ElementCrusher()}
\DoxyCodeLine{00696         \{}
\DoxyCodeLine{00697             Defaults(TRSType.Generic);}
\DoxyCodeLine{00698         \}}
\DoxyCodeLine{00699 }
\DoxyCodeLine{00705         \textcolor{keyword}{internal} ElementCrusher(StaticTRSType staticTrsType)}
\DoxyCodeLine{00706         \{}
\DoxyCodeLine{00707             \_trsType = (TRSType)staticTrsType;}
\DoxyCodeLine{00708         \}}
\DoxyCodeLine{00709 }
\DoxyCodeLine{00710         \textcolor{comment}{// Constructor}}
\DoxyCodeLine{00711         \textcolor{keyword}{public} ElementCrusher(\textcolor{keywordtype}{bool} enableTRSTypeSelector = \textcolor{keyword}{true})}
\DoxyCodeLine{00712         \{}
\DoxyCodeLine{00713             this.\_trsType = TRSType.Generic;}
\DoxyCodeLine{00714             Defaults(TRSType.Generic);}
\DoxyCodeLine{00715 }
\DoxyCodeLine{00716             this.enableTRSTypeSelector = enableTRSTypeSelector;}
\DoxyCodeLine{00717         \}}
\DoxyCodeLine{00718 }
\DoxyCodeLine{00719         \textcolor{comment}{// Constructor}}
\DoxyCodeLine{00720         \textcolor{keyword}{public} ElementCrusher(TRSType trsType, \textcolor{keywordtype}{bool} enableTRSTypeSelector = \textcolor{keyword}{true})}
\DoxyCodeLine{00721         \{}
\DoxyCodeLine{00722             this.\_trsType = trsType;}
\DoxyCodeLine{00723             Defaults(trsType);}
\DoxyCodeLine{00724 }
\DoxyCodeLine{00725             this.enableTRSTypeSelector = enableTRSTypeSelector;}
\DoxyCodeLine{00726         \}}
\DoxyCodeLine{00727 }
\DoxyCodeLine{00728         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Defaults(TRSType trs)}
\DoxyCodeLine{00729         \{}
\DoxyCodeLine{00730             \textcolor{keywordflow}{if} (trs == TRSType.Quaternion || trs == TRSType.Euler)}
\DoxyCodeLine{00731             \{}
\DoxyCodeLine{00732                 XCrusher = \textcolor{keyword}{new} FloatCrusher(BitPresets.Bits10, -\/90f, 90f, Axis.X, TRSType.Euler, \textcolor{keyword}{true});}
\DoxyCodeLine{00733                 YCrusher = \textcolor{keyword}{new} FloatCrusher(BitPresets.Bits12, -\/180f, 180f, Axis.Y, TRSType.Euler, \textcolor{keyword}{true});}
\DoxyCodeLine{00734                 ZCrusher = \textcolor{keyword}{new} FloatCrusher(BitPresets.Bits10, -\/180f, 180f, Axis.Z, TRSType.Euler, \textcolor{keyword}{true});}
\DoxyCodeLine{00735                 \textcolor{comment}{//ucrusher = new FloatCrusher(Axis.Uniform, TRSType.Scale, true);}}
\DoxyCodeLine{00736                 QCrusher = \textcolor{keyword}{new} QuatCrusher(\textcolor{keyword}{true}, \textcolor{keyword}{false});}
\DoxyCodeLine{00737             \}}
\DoxyCodeLine{00738             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (trs == TRSType.Scale)}
\DoxyCodeLine{00739             \{}
\DoxyCodeLine{00740                 XCrusher = \textcolor{keyword}{new} FloatCrusher(BitPresets.Bits12, 0f, 2f, Axis.X, TRSType.Scale, \textcolor{keyword}{true});}
\DoxyCodeLine{00741                 YCrusher = \textcolor{keyword}{new} FloatCrusher(BitPresets.Bits10, 0f, 2f, Axis.Y, TRSType.Scale, \textcolor{keyword}{true});}
\DoxyCodeLine{00742                 ZCrusher = \textcolor{keyword}{new} FloatCrusher(BitPresets.Bits10, 0f, 2f, Axis.Z, TRSType.Scale, \textcolor{keyword}{true});}
\DoxyCodeLine{00743                 UCrusher = \textcolor{keyword}{new} FloatCrusher(BitPresets.Bits10, 0f, 2f, Axis.Uniform, TRSType.Scale, \textcolor{keyword}{true});}
\DoxyCodeLine{00744             \}}
\DoxyCodeLine{00745             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00746             \{}
\DoxyCodeLine{00747                 XCrusher = \textcolor{keyword}{new} FloatCrusher(BitPresets.Bits12, -\/20f, 20f, Axis.X, trs, \textcolor{keyword}{true});}
\DoxyCodeLine{00748                 YCrusher = \textcolor{keyword}{new} FloatCrusher(BitPresets.Bits10, -\/5f, 5f, Axis.Y, trs, \textcolor{keyword}{true});}
\DoxyCodeLine{00749                 ZCrusher = \textcolor{keyword}{new} FloatCrusher(BitPresets.Bits10, -\/5f, 5f, Axis.Z, trs, \textcolor{keyword}{true});}
\DoxyCodeLine{00750 }
\DoxyCodeLine{00751             \}}
\DoxyCodeLine{00752         \}}
\DoxyCodeLine{00753 }
\DoxyCodeLine{00754 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{00755 }
\DoxyCodeLine{00756 \textcolor{preprocessor}{        \#region Byte[] Writers}}
\DoxyCodeLine{00757 }
\DoxyCodeLine{00758 \textcolor{preprocessor}{\#if UNITY\_EDITOR || DEVELOPMENT\_BUILD}}
\DoxyCodeLine{00759         \textcolor{keyword}{private} \textcolor{keywordtype}{void} TryingToWriteQuatAsEulerError()}
\DoxyCodeLine{00760         \{}
\DoxyCodeLine{00761             \textcolor{keywordflow}{if} (TRSType != TRSType.Quaternion)}
\DoxyCodeLine{00762                 Debug.LogError(\textcolor{stringliteral}{"{}You seem to be trying to compress a Quaternion with a crusher that is set up for "{}} +}
\DoxyCodeLine{00763                     System.Enum.GetName(typeof(TRSType), TRSType) + \textcolor{stringliteral}{"{}."{}});}
\DoxyCodeLine{00764         \}}
\DoxyCodeLine{00765 }
\DoxyCodeLine{00766         \textcolor{keyword}{private} \textcolor{keywordtype}{void} TryingToCrushTransformUsingGenericWarning()}
\DoxyCodeLine{00767         \{}
\DoxyCodeLine{00768             Debug.Log(\textcolor{stringliteral}{"{}You are sending a transform to be crushed, but the Element Type is Generic -\/ did you want Position? Ideally change the crusher from Generic to the correct TRS."{}});}
\DoxyCodeLine{00769         \}}
\DoxyCodeLine{00770 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00771 }
\DoxyCodeLine{00775         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Write(CompressedElement nonalloc, Transform trans, \textcolor{keywordtype}{byte}[] bytes, ref \textcolor{keywordtype}{int} bitposition, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{00776         \{}
\DoxyCodeLine{00777 }
\DoxyCodeLine{00778             \textcolor{keywordflow}{switch} (TRSType)}
\DoxyCodeLine{00779             \{}
\DoxyCodeLine{00780 }
\DoxyCodeLine{00781                 \textcolor{keywordflow}{case} TRSType.Position:}
\DoxyCodeLine{00782                     Write(nonalloc, (local) ? trans.localPosition : trans.position, bytes, ref bitposition, bcl);}
\DoxyCodeLine{00783                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00784 }
\DoxyCodeLine{00785                 \textcolor{keywordflow}{case} TRSType.Euler:}
\DoxyCodeLine{00786                     Write(nonalloc, (local) ? trans.localEulerAngles : trans.eulerAngles, bytes, ref bitposition, bcl);}
\DoxyCodeLine{00787                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00788 }
\DoxyCodeLine{00789                 \textcolor{keywordflow}{case} TRSType.Quaternion:}
\DoxyCodeLine{00790                     Write(nonalloc, (local) ? trans.localRotation : trans.rotation, bytes, ref bitposition, bcl);}
\DoxyCodeLine{00791                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00792 }
\DoxyCodeLine{00793                 \textcolor{keywordflow}{case} TRSType.Scale:}
\DoxyCodeLine{00794                     Write(nonalloc, trans.localScale, bytes, ref bitposition, bcl);}
\DoxyCodeLine{00795                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00796 }
\DoxyCodeLine{00797                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00798 \textcolor{preprocessor}{\#if UNITY\_EDITOR}}
\DoxyCodeLine{00799                     TryingToCrushTransformUsingGenericWarning();}
\DoxyCodeLine{00800 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00801                     Write(nonalloc, (local) ? trans.localPosition : trans.position, bytes, ref bitposition, bcl);}
\DoxyCodeLine{00802                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00803             \}}
\DoxyCodeLine{00804         \}}
\DoxyCodeLine{00805         [System.Obsolete()]}
\DoxyCodeLine{00806         \textcolor{keyword}{public} CompressedElement Write(Transform trans, \textcolor{keywordtype}{byte}[] bytes, ref \textcolor{keywordtype}{int} bitposition, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{00807         \{}
\DoxyCodeLine{00808             \textcolor{keywordflow}{switch} (TRSType)}
\DoxyCodeLine{00809             \{}
\DoxyCodeLine{00810                 \textcolor{keywordflow}{case} TRSType.Position:}
\DoxyCodeLine{00811                     \textcolor{keywordflow}{return} Write((local) ? trans.localPosition : trans.position, bytes, ref bitposition, bcl);}
\DoxyCodeLine{00812 }
\DoxyCodeLine{00813                 \textcolor{keywordflow}{case} TRSType.Euler:}
\DoxyCodeLine{00814                     \textcolor{keywordflow}{return} Write((local) ? trans.localEulerAngles : trans.eulerAngles, bytes, ref bitposition, bcl);}
\DoxyCodeLine{00815 }
\DoxyCodeLine{00816                 \textcolor{keywordflow}{case} TRSType.Quaternion:}
\DoxyCodeLine{00817                     \textcolor{keywordflow}{return} Write((local) ? trans.localRotation : trans.rotation, bytes, ref bitposition, bcl);}
\DoxyCodeLine{00818 }
\DoxyCodeLine{00819                 \textcolor{keywordflow}{case} TRSType.Scale:}
\DoxyCodeLine{00820                     \textcolor{keywordflow}{return} Write(trans.localScale, bytes, ref bitposition, bcl);}
\DoxyCodeLine{00821 }
\DoxyCodeLine{00822                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00823 \textcolor{preprocessor}{\#if UNITY\_EDITOR}}
\DoxyCodeLine{00824                     TryingToCrushTransformUsingGenericWarning();}
\DoxyCodeLine{00825 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00826                     \textcolor{keywordflow}{return} Write((local) ? trans.localPosition : trans.position, bytes, ref bitposition, bcl);}
\DoxyCodeLine{00827             \}}
\DoxyCodeLine{00828         \}}
\DoxyCodeLine{00829 }
\DoxyCodeLine{00833         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Write(CompressedElement ce, \textcolor{keywordtype}{byte}[] buffer, ref \textcolor{keywordtype}{int} bitposition, IncludedAxes ia = IncludedAxes.XYZ, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{00834         \{}
\DoxyCodeLine{00835             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{00836                 CacheValues();}
\DoxyCodeLine{00837 }
\DoxyCodeLine{00838             \textcolor{keywordflow}{if} (TRSType == TRSType.Quaternion)}
\DoxyCodeLine{00839             \{}
\DoxyCodeLine{00840                 \_qcrusher.Write((ulong)ce.cQuat, buffer, ref bitposition);}
\DoxyCodeLine{00841             \}}
\DoxyCodeLine{00842             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cache\_isUniformScale)}
\DoxyCodeLine{00843             \{}
\DoxyCodeLine{00844                 \_ucrusher.Write(ce.cUniform, buffer, ref bitposition, bcl);}
\DoxyCodeLine{00845             \}}
\DoxyCodeLine{00846             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00847             \{}
\DoxyCodeLine{00848                 \textcolor{keywordflow}{if} (cache\_xEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 1) != 0) \_xcrusher.Write(ce.cx, buffer, ref bitposition, bcl);}
\DoxyCodeLine{00849                 \textcolor{keywordflow}{if} (cache\_yEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 2) != 0) \_ycrusher.Write(ce.cy, buffer, ref bitposition, bcl);}
\DoxyCodeLine{00850                 \textcolor{keywordflow}{if} (cache\_zEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 4) != 0) \_zcrusher.Write(ce.cz, buffer, ref bitposition, bcl);}
\DoxyCodeLine{00851             \}}
\DoxyCodeLine{00852         \}}
\DoxyCodeLine{00853 }
\DoxyCodeLine{00857         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Write(CompressedElement ce, uint[] buffer, ref \textcolor{keywordtype}{int} bitposition, IncludedAxes ia = IncludedAxes.XYZ, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{00858         \{}
\DoxyCodeLine{00859             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{00860                 CacheValues();}
\DoxyCodeLine{00861 }
\DoxyCodeLine{00862             \textcolor{keywordflow}{if} (TRSType == TRSType.Quaternion)}
\DoxyCodeLine{00863             \{}
\DoxyCodeLine{00864                 \_qcrusher.Write((ulong)ce.cQuat, buffer, ref bitposition);}
\DoxyCodeLine{00865             \}}
\DoxyCodeLine{00866             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cache\_isUniformScale)}
\DoxyCodeLine{00867             \{}
\DoxyCodeLine{00868                 \_ucrusher.Write(ce.cUniform, buffer, ref bitposition, bcl);}
\DoxyCodeLine{00869             \}}
\DoxyCodeLine{00870             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00871             \{}
\DoxyCodeLine{00872                 \textcolor{keywordflow}{if} (cache\_xEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 1) != 0) \_xcrusher.Write(ce.cx, buffer, ref bitposition, bcl);}
\DoxyCodeLine{00873                 \textcolor{keywordflow}{if} (cache\_yEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 2) != 0) \_ycrusher.Write(ce.cy, buffer, ref bitposition, bcl);}
\DoxyCodeLine{00874                 \textcolor{keywordflow}{if} (cache\_zEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 4) != 0) \_zcrusher.Write(ce.cz, buffer, ref bitposition, bcl);}
\DoxyCodeLine{00875             \}}
\DoxyCodeLine{00876         \}}
\DoxyCodeLine{00877 }
\DoxyCodeLine{00881         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Write(CompressedElement ce, ulong[] buffer, ref \textcolor{keywordtype}{int} bitposition, IncludedAxes ia = IncludedAxes.XYZ, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{00882         \{}
\DoxyCodeLine{00883             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{00884                 CacheValues();}
\DoxyCodeLine{00885 }
\DoxyCodeLine{00886             \textcolor{keywordflow}{if} (TRSType == TRSType.Quaternion)}
\DoxyCodeLine{00887             \{}
\DoxyCodeLine{00888                 \_qcrusher.Write((ulong)ce.cQuat, buffer, ref bitposition);}
\DoxyCodeLine{00889             \}}
\DoxyCodeLine{00890             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cache\_isUniformScale)}
\DoxyCodeLine{00891             \{}
\DoxyCodeLine{00892                 \_ucrusher.Write(ce.cUniform, buffer, ref bitposition, bcl);}
\DoxyCodeLine{00893             \}}
\DoxyCodeLine{00894             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00895             \{}
\DoxyCodeLine{00896                 \textcolor{keywordflow}{if} (cache\_xEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 1) != 0) \_xcrusher.Write(ce.cx, buffer, ref bitposition, bcl);}
\DoxyCodeLine{00897                 \textcolor{keywordflow}{if} (cache\_yEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 2) != 0) \_ycrusher.Write(ce.cy, buffer, ref bitposition, bcl);}
\DoxyCodeLine{00898                 \textcolor{keywordflow}{if} (cache\_zEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 4) != 0) \_zcrusher.Write(ce.cz, buffer, ref bitposition, bcl);}
\DoxyCodeLine{00899             \}}
\DoxyCodeLine{00900         \}}
\DoxyCodeLine{00901 }
\DoxyCodeLine{00902         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Write(CompressedElement nonalloc, Vector3 v3, \textcolor{keywordtype}{byte}[] bytes, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{00903         \{}
\DoxyCodeLine{00904             \textcolor{keywordtype}{int} bitposition = 0;}
\DoxyCodeLine{00905             Write(nonalloc, v3, bytes, ref bitposition);}
\DoxyCodeLine{00906         \}}
\DoxyCodeLine{00907         [System.Obsolete()]}
\DoxyCodeLine{00908         \textcolor{keyword}{public} CompressedElement Write(Vector3 v3, \textcolor{keywordtype}{byte}[] bytes, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{00909         \{}
\DoxyCodeLine{00910             \textcolor{keywordtype}{int} bitposition = 0;}
\DoxyCodeLine{00911             \textcolor{keywordflow}{return} Write(v3, bytes, ref bitposition);}
\DoxyCodeLine{00912         \}}
\DoxyCodeLine{00913 }
\DoxyCodeLine{00922         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Write(CompressedElement nonalloc, Vector3 v3, \textcolor{keywordtype}{byte}[] bytes, ref \textcolor{keywordtype}{int} bitposition, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{00923         \{}
\DoxyCodeLine{00924             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{00925                 CacheValues();}
\DoxyCodeLine{00926 }
\DoxyCodeLine{00927             \textcolor{keywordflow}{if} (cache\_isUniformScale)}
\DoxyCodeLine{00928             \{}
\DoxyCodeLine{00929                 CompressedFloat c = \_ucrusher.Write(uniformAxes == UniformAxes.YZ ? v3.y : v3.x, bytes, ref bitposition, bcl);}
\DoxyCodeLine{00930                 nonalloc.Set(\textcolor{keyword}{this}, (uint)c.cvalue);}
\DoxyCodeLine{00931             \}}
\DoxyCodeLine{00932 }
\DoxyCodeLine{00933             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (TRSType == TRSType.Quaternion)}
\DoxyCodeLine{00934             \{}
\DoxyCodeLine{00935                 ulong c = \_qcrusher.Write(Quaternion.Euler(v3), bytes, ref bitposition);}
\DoxyCodeLine{00936                 nonalloc.Set(\textcolor{keyword}{this}, c);}
\DoxyCodeLine{00937             \}}
\DoxyCodeLine{00938             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00939             \{}
\DoxyCodeLine{00940                 \textcolor{keywordflow}{if} (cache\_mustCorrectRotationX)}
\DoxyCodeLine{00941                     v3 = FloatCrusherUtilities.GetXCorrectedEuler(v3);}
\DoxyCodeLine{00942 }
\DoxyCodeLine{00943                 nonalloc.Set(}
\DoxyCodeLine{00944                     \textcolor{keyword}{this},}
\DoxyCodeLine{00945                     cache\_xEnabled ? \_xcrusher.Write(v3.x, bytes, ref bitposition, bcl) : \textcolor{keyword}{new} CompressedFloat(),}
\DoxyCodeLine{00946                     cache\_yEnabled ? \_ycrusher.Write(v3.y, bytes, ref bitposition, bcl) : \textcolor{keyword}{new} CompressedFloat(),}
\DoxyCodeLine{00947                     cache\_zEnabled ? \_zcrusher.Write(v3.z, bytes, ref bitposition, bcl) : \textcolor{keyword}{new} CompressedFloat());}
\DoxyCodeLine{00948             \}}
\DoxyCodeLine{00949         \}}
\DoxyCodeLine{00950         [System.Obsolete()]}
\DoxyCodeLine{00951         \textcolor{keyword}{public} CompressedElement Write(Vector3 v3, \textcolor{keywordtype}{byte}[] bytes, ref \textcolor{keywordtype}{int} bitposition, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{00952         \{}
\DoxyCodeLine{00953             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{00954                 CacheValues();}
\DoxyCodeLine{00955 }
\DoxyCodeLine{00956             \textcolor{keywordflow}{if} (cache\_isUniformScale)}
\DoxyCodeLine{00957             \{}
\DoxyCodeLine{00958                 CompressedValue c = \_ucrusher.Write(uniformAxes == UniformAxes.YZ ? v3.y : v3.x, bytes, ref bitposition, bcl);}
\DoxyCodeLine{00959                 \textcolor{keywordflow}{return} \textcolor{keyword}{new} CompressedElement(\textcolor{keyword}{this}, (uint)c.cvalue);}
\DoxyCodeLine{00960             \}}
\DoxyCodeLine{00961 }
\DoxyCodeLine{00962             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (TRSType == TRSType.Quaternion)}
\DoxyCodeLine{00963             \{}
\DoxyCodeLine{00964                 ulong c = \_qcrusher.Write(Quaternion.Euler(v3), bytes, ref bitposition);}
\DoxyCodeLine{00965                 \textcolor{keywordflow}{return} \textcolor{keyword}{new} CompressedElement(\textcolor{keyword}{this}, c);}
\DoxyCodeLine{00966             \}}
\DoxyCodeLine{00967 }
\DoxyCodeLine{00968             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cache\_mustCorrectRotationX)}
\DoxyCodeLine{00969                 v3 = FloatCrusherUtilities.GetXCorrectedEuler(v3);}
\DoxyCodeLine{00970 }
\DoxyCodeLine{00971             \textcolor{keywordflow}{return} \textcolor{keyword}{new} CompressedElement(}
\DoxyCodeLine{00972                 \textcolor{keyword}{this},}
\DoxyCodeLine{00973                 cache\_xEnabled ? (uint)\_xcrusher.Write(v3.x, bytes, ref bitposition, bcl) : 0,}
\DoxyCodeLine{00974                 cache\_yEnabled ? (uint)\_ycrusher.Write(v3.y, bytes, ref bitposition, bcl) : 0,}
\DoxyCodeLine{00975                 cache\_zEnabled ? (uint)\_zcrusher.Write(v3.z, bytes, ref bitposition, bcl) : 0);}
\DoxyCodeLine{00976         \}}
\DoxyCodeLine{00977 }
\DoxyCodeLine{00978         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Write(CompressedElement nonalloc, Quaternion quat, \textcolor{keywordtype}{byte}[] bytes, ref \textcolor{keywordtype}{int} bitposition, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{00979         \{}
\DoxyCodeLine{00980             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{00981                 CacheValues();}
\DoxyCodeLine{00982 }
\DoxyCodeLine{00983 \textcolor{preprocessor}{\#if UNITY\_EDITOR || DEVELOPMENT\_BUILD}}
\DoxyCodeLine{00984             TryingToWriteQuatAsEulerError();}
\DoxyCodeLine{00985 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00986             nonalloc.Set(\textcolor{keyword}{this}, \_qcrusher.Write(quat, bytes, ref bitposition));}
\DoxyCodeLine{00987         \}}
\DoxyCodeLine{00988         [System.Obsolete()]}
\DoxyCodeLine{00989         \textcolor{keyword}{public} CompressedElement Write(Quaternion quat, \textcolor{keywordtype}{byte}[] bytes, ref \textcolor{keywordtype}{int} bitposition, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{00990         \{}
\DoxyCodeLine{00991             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{00992                 CacheValues();}
\DoxyCodeLine{00993 }
\DoxyCodeLine{00994 \textcolor{preprocessor}{\#if UNITY\_EDITOR || DEVELOPMENT\_BUILD}}
\DoxyCodeLine{00995             TryingToWriteQuatAsEulerError();}
\DoxyCodeLine{00996 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00997             \textcolor{keywordflow}{return} \textcolor{keyword}{new} CompressedElement(\textcolor{keyword}{this}, \_qcrusher.Write(quat, bytes, ref bitposition));}
\DoxyCodeLine{00998         \}}
\DoxyCodeLine{00999 }
\DoxyCodeLine{01000 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{01001 }
\DoxyCodeLine{01002 \textcolor{preprocessor}{        \#region ulong[] Writers}}
\DoxyCodeLine{01003 }
\DoxyCodeLine{01004         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Write(CompressedElement nonalloc, Transform trans, ulong[] buffer, ref \textcolor{keywordtype}{int} bitposition, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01005         \{}
\DoxyCodeLine{01006             \textcolor{keywordflow}{switch} (TRSType)}
\DoxyCodeLine{01007             \{}
\DoxyCodeLine{01008                 \textcolor{keywordflow}{case} TRSType.Position:}
\DoxyCodeLine{01009 }
\DoxyCodeLine{01010                     Write(nonalloc, (local) ? trans.localPosition : trans.position, buffer, ref bitposition, bcl);}
\DoxyCodeLine{01011                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01012 }
\DoxyCodeLine{01013                 \textcolor{keywordflow}{case} TRSType.Euler:}
\DoxyCodeLine{01014                     Write(nonalloc, (local) ? trans.localEulerAngles : trans.eulerAngles, buffer, ref bitposition, bcl);}
\DoxyCodeLine{01015                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01016 }
\DoxyCodeLine{01017                 \textcolor{keywordflow}{case} TRSType.Quaternion:}
\DoxyCodeLine{01018                     Write(nonalloc, (local) ? trans.localRotation : trans.rotation, buffer, ref bitposition, bcl);}
\DoxyCodeLine{01019                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01020 }
\DoxyCodeLine{01021                 \textcolor{keywordflow}{case} TRSType.Scale:}
\DoxyCodeLine{01022                     Write(nonalloc, trans.localScale, buffer, ref bitposition, bcl);}
\DoxyCodeLine{01023                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01024 }
\DoxyCodeLine{01025                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01026 \textcolor{preprocessor}{\#if UNITY\_EDITOR}}
\DoxyCodeLine{01027                     Debug.Log(\textcolor{stringliteral}{"{}You are sending a transform to be crushed, but the Element Type is Generic -\/ did you want Position?"{}});}
\DoxyCodeLine{01028 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01029                     Write(nonalloc, (local) ? trans.localPosition : trans.position, buffer, ref bitposition, bcl);}
\DoxyCodeLine{01030                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01031             \}}
\DoxyCodeLine{01032         \}}
\DoxyCodeLine{01033 }
\DoxyCodeLine{01034         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Write(CompressedElement nonalloc, Vector3 v3, ulong[] buffer, ref \textcolor{keywordtype}{int} bitposition, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01035         \{}
\DoxyCodeLine{01036             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01037                 CacheValues();}
\DoxyCodeLine{01038 }
\DoxyCodeLine{01039             \textcolor{keywordflow}{if} (cache\_isUniformScale)}
\DoxyCodeLine{01040             \{}
\DoxyCodeLine{01041                 CompressedFloat c = \_ucrusher.Write(uniformAxes == UniformAxes.YZ ? v3.y : v3.x, buffer, ref bitposition, bcl);}
\DoxyCodeLine{01042                 nonalloc.Set(\textcolor{keyword}{this}, (uint)c.cvalue);}
\DoxyCodeLine{01043             \}}
\DoxyCodeLine{01044 }
\DoxyCodeLine{01045             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (TRSType == TRSType.Quaternion)}
\DoxyCodeLine{01046             \{}
\DoxyCodeLine{01047                 ulong c = \_qcrusher.Write(Quaternion.Euler(v3), buffer, ref bitposition);}
\DoxyCodeLine{01048                 nonalloc.Set(\textcolor{keyword}{this}, c);}
\DoxyCodeLine{01049             \}}
\DoxyCodeLine{01050             \textcolor{keywordflow}{else}}
\DoxyCodeLine{01051             \{}
\DoxyCodeLine{01052                 \textcolor{keywordflow}{if} (cache\_mustCorrectRotationX)}
\DoxyCodeLine{01053                     v3 = FloatCrusherUtilities.GetXCorrectedEuler(v3);}
\DoxyCodeLine{01054 }
\DoxyCodeLine{01055                 nonalloc.Set(}
\DoxyCodeLine{01056                     \textcolor{keyword}{this},}
\DoxyCodeLine{01057                     cache\_xEnabled ? \_xcrusher.Write(v3.x, buffer, ref bitposition, bcl) : \textcolor{keyword}{new} CompressedFloat(),}
\DoxyCodeLine{01058                     cache\_yEnabled ? \_ycrusher.Write(v3.y, buffer, ref bitposition, bcl) : \textcolor{keyword}{new} CompressedFloat(),}
\DoxyCodeLine{01059                     cache\_zEnabled ? \_zcrusher.Write(v3.z, buffer, ref bitposition, bcl) : \textcolor{keyword}{new} CompressedFloat());}
\DoxyCodeLine{01060             \}}
\DoxyCodeLine{01061         \}}
\DoxyCodeLine{01062 }
\DoxyCodeLine{01063         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Write(CompressedElement nonalloc, Quaternion quat, ulong[] bytes, ref \textcolor{keywordtype}{int} bitposition, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01064         \{}
\DoxyCodeLine{01065             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01066                 CacheValues();}
\DoxyCodeLine{01067 }
\DoxyCodeLine{01068 \textcolor{preprocessor}{\#if UNITY\_EDITOR || DEVELOPMENT\_BUILD}}
\DoxyCodeLine{01069             \textcolor{keywordflow}{if} (TRSType != TRSType.Quaternion)}
\DoxyCodeLine{01070                 Debug.LogError(\textcolor{stringliteral}{"{}You seem to be trying to compress a Quaternion with a crusher that is set up for "{}} +}
\DoxyCodeLine{01071                     System.Enum.GetName(typeof(TRSType), TRSType) + \textcolor{stringliteral}{"{}."{}});}
\DoxyCodeLine{01072 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01073             nonalloc.Set(\textcolor{keyword}{this}, \_qcrusher.Write(quat, bytes, ref bitposition));}
\DoxyCodeLine{01074         \}}
\DoxyCodeLine{01075 }
\DoxyCodeLine{01076 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{01077 }
\DoxyCodeLine{01078 \textcolor{preprocessor}{        \#region byte[] Readers}}
\DoxyCodeLine{01079 }
\DoxyCodeLine{01083         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Read(CompressedElement nonalloc, \textcolor{keywordtype}{byte}[] bytes, IncludedAxes ia = IncludedAxes.XYZ, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01084         \{}
\DoxyCodeLine{01085             \textcolor{keywordtype}{int} bitposition = 0;}
\DoxyCodeLine{01086             Read(nonalloc, bytes, ref bitposition, ia, bcl);}
\DoxyCodeLine{01087         \}}
\DoxyCodeLine{01088 }
\DoxyCodeLine{01093         \textcolor{keyword}{public} CompressedElement Read(\textcolor{keywordtype}{byte}[] buffer, IncludedAxes ia = IncludedAxes.XYZ, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01094         \{}
\DoxyCodeLine{01095             \textcolor{keywordtype}{int} bitposition = 0;}
\DoxyCodeLine{01096             Read(CompressedElement.reusable, buffer, ref bitposition, ia, bcl);}
\DoxyCodeLine{01097             \textcolor{keywordflow}{return} CompressedElement.reusable;}
\DoxyCodeLine{01098         \}}
\DoxyCodeLine{01099 }
\DoxyCodeLine{01103         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Read(CompressedElement nonalloc, \textcolor{keywordtype}{byte}[] bytes, ref \textcolor{keywordtype}{int} bitposition, IncludedAxes ia = IncludedAxes.XYZ, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01104         \{}
\DoxyCodeLine{01105             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01106                 CacheValues();}
\DoxyCodeLine{01107 }
\DoxyCodeLine{01108             \textcolor{keywordflow}{if} (TRSType == TRSType.Quaternion)}
\DoxyCodeLine{01109             \{}
\DoxyCodeLine{01110                 nonalloc.Set(\textcolor{keyword}{this}, (ulong)bytes.Read(ref bitposition, cache\_qBits));}
\DoxyCodeLine{01111             \}}
\DoxyCodeLine{01112 }
\DoxyCodeLine{01113             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cache\_isUniformScale)}
\DoxyCodeLine{01114             \{}
\DoxyCodeLine{01115                 nonalloc.Set(\textcolor{keyword}{this}, (uint)bytes.Read(ref bitposition, cache\_uBits[(\textcolor{keywordtype}{int})bcl]));}
\DoxyCodeLine{01116             \}}
\DoxyCodeLine{01117             \textcolor{keywordflow}{else}}
\DoxyCodeLine{01118             \{}
\DoxyCodeLine{01119                 CompressedFloat cx, cy, cz;}
\DoxyCodeLine{01120                 \textcolor{keywordflow}{if} ((ia \& IncludedAxes.X) != 0)}
\DoxyCodeLine{01121                 \{}
\DoxyCodeLine{01122                     \textcolor{keywordtype}{int} xbits = cache\_xBits[(int)bcl];}
\DoxyCodeLine{01123                     cx = cache\_xEnabled ? \textcolor{keyword}{new} CompressedFloat(\_xcrusher, (uint)bytes.Read(ref bitposition, xbits)) : \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01124                 \}}
\DoxyCodeLine{01125                 \textcolor{keywordflow}{else} cx = \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01126 }
\DoxyCodeLine{01127                 \textcolor{keywordflow}{if} ((ia \& IncludedAxes.Y) != 0)}
\DoxyCodeLine{01128                 \{}
\DoxyCodeLine{01129                     \textcolor{keywordtype}{int} ybits = cache\_yBits[(int)bcl];}
\DoxyCodeLine{01130                     cy = cache\_yEnabled ? \textcolor{keyword}{new} CompressedFloat(\_ycrusher, (uint)bytes.Read(ref bitposition, ybits)) : \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01131 }
\DoxyCodeLine{01132                 \}}
\DoxyCodeLine{01133                 \textcolor{keywordflow}{else} cy = \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01134 }
\DoxyCodeLine{01135                 \textcolor{keywordflow}{if} ((ia \& IncludedAxes.Z) != 0)}
\DoxyCodeLine{01136                 \{}
\DoxyCodeLine{01137                     \textcolor{keywordtype}{int} zbits = cache\_zBits[(int)bcl];}
\DoxyCodeLine{01138                     cz = cache\_zEnabled ? \textcolor{keyword}{new} CompressedFloat(\_zcrusher, (uint)bytes.Read(ref bitposition, zbits)) : \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01139                 \}}
\DoxyCodeLine{01140                 \textcolor{keywordflow}{else} cz = \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01141 }
\DoxyCodeLine{01142                 nonalloc.Set(\textcolor{keyword}{this}, cx, cy, cz);}
\DoxyCodeLine{01143             \}}
\DoxyCodeLine{01144 }
\DoxyCodeLine{01145         \}}
\DoxyCodeLine{01146 }
\DoxyCodeLine{01152         \textcolor{keyword}{public} CompressedElement Read(\textcolor{keywordtype}{byte}[] bytes, ref \textcolor{keywordtype}{int} bitposition, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01153         \{}
\DoxyCodeLine{01154             Read(CompressedElement.reusable, bytes, ref bitposition);}
\DoxyCodeLine{01155             \textcolor{keywordflow}{return} CompressedElement.reusable;}
\DoxyCodeLine{01156         \}}
\DoxyCodeLine{01157 }
\DoxyCodeLine{01161         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Read(CompressedElement nonalloc, ulong[] buffer, ref \textcolor{keywordtype}{int} bitposition, IncludedAxes ia = IncludedAxes.XYZ, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01162         \{}
\DoxyCodeLine{01163             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01164                 CacheValues();}
\DoxyCodeLine{01165 }
\DoxyCodeLine{01166             \textcolor{keywordflow}{if} (TRSType == TRSType.Quaternion)}
\DoxyCodeLine{01167             \{}
\DoxyCodeLine{01168                 nonalloc.Set(\textcolor{keyword}{this}, (ulong)buffer.Read(ref bitposition, cache\_qBits));}
\DoxyCodeLine{01169             \}}
\DoxyCodeLine{01170 }
\DoxyCodeLine{01171             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cache\_isUniformScale)}
\DoxyCodeLine{01172             \{}
\DoxyCodeLine{01173                 nonalloc.Set(\textcolor{keyword}{this}, (uint)buffer.Read(ref bitposition, cache\_uBits[(\textcolor{keywordtype}{int})bcl]));}
\DoxyCodeLine{01174             \}}
\DoxyCodeLine{01175             \textcolor{keywordflow}{else}}
\DoxyCodeLine{01176             \{}
\DoxyCodeLine{01177                 CompressedFloat cx, cy, cz;}
\DoxyCodeLine{01178                 \textcolor{keywordflow}{if} ((ia \& IncludedAxes.X) != 0)}
\DoxyCodeLine{01179                 \{}
\DoxyCodeLine{01180                     \textcolor{keywordtype}{int} xbits = cache\_xBits[(int)bcl];}
\DoxyCodeLine{01181                     cx = cache\_xEnabled ? \textcolor{keyword}{new} CompressedFloat(\_xcrusher, (uint)buffer.Read(ref bitposition, xbits)) : \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01182                 \}}
\DoxyCodeLine{01183                 \textcolor{keywordflow}{else} cx = \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01184 }
\DoxyCodeLine{01185                 \textcolor{keywordflow}{if} ((ia \& IncludedAxes.Y) != 0)}
\DoxyCodeLine{01186                 \{}
\DoxyCodeLine{01187                     \textcolor{keywordtype}{int} ybits = cache\_yBits[(int)bcl];}
\DoxyCodeLine{01188                     cy = cache\_yEnabled ? \textcolor{keyword}{new} CompressedFloat(\_ycrusher, (uint)buffer.Read(ref bitposition, ybits)) : \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01189 }
\DoxyCodeLine{01190                 \}}
\DoxyCodeLine{01191                 \textcolor{keywordflow}{else} cy = \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01192 }
\DoxyCodeLine{01193                 \textcolor{keywordflow}{if} ((ia \& IncludedAxes.Z) != 0)}
\DoxyCodeLine{01194                 \{}
\DoxyCodeLine{01195                     \textcolor{keywordtype}{int} zbits = cache\_zBits[(int)bcl];}
\DoxyCodeLine{01196                     cz = cache\_zEnabled ? \textcolor{keyword}{new} CompressedFloat(\_zcrusher, (uint)buffer.Read(ref bitposition, zbits)) : \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01197                 \}}
\DoxyCodeLine{01198                 \textcolor{keywordflow}{else} cz = \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01199 }
\DoxyCodeLine{01200                 nonalloc.Set(\textcolor{keyword}{this}, cx, cy, cz);}
\DoxyCodeLine{01201             \}}
\DoxyCodeLine{01202         \}}
\DoxyCodeLine{01203 }
\DoxyCodeLine{01207         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Read(CompressedElement nonalloc, uint[] buffer, ref \textcolor{keywordtype}{int} bitposition, IncludedAxes ia = IncludedAxes.XYZ, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01208         \{}
\DoxyCodeLine{01209             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01210                 CacheValues();}
\DoxyCodeLine{01211 }
\DoxyCodeLine{01212             \textcolor{keywordflow}{if} (TRSType == TRSType.Quaternion)}
\DoxyCodeLine{01213             \{}
\DoxyCodeLine{01214                 nonalloc.Set(\textcolor{keyword}{this}, (ulong)buffer.Read(ref bitposition, cache\_qBits));}
\DoxyCodeLine{01215             \}}
\DoxyCodeLine{01216 }
\DoxyCodeLine{01217             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cache\_isUniformScale)}
\DoxyCodeLine{01218             \{}
\DoxyCodeLine{01219                 nonalloc.Set(\textcolor{keyword}{this}, (uint)buffer.Read(ref bitposition, cache\_uBits[(\textcolor{keywordtype}{int})bcl]));}
\DoxyCodeLine{01220             \}}
\DoxyCodeLine{01221             \textcolor{keywordflow}{else}}
\DoxyCodeLine{01222             \{}
\DoxyCodeLine{01223                 CompressedFloat cx, cy, cz;}
\DoxyCodeLine{01224                 \textcolor{keywordflow}{if} ((ia \& IncludedAxes.X) != 0)}
\DoxyCodeLine{01225                 \{}
\DoxyCodeLine{01226                     \textcolor{keywordtype}{int} xbits = cache\_xBits[(int)bcl];}
\DoxyCodeLine{01227                     cx = cache\_xEnabled ? \textcolor{keyword}{new} CompressedFloat(\_xcrusher, (uint)buffer.Read(ref bitposition, xbits)) : \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01228                 \}}
\DoxyCodeLine{01229                 \textcolor{keywordflow}{else} cx = \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01230 }
\DoxyCodeLine{01231                 \textcolor{keywordflow}{if} ((ia \& IncludedAxes.Y) != 0)}
\DoxyCodeLine{01232                 \{}
\DoxyCodeLine{01233                     \textcolor{keywordtype}{int} ybits = cache\_yBits[(int)bcl];}
\DoxyCodeLine{01234                     cy = cache\_yEnabled ? \textcolor{keyword}{new} CompressedFloat(\_ycrusher, (uint)buffer.Read(ref bitposition, ybits)) : \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01235 }
\DoxyCodeLine{01236                 \}}
\DoxyCodeLine{01237                 \textcolor{keywordflow}{else} cy = \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01238 }
\DoxyCodeLine{01239                 \textcolor{keywordflow}{if} ((ia \& IncludedAxes.Z) != 0)}
\DoxyCodeLine{01240                 \{}
\DoxyCodeLine{01241                     \textcolor{keywordtype}{int} zbits = cache\_zBits[(int)bcl];}
\DoxyCodeLine{01242                     cz = cache\_zEnabled ? \textcolor{keyword}{new} CompressedFloat(\_zcrusher, (uint)buffer.Read(ref bitposition, zbits)) : \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01243                 \}}
\DoxyCodeLine{01244                 \textcolor{keywordflow}{else} cz = \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01245 }
\DoxyCodeLine{01246                 nonalloc.Set(\textcolor{keyword}{this}, cx, cy, cz);}
\DoxyCodeLine{01247             \}}
\DoxyCodeLine{01248         \}}
\DoxyCodeLine{01249 }
\DoxyCodeLine{01250 }
\DoxyCodeLine{01251         \textcolor{keyword}{public} Element ReadAndDecompress(\textcolor{keywordtype}{byte}[] bytes, ref \textcolor{keywordtype}{int} bitposition, IncludedAxes ia = IncludedAxes.XYZ, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01252         \{}
\DoxyCodeLine{01253             Read(reusableCE, bytes, ref bitposition, ia, bcl);}
\DoxyCodeLine{01254             \textcolor{keywordflow}{return} Decompress(reusableCE);}
\DoxyCodeLine{01255         \}}
\DoxyCodeLine{01256 }
\DoxyCodeLine{01257 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{01258 }
\DoxyCodeLine{01259 \textcolor{preprocessor}{        \#region ULong Buffer Writers}}
\DoxyCodeLine{01260 }
\DoxyCodeLine{01264         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Write(CompressedElement nonalloc, Transform trans, ref ulong buffer, ref \textcolor{keywordtype}{int} bitposition, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01265         \{}
\DoxyCodeLine{01266             \textcolor{keywordflow}{switch} (TRSType)}
\DoxyCodeLine{01267             \{}
\DoxyCodeLine{01268                 \textcolor{keywordflow}{case} TRSType.Position:}
\DoxyCodeLine{01269                     Write(nonalloc, (local) ? trans.localPosition : trans.position, ref buffer, ref bitposition, bcl);}
\DoxyCodeLine{01270                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01271 }
\DoxyCodeLine{01272                 \textcolor{keywordflow}{case} TRSType.Euler:}
\DoxyCodeLine{01273                     Write(nonalloc, (local) ? trans.localEulerAngles : trans.eulerAngles, ref buffer, ref bitposition, bcl);}
\DoxyCodeLine{01274                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01275 }
\DoxyCodeLine{01276                 \textcolor{keywordflow}{case} TRSType.Quaternion:}
\DoxyCodeLine{01277                     Write(nonalloc, (local) ? trans.localRotation : trans.rotation, ref buffer, ref bitposition);}
\DoxyCodeLine{01278                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01279 }
\DoxyCodeLine{01280                 \textcolor{keywordflow}{case} TRSType.Scale:}
\DoxyCodeLine{01281                     Write(nonalloc, trans.localScale, ref buffer, ref bitposition, bcl);}
\DoxyCodeLine{01282                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01283 }
\DoxyCodeLine{01284                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01285 \textcolor{preprocessor}{\#if UNITY\_EDITOR}}
\DoxyCodeLine{01286                     TryingToCrushTransformUsingGenericWarning();}
\DoxyCodeLine{01287 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01288                     Write(nonalloc, (local) ? trans.localPosition : trans.position, ref buffer, ref bitposition, bcl);}
\DoxyCodeLine{01289                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01290             \}}
\DoxyCodeLine{01291         \}}
\DoxyCodeLine{01292         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Write(Transform trans, ref ulong buffer, ref \textcolor{keywordtype}{int} bitposition, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01293         \{}
\DoxyCodeLine{01294             \textcolor{keywordflow}{switch} (TRSType)}
\DoxyCodeLine{01295             \{}
\DoxyCodeLine{01296                 \textcolor{keywordflow}{case} TRSType.Position:}
\DoxyCodeLine{01297                     Write((local) ? trans.localPosition : trans.position, ref buffer, ref bitposition, bcl);}
\DoxyCodeLine{01298                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01299 }
\DoxyCodeLine{01300                 \textcolor{keywordflow}{case} TRSType.Euler:}
\DoxyCodeLine{01301                     Write((local) ? trans.localEulerAngles : trans.eulerAngles, ref buffer, ref bitposition, bcl);}
\DoxyCodeLine{01302                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01303 }
\DoxyCodeLine{01304                 \textcolor{keywordflow}{case} TRSType.Quaternion:}
\DoxyCodeLine{01305                     Write((local) ? trans.localRotation : trans.rotation, ref buffer, ref bitposition);}
\DoxyCodeLine{01306                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01307 }
\DoxyCodeLine{01308                 \textcolor{keywordflow}{case} TRSType.Scale:}
\DoxyCodeLine{01309                     Write(trans.localScale, ref buffer, ref bitposition, bcl);}
\DoxyCodeLine{01310                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01311 }
\DoxyCodeLine{01312                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01313 \textcolor{preprocessor}{\#if UNITY\_EDITOR}}
\DoxyCodeLine{01314                     TryingToCrushTransformUsingGenericWarning();}
\DoxyCodeLine{01315 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01316                     Write((local) ? trans.localPosition : trans.position, ref buffer, ref bitposition, bcl);}
\DoxyCodeLine{01317                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01318             \}}
\DoxyCodeLine{01319         \}}
\DoxyCodeLine{01320 }
\DoxyCodeLine{01321         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Write(CompressedElement nonalloc, Vector3 v3, ref ulong buffer, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01322         \{}
\DoxyCodeLine{01323             \textcolor{keywordtype}{int} bitposition = 0;}
\DoxyCodeLine{01324             Write(nonalloc, v3, ref buffer, ref bitposition, bcl);}
\DoxyCodeLine{01325         \}}
\DoxyCodeLine{01326         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Write(Vector3 v3, ref ulong buffer, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01327         \{}
\DoxyCodeLine{01328             \textcolor{keywordtype}{int} bitposition = 0;}
\DoxyCodeLine{01329             Write(v3, ref buffer, ref bitposition, bcl);}
\DoxyCodeLine{01330         \}}
\DoxyCodeLine{01331 }
\DoxyCodeLine{01332         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Write(CompressedElement nonalloc, Vector3 v3, ref ulong buffer, ref \textcolor{keywordtype}{int} bitposition, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01333         \{}
\DoxyCodeLine{01334             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01335                 CacheValues();}
\DoxyCodeLine{01336 }
\DoxyCodeLine{01337             CompressedFloat cx = cache\_xEnabled ? \_xcrusher.Write(v3.x, ref buffer, ref bitposition, bcl) : \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01338             CompressedFloat cy = cache\_yEnabled ? \_ycrusher.Write(v3.y, ref buffer, ref bitposition, bcl) : \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01339             CompressedFloat cz = cache\_zEnabled ? \_zcrusher.Write(v3.z, ref buffer, ref bitposition, bcl) : \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01340 }
\DoxyCodeLine{01341             nonalloc.Set(\textcolor{keyword}{this}, cx, cy, cz);}
\DoxyCodeLine{01342         \}}
\DoxyCodeLine{01343         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Write(Vector3 v3, ref ulong buffer, ref \textcolor{keywordtype}{int} bitposition, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01344         \{}
\DoxyCodeLine{01345             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01346                 CacheValues();}
\DoxyCodeLine{01347 }
\DoxyCodeLine{01348             \textcolor{keywordflow}{if} (cache\_xEnabled) \_xcrusher.Write(v3.x, ref buffer, ref bitposition, bcl);}
\DoxyCodeLine{01349             \textcolor{keywordflow}{if} (cache\_yEnabled) \_ycrusher.Write(v3.y, ref buffer, ref bitposition, bcl);}
\DoxyCodeLine{01350             \textcolor{keywordflow}{if} (cache\_zEnabled) \_zcrusher.Write(v3.z, ref buffer, ref bitposition, bcl);}
\DoxyCodeLine{01351 }
\DoxyCodeLine{01352         \}}
\DoxyCodeLine{01353 }
\DoxyCodeLine{01354         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Write(CompressedElement nonalloc, Quaternion quat, ref ulong buffer)}
\DoxyCodeLine{01355         \{}
\DoxyCodeLine{01356             \textcolor{keywordtype}{int} bitposition = 0;}
\DoxyCodeLine{01357             Write(nonalloc, quat, ref buffer, ref bitposition);}
\DoxyCodeLine{01358         \}}
\DoxyCodeLine{01359         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Write(Quaternion quat, ref ulong buffer)}
\DoxyCodeLine{01360         \{}
\DoxyCodeLine{01361             \textcolor{keywordtype}{int} bitposition = 0;}
\DoxyCodeLine{01362             Write(quat, ref buffer, ref bitposition);}
\DoxyCodeLine{01363         \}}
\DoxyCodeLine{01364 }
\DoxyCodeLine{01365         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Write(CompressedElement nonalloc, Quaternion quat, ref ulong buffer, ref \textcolor{keywordtype}{int} bitposition)}
\DoxyCodeLine{01366         \{}
\DoxyCodeLine{01367             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01368                 CacheValues();}
\DoxyCodeLine{01369 }
\DoxyCodeLine{01370             ulong cq = cache\_qEnabled ? \_qcrusher.Write(quat, ref buffer, ref bitposition) : 0;}
\DoxyCodeLine{01371 }
\DoxyCodeLine{01372             nonalloc.Set(\textcolor{keyword}{this}, cq);}
\DoxyCodeLine{01373         \}}
\DoxyCodeLine{01374         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Write(Quaternion quat, ref ulong buffer, ref \textcolor{keywordtype}{int} bitposition)}
\DoxyCodeLine{01375         \{}
\DoxyCodeLine{01376             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01377                 CacheValues();}
\DoxyCodeLine{01378 }
\DoxyCodeLine{01379             \textcolor{keywordflow}{if} (cache\_qEnabled) \_qcrusher.Write(quat, ref buffer, ref bitposition);}
\DoxyCodeLine{01380         \}}
\DoxyCodeLine{01381 }
\DoxyCodeLine{01382         \textcolor{keyword}{public} CompressedElement Write(CompressedElement ce, ref ulong buffer, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01383         \{}
\DoxyCodeLine{01384             \textcolor{keywordtype}{int} bitposition = 0;}
\DoxyCodeLine{01385             \textcolor{keywordflow}{return} Write(ce, ref buffer, ref bitposition, bcl);}
\DoxyCodeLine{01386         \}}
\DoxyCodeLine{01387         \textcolor{keyword}{public} CompressedElement Write(CompressedElement ce, ref ulong buffer, ref \textcolor{keywordtype}{int} bitposition, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01388         \{}
\DoxyCodeLine{01389             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01390                 CacheValues();}
\DoxyCodeLine{01391 }
\DoxyCodeLine{01392             \textcolor{keywordflow}{if} (cache\_qEnabled)}
\DoxyCodeLine{01393                 ce.cQuat.cvalue.Inject(ref buffer, ref bitposition, cache\_qBits);}
\DoxyCodeLine{01394             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cache\_uEnabled)}
\DoxyCodeLine{01395                 ce.cUniform.cvalue.Inject(ref buffer, ref bitposition, cache\_uBits[(\textcolor{keywordtype}{int})bcl]);}
\DoxyCodeLine{01396             \textcolor{keywordflow}{else}}
\DoxyCodeLine{01397             \{}
\DoxyCodeLine{01398                 \textcolor{keywordflow}{if} (cache\_xEnabled)}
\DoxyCodeLine{01399                     ce.cx.cvalue.Inject(ref buffer, ref bitposition, cache\_xBits[(\textcolor{keywordtype}{int})bcl]);}
\DoxyCodeLine{01400                 \textcolor{keywordflow}{if} (cache\_yEnabled)}
\DoxyCodeLine{01401                     ce.cy.cvalue.Inject(ref buffer, ref bitposition, cache\_yBits[(\textcolor{keywordtype}{int})bcl]);}
\DoxyCodeLine{01402                 \textcolor{keywordflow}{if} (cache\_zEnabled)}
\DoxyCodeLine{01403                     ce.cz.cvalue.Inject(ref buffer, ref bitposition, cache\_zBits[(\textcolor{keywordtype}{int})bcl]);}
\DoxyCodeLine{01404 }
\DoxyCodeLine{01405             \}}
\DoxyCodeLine{01406             \textcolor{keywordflow}{return} ce;}
\DoxyCodeLine{01407         \}}
\DoxyCodeLine{01408 }
\DoxyCodeLine{01409 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{01410 }
\DoxyCodeLine{01411 \textcolor{preprocessor}{        \#region ULong Buffer Readers}}
\DoxyCodeLine{01412 }
\DoxyCodeLine{01413 }
\DoxyCodeLine{01414         \textcolor{keyword}{public} Element Read(ulong buffer, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01415         \{}
\DoxyCodeLine{01416             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01417                 CacheValues();}
\DoxyCodeLine{01418             \textcolor{keywordtype}{int} bitposition = 0;}
\DoxyCodeLine{01419 }
\DoxyCodeLine{01420             \textcolor{keywordflow}{if} (TRSType == TRSType.Quaternion)}
\DoxyCodeLine{01421             \{}
\DoxyCodeLine{01422                 ulong c = buffer.Read(ref bitposition, cache\_qBits);}
\DoxyCodeLine{01423                 \textcolor{keywordflow}{return} \_qcrusher.Decompress(c);}
\DoxyCodeLine{01424             \}}
\DoxyCodeLine{01425 }
\DoxyCodeLine{01426             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cache\_isUniformScale)}
\DoxyCodeLine{01427             \{}
\DoxyCodeLine{01428                 \textcolor{keywordtype}{float} val = \_ucrusher.ReadAndDecompress(buffer, ref bitposition, bcl);}
\DoxyCodeLine{01429                 \textcolor{keywordflow}{return} \textcolor{keyword}{new} Vector3(val, val, val);}
\DoxyCodeLine{01430             \}}
\DoxyCodeLine{01431             \textcolor{keywordflow}{else}}
\DoxyCodeLine{01432             \{}
\DoxyCodeLine{01433                 \textcolor{keywordflow}{return} \textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{01434 }
\DoxyCodeLine{01435                 cache\_xEnabled ? \_xcrusher.ReadAndDecompress(buffer, ref bitposition, bcl) : 0f,}
\DoxyCodeLine{01436                 cache\_yEnabled ? \_ycrusher.ReadAndDecompress(buffer, ref bitposition, bcl) : 0f,}
\DoxyCodeLine{01437                 cache\_zEnabled ? \_zcrusher.ReadAndDecompress(buffer, ref bitposition, bcl) : 0f}
\DoxyCodeLine{01438                 );}
\DoxyCodeLine{01439             \}}
\DoxyCodeLine{01440 }
\DoxyCodeLine{01441         \}}
\DoxyCodeLine{01442 }
\DoxyCodeLine{01451         \textcolor{keyword}{public} Element Read(ulong buffer, ref \textcolor{keywordtype}{int} bitposition, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01452         \{}
\DoxyCodeLine{01453             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01454                 CacheValues();}
\DoxyCodeLine{01455 }
\DoxyCodeLine{01456             \textcolor{keywordflow}{if} (TRSType == TRSType.Quaternion)}
\DoxyCodeLine{01457             \{}
\DoxyCodeLine{01458                 ulong val = buffer.Read(ref bitposition, cache\_qBits);}
\DoxyCodeLine{01459                 \textcolor{keywordflow}{return} \_qcrusher.Decompress(val);}
\DoxyCodeLine{01460             \}}
\DoxyCodeLine{01461 }
\DoxyCodeLine{01462             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cache\_isUniformScale)}
\DoxyCodeLine{01463             \{}
\DoxyCodeLine{01464                 \textcolor{keywordtype}{float} f = \_ucrusher.ReadAndDecompress(buffer, ref bitposition, bcl);}
\DoxyCodeLine{01465                 \textcolor{keywordflow}{return} \textcolor{keyword}{new} Vector3(f, f, f);}
\DoxyCodeLine{01466             \}}
\DoxyCodeLine{01467 }
\DoxyCodeLine{01468             \textcolor{keywordflow}{return} \textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{01469                 cache\_xEnabled ? \_xcrusher.ReadAndDecompress(buffer, ref bitposition, bcl) : 0f,}
\DoxyCodeLine{01470                 cache\_yEnabled ? \_ycrusher.ReadAndDecompress(buffer, ref bitposition, bcl) : 0f,}
\DoxyCodeLine{01471                 cache\_zEnabled ? \_zcrusher.ReadAndDecompress(buffer, ref bitposition, bcl) : 0f}
\DoxyCodeLine{01472                 );}
\DoxyCodeLine{01473         \}}
\DoxyCodeLine{01474 }
\DoxyCodeLine{01475         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Read(CompressedElement nonalloc, ulong buffer, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01476         \{}
\DoxyCodeLine{01477             \textcolor{keywordtype}{int} bitposition = 0;}
\DoxyCodeLine{01478             Read(nonalloc, buffer, ref bitposition, bcl);}
\DoxyCodeLine{01479         \}}
\DoxyCodeLine{01480         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Read(CompressedElement nonalloc, ulong buffer, ref \textcolor{keywordtype}{int} bitposition, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01481         \{}
\DoxyCodeLine{01482             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01483                 CacheValues();}
\DoxyCodeLine{01484 }
\DoxyCodeLine{01485             \textcolor{keywordflow}{if} (TRSType == TRSType.Quaternion)}
\DoxyCodeLine{01486             \{}
\DoxyCodeLine{01487                 nonalloc.Set(\textcolor{keyword}{this}, (ulong)buffer.Read(ref bitposition, cache\_qBits));}
\DoxyCodeLine{01488             \}}
\DoxyCodeLine{01489 }
\DoxyCodeLine{01490             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cache\_isUniformScale)}
\DoxyCodeLine{01491             \{}
\DoxyCodeLine{01492                 nonalloc.Set(\textcolor{keyword}{this}, (uint)buffer.Read(ref bitposition, cache\_uBits[(\textcolor{keywordtype}{int})bcl]));}
\DoxyCodeLine{01493             \}}
\DoxyCodeLine{01494             \textcolor{keywordflow}{else}}
\DoxyCodeLine{01495             \{}
\DoxyCodeLine{01496                 CompressedFloat cx = cache\_xEnabled ? \textcolor{keyword}{new} CompressedFloat(\_xcrusher, buffer.Read(ref bitposition, cache\_xBits[(\textcolor{keywordtype}{int})bcl])) : \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01497                 CompressedFloat cy = cache\_yEnabled ? \textcolor{keyword}{new} CompressedFloat(\_ycrusher, buffer.Read(ref bitposition, cache\_yBits[(\textcolor{keywordtype}{int})bcl])) : \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01498                 CompressedFloat cz = cache\_zEnabled ? \textcolor{keyword}{new} CompressedFloat(\_zcrusher, buffer.Read(ref bitposition, cache\_zBits[(\textcolor{keywordtype}{int})bcl])) : \textcolor{keyword}{new} CompressedFloat();}
\DoxyCodeLine{01499 }
\DoxyCodeLine{01500                 nonalloc.Set(\textcolor{keyword}{this}, cx, cy, cz);}
\DoxyCodeLine{01501             \}}
\DoxyCodeLine{01502         \}}
\DoxyCodeLine{01503 }
\DoxyCodeLine{01504 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{01505 }
\DoxyCodeLine{01506 \textcolor{preprocessor}{        \#region Fragment Readers}}
\DoxyCodeLine{01507 }
\DoxyCodeLine{01508         \textcolor{keyword}{public} \textcolor{keyword}{static} ulong[] reusableArray64 = \textcolor{keyword}{new} ulong[2];}
\DoxyCodeLine{01509 }
\DoxyCodeLine{01510         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Read(CompressedElement nonalloc, ulong frag0, ulong frag1 = 0, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01511         \{}
\DoxyCodeLine{01512             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01513                 CacheValues();}
\DoxyCodeLine{01514 }
\DoxyCodeLine{01515             \textcolor{keywordtype}{int} bitposition = 0;}
\DoxyCodeLine{01516             reusableArray64.Write(frag0, ref bitposition, 64);}
\DoxyCodeLine{01517             reusableArray64.Write(frag1, ref bitposition, 64);}
\DoxyCodeLine{01518 }
\DoxyCodeLine{01519             bitposition = 0;}
\DoxyCodeLine{01520             Read(nonalloc, reusableArray64, ref bitposition, IncludedAxes.XYZ, bcl);}
\DoxyCodeLine{01521         \}}
\DoxyCodeLine{01522 }
\DoxyCodeLine{01523         \textcolor{keyword}{public} CompressedElement Read(ulong frag0, ulong frag1 = 0, BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{01524         \{}
\DoxyCodeLine{01525             Read(CompressedElement.reusable, frag0, frag1, bcl);}
\DoxyCodeLine{01526             \textcolor{keywordflow}{return} CompressedElement.reusable;}
\DoxyCodeLine{01527         \}}
\DoxyCodeLine{01528 }
\DoxyCodeLine{01529 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{01530 }
\DoxyCodeLine{01531 \textcolor{preprocessor}{        \#region Compress}}
\DoxyCodeLine{01532 }
\DoxyCodeLine{01533         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Compress(CompressedElement nonalloc, Transform trans)}
\DoxyCodeLine{01534         \{}
\DoxyCodeLine{01535             \textcolor{comment}{//Debug.Log(\_trsType + "{} "{} + XCrusher.Bits + "{} "{} + YCrusher.Bits + "{} "{} + ZCrusher.Bits + "{} "{} + Cached\_TotalBits[0]);}}
\DoxyCodeLine{01536             \textcolor{keywordflow}{switch} (TRSType)}
\DoxyCodeLine{01537             \{}
\DoxyCodeLine{01538                 \textcolor{keywordflow}{case} TRSType.Position:}
\DoxyCodeLine{01539                     Compress(nonalloc, (local) ? trans.localPosition : trans.position);}
\DoxyCodeLine{01540                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01541 }
\DoxyCodeLine{01542                 \textcolor{keywordflow}{case} TRSType.Euler:}
\DoxyCodeLine{01543                     Compress(nonalloc, (local) ? trans.localEulerAngles : trans.eulerAngles);}
\DoxyCodeLine{01544                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01545 }
\DoxyCodeLine{01546                 \textcolor{keywordflow}{case} TRSType.Quaternion:}
\DoxyCodeLine{01547                     Compress(nonalloc, (local) ? trans.localRotation : trans.rotation);}
\DoxyCodeLine{01548                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01549 }
\DoxyCodeLine{01550                 \textcolor{keywordflow}{case} TRSType.Scale:}
\DoxyCodeLine{01551                     Compress(nonalloc, (local) ? trans.localScale : trans.lossyScale);}
\DoxyCodeLine{01552                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01553 }
\DoxyCodeLine{01554                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01555 \textcolor{preprocessor}{\#if UNITY\_EDITOR}}
\DoxyCodeLine{01556                     TryingToCrushTransformUsingGenericWarning();}
\DoxyCodeLine{01557 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01558                     Compress(nonalloc, (local) ? trans.localPosition : trans.position);}
\DoxyCodeLine{01559                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01560             \}}
\DoxyCodeLine{01561         \}}
\DoxyCodeLine{01562 }
\DoxyCodeLine{01563         \textcolor{keyword}{public} CompressedElement Compress(Transform trans)}
\DoxyCodeLine{01564         \{}
\DoxyCodeLine{01565             Compress(CompressedElement.reusable, trans);}
\DoxyCodeLine{01566             \textcolor{keywordflow}{return} CompressedElement.reusable;}
\DoxyCodeLine{01567         \}}
\DoxyCodeLine{01568 }
\DoxyCodeLine{01573         \textcolor{keyword}{public} \textcolor{keywordtype}{void} CompressAndWrite(Transform trans, \textcolor{keywordtype}{byte}[] buffer, ref \textcolor{keywordtype}{int} bitposition)}
\DoxyCodeLine{01574         \{}
\DoxyCodeLine{01575             \textcolor{keywordflow}{switch} (TRSType)}
\DoxyCodeLine{01576             \{}
\DoxyCodeLine{01577                 \textcolor{keywordflow}{case} TRSType.Position:}
\DoxyCodeLine{01578                     CompressAndWrite((local) ? trans.localPosition : trans.position, buffer, ref bitposition);}
\DoxyCodeLine{01579                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{01580 }
\DoxyCodeLine{01581                 \textcolor{keywordflow}{case} TRSType.Euler:}
\DoxyCodeLine{01582                     CompressAndWrite((local) ? trans.localEulerAngles : trans.eulerAngles, buffer, ref bitposition);}
\DoxyCodeLine{01583                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{01584 }
\DoxyCodeLine{01585                 \textcolor{keywordflow}{case} TRSType.Quaternion:}
\DoxyCodeLine{01586                     CompressAndWrite((local) ? trans.localRotation : trans.rotation, buffer, ref bitposition);}
\DoxyCodeLine{01587                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{01588 }
\DoxyCodeLine{01589                 \textcolor{keywordflow}{case} TRSType.Scale:}
\DoxyCodeLine{01590                     CompressAndWrite((local) ? trans.localScale : trans.lossyScale, buffer, ref bitposition);}
\DoxyCodeLine{01591                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{01592 }
\DoxyCodeLine{01593                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01594 \textcolor{preprocessor}{\#if UNITY\_EDITOR}}
\DoxyCodeLine{01595                     TryingToCrushTransformUsingGenericWarning();}
\DoxyCodeLine{01596 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01597                     CompressAndWrite((local) ? trans.localPosition : trans.position, buffer, ref bitposition);}
\DoxyCodeLine{01598                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{01599             \}}
\DoxyCodeLine{01600         \}}
\DoxyCodeLine{01601 }
\DoxyCodeLine{01602         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Compress(CompressedElement nonalloc, Element e)}
\DoxyCodeLine{01603         \{}
\DoxyCodeLine{01604             \textcolor{keywordflow}{if} (TRSType == TRSType.Quaternion)}
\DoxyCodeLine{01605                 Compress(nonalloc, e.quat);}
\DoxyCodeLine{01606             \textcolor{keywordflow}{else}}
\DoxyCodeLine{01607                 Compress(nonalloc, e.v);}
\DoxyCodeLine{01608         \}}
\DoxyCodeLine{01609 }
\DoxyCodeLine{01615         \textcolor{keyword}{public} CompressedElement Compress(Element e)}
\DoxyCodeLine{01616         \{}
\DoxyCodeLine{01617             \textcolor{keywordflow}{if} (TRSType == TRSType.Quaternion)}
\DoxyCodeLine{01618                 Compress(CompressedElement.reusable, e.quat);}
\DoxyCodeLine{01619             \textcolor{keywordflow}{else}}
\DoxyCodeLine{01620                 Compress(CompressedElement.reusable, e.v);}
\DoxyCodeLine{01621 }
\DoxyCodeLine{01622             \textcolor{keywordflow}{return} CompressedElement.reusable;}
\DoxyCodeLine{01623         \}}
\DoxyCodeLine{01624 }
\DoxyCodeLine{01629         \textcolor{keyword}{public} \textcolor{keywordtype}{void} CompressAndWrite(Element e, \textcolor{keywordtype}{byte}[] buffer, ref \textcolor{keywordtype}{int} bitposition)}
\DoxyCodeLine{01630         \{}
\DoxyCodeLine{01631             \textcolor{keywordflow}{if} (TRSType == TRSType.Quaternion)}
\DoxyCodeLine{01632                 CompressAndWrite(e.quat, buffer, ref bitposition);}
\DoxyCodeLine{01633             \textcolor{keywordflow}{else}}
\DoxyCodeLine{01634                 CompressAndWrite(e.v, buffer, ref bitposition);}
\DoxyCodeLine{01635         \}}
\DoxyCodeLine{01636 }
\DoxyCodeLine{01637         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Compress(CompressedElement nonalloc, Rigidbody rb, IncludedAxes ia = IncludedAxes.XYZ)}
\DoxyCodeLine{01638         \{}
\DoxyCodeLine{01639             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01640                 CacheValues();}
\DoxyCodeLine{01641 }
\DoxyCodeLine{01642             \textcolor{keywordflow}{switch} (\_trsType)}
\DoxyCodeLine{01643             \{}
\DoxyCodeLine{01644                 \textcolor{keywordflow}{case} TRSType.Scale:}
\DoxyCodeLine{01645                     \{}
\DoxyCodeLine{01646                         Compress(nonalloc, local ? rb.transform.localScale : rb.transform.lossyScale, ia);}
\DoxyCodeLine{01647                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{01648                     \}}
\DoxyCodeLine{01649 }
\DoxyCodeLine{01650                 \textcolor{keywordflow}{case} TRSType.Quaternion:}
\DoxyCodeLine{01651                     \textcolor{keywordflow}{if} (cache\_qEnabled)}
\DoxyCodeLine{01652                     \{}
\DoxyCodeLine{01653                         Quaternion localizedQ;}
\DoxyCodeLine{01654                         \textcolor{keywordflow}{if} (local)}
\DoxyCodeLine{01655                         \{}
\DoxyCodeLine{01656                             var par = rb.transform.parent;}
\DoxyCodeLine{01657                             localizedQ = (par) ? (Quaternion.Inverse(par.rotation) * rb.rotation) : rb.rotation;}
\DoxyCodeLine{01658                         \}}
\DoxyCodeLine{01659                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{01660                             localizedQ = rb.rotation;}
\DoxyCodeLine{01661 }
\DoxyCodeLine{01662                         nonalloc.Set(\textcolor{keyword}{this}, \_qcrusher.Compress(localizedQ));}
\DoxyCodeLine{01663                     \}}
\DoxyCodeLine{01664 }
\DoxyCodeLine{01665                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{01666 }
\DoxyCodeLine{01667                 \textcolor{keywordflow}{case} TRSType.Euler:}
\DoxyCodeLine{01668                     \{}
\DoxyCodeLine{01669                         Vector3 localizedE;}
\DoxyCodeLine{01670                         \textcolor{keywordflow}{if} (local)}
\DoxyCodeLine{01671                         \{}
\DoxyCodeLine{01672                             var par = rb.transform.parent;}
\DoxyCodeLine{01673                             localizedE = (par) ? (Quaternion.Inverse(par.rotation) * rb.rotation).eulerAngles : rb.rotation.eulerAngles;}
\DoxyCodeLine{01674                         \}}
\DoxyCodeLine{01675                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{01676                             localizedE = rb.rotation.eulerAngles;}
\DoxyCodeLine{01677 }
\DoxyCodeLine{01678                         CompressedFloat cx = (cache\_xEnabled \&\& ((int)ia \& 1) != 0 ? \_xcrusher.Compress(localizedE.x) : \textcolor{keyword}{new} CompressedFloat());}
\DoxyCodeLine{01679                         CompressedFloat cy = (cache\_yEnabled \&\& ((int)ia \& 2) != 0 ? \_ycrusher.Compress(localizedE.y) : \textcolor{keyword}{new} CompressedFloat());}
\DoxyCodeLine{01680                         CompressedFloat cz = (cache\_zEnabled \&\& ((int)ia \& 4) != 0 ? \_zcrusher.Compress(localizedE.z) : \textcolor{keyword}{new} CompressedFloat());}
\DoxyCodeLine{01681                         nonalloc.Set(\textcolor{keyword}{this}, cx, cy, cz);}
\DoxyCodeLine{01682 }
\DoxyCodeLine{01683                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{01684                     \}}
\DoxyCodeLine{01685 }
\DoxyCodeLine{01686                 \textcolor{keywordflow}{case} TRSType.Position:}
\DoxyCodeLine{01687                     \{}
\DoxyCodeLine{01688                         Vector3 localizedP;}
\DoxyCodeLine{01689                         \textcolor{keywordflow}{if} (local)}
\DoxyCodeLine{01690                         \{}
\DoxyCodeLine{01691                             var par = rb.transform.parent;}
\DoxyCodeLine{01692                             localizedP = (par) ? par.InverseTransformPoint(rb.position) : rb.position;}
\DoxyCodeLine{01693                         \}}
\DoxyCodeLine{01694                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{01695                             localizedP = rb.position;}
\DoxyCodeLine{01696 }
\DoxyCodeLine{01697                         CompressedFloat cx = (cache\_xEnabled \&\& ((int)ia \& 1) != 0 ? \_xcrusher.Compress(localizedP.x) : \textcolor{keyword}{new} CompressedFloat());}
\DoxyCodeLine{01698                         CompressedFloat cy = (cache\_yEnabled \&\& ((int)ia \& 2) != 0 ? \_ycrusher.Compress(localizedP.y) : \textcolor{keyword}{new} CompressedFloat());}
\DoxyCodeLine{01699                         CompressedFloat cz = (cache\_zEnabled \&\& ((int)ia \& 4) != 0 ? \_zcrusher.Compress(localizedP.z) : \textcolor{keyword}{new} CompressedFloat());}
\DoxyCodeLine{01700                         nonalloc.Set(\textcolor{keyword}{this}, cx, cy, cz);}
\DoxyCodeLine{01701 }
\DoxyCodeLine{01702                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{01703                     \}}
\DoxyCodeLine{01704 }
\DoxyCodeLine{01705                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01706                     \{}
\DoxyCodeLine{01707                         nonalloc.Clear();}
\DoxyCodeLine{01708                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{01709                     \}}
\DoxyCodeLine{01710             \}}
\DoxyCodeLine{01711         \}}
\DoxyCodeLine{01712 }
\DoxyCodeLine{01713         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Compress(CompressedElement nonalloc, Vector3 v, IncludedAxes ia = IncludedAxes.XYZ)}
\DoxyCodeLine{01714         \{}
\DoxyCodeLine{01715             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01716                 CacheValues();}
\DoxyCodeLine{01717 }
\DoxyCodeLine{01718             \textcolor{keywordflow}{if} (\_trsType == TRSType.Quaternion)}
\DoxyCodeLine{01719             \{}
\DoxyCodeLine{01720                 Debug.LogError(\textcolor{stringliteral}{"{}We shouldn't be seeing this. Quats should not be getting compressed from Eulers!"{}});}
\DoxyCodeLine{01721                 \textcolor{keywordflow}{if} (cache\_qEnabled)}
\DoxyCodeLine{01722                     nonalloc.Set(\textcolor{keyword}{this}, \_qcrusher.Compress(Quaternion.Euler(v)));}
\DoxyCodeLine{01723             \}}
\DoxyCodeLine{01724             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\_trsType == TRSType.Scale \&\& uniformAxes != UniformAxes.NonUniform)}
\DoxyCodeLine{01725             \{}
\DoxyCodeLine{01726                 \textcolor{keywordflow}{if} (cache\_uEnabled)}
\DoxyCodeLine{01727                     nonalloc.Set(\textcolor{keyword}{this}, \_ucrusher.Compress((uniformAxes == UniformAxes.YZ) ? v.y : v.x));}
\DoxyCodeLine{01728             \}}
\DoxyCodeLine{01729             \textcolor{keywordflow}{else}}
\DoxyCodeLine{01730             \{}
\DoxyCodeLine{01731                 CompressedFloat cx = (cache\_xEnabled \&\& ((int)ia \& 1) != 0 ? \_xcrusher.Compress(v.x) : \textcolor{keyword}{new} CompressedFloat());}
\DoxyCodeLine{01732                 CompressedFloat cy = (cache\_yEnabled \&\& ((int)ia \& 2) != 0 ? \_ycrusher.Compress(v.y) : \textcolor{keyword}{new} CompressedFloat());}
\DoxyCodeLine{01733                 CompressedFloat cz = (cache\_zEnabled \&\& ((int)ia \& 4) != 0 ? \_zcrusher.Compress(v.z) : \textcolor{keyword}{new} CompressedFloat());}
\DoxyCodeLine{01734 }
\DoxyCodeLine{01735                 nonalloc.Set(\textcolor{keyword}{this}, cx, cy, cz);}
\DoxyCodeLine{01736             \}}
\DoxyCodeLine{01737         \}}
\DoxyCodeLine{01738 }
\DoxyCodeLine{01739         \textcolor{keyword}{public} CompressedElement Compress(Vector3 v)}
\DoxyCodeLine{01740         \{}
\DoxyCodeLine{01741             Compress(CompressedElement.reusable, v);}
\DoxyCodeLine{01742             \textcolor{keywordflow}{return} CompressedElement.reusable;}
\DoxyCodeLine{01743         \}}
\DoxyCodeLine{01744 }
\DoxyCodeLine{01749         \textcolor{keyword}{public} \textcolor{keywordtype}{void} CompressAndWrite(Vector3 v, \textcolor{keywordtype}{byte}[] buffer, ref \textcolor{keywordtype}{int} bitposition, IncludedAxes ia = IncludedAxes.XYZ)}
\DoxyCodeLine{01750         \{}
\DoxyCodeLine{01751 }
\DoxyCodeLine{01752             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01753                 CacheValues();}
\DoxyCodeLine{01754 }
\DoxyCodeLine{01755             \textcolor{keywordflow}{if} (\_trsType == TRSType.Scale \&\& uniformAxes != UniformAxes.NonUniform)}
\DoxyCodeLine{01756             \{}
\DoxyCodeLine{01757                 \textcolor{comment}{//Debug.Log(this + "{} Compress <b>UNIFORM</b>"{});}}
\DoxyCodeLine{01758                 ulong cu = (cache\_uEnabled) ? \_ucrusher.Compress((uniformAxes == UniformAxes.YZ) ? v.y : v.x) : (ulong)0;}
\DoxyCodeLine{01759                 buffer.Write(cu, ref bitposition, cache\_uBits[0]);}
\DoxyCodeLine{01760 }
\DoxyCodeLine{01761             \}}
\DoxyCodeLine{01762             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\_trsType == TRSType.Quaternion)}
\DoxyCodeLine{01763             \{}
\DoxyCodeLine{01764                 Debug.Log(\textcolor{stringliteral}{"{}We shouldn't be seeing this. Quats should not be getting compressed from Eulers!"{}});}
\DoxyCodeLine{01765                 \textcolor{keywordflow}{if} (cache\_qEnabled)}
\DoxyCodeLine{01766                     buffer.Write(\_qcrusher.Compress(Quaternion.Euler(v)), ref bitposition, cache\_qBits);}
\DoxyCodeLine{01767             \}}
\DoxyCodeLine{01768             \textcolor{keywordflow}{else}}
\DoxyCodeLine{01769             \{}
\DoxyCodeLine{01770                 \textcolor{comment}{//FloatCrusherUtilities.CheckBitCount(xcrusher.GetBits(0) + ycrusher.GetBits(0) + zcrusher.GetBits(0), 96);}}
\DoxyCodeLine{01771                 \textcolor{keywordflow}{if} (cache\_xEnabled)}
\DoxyCodeLine{01772                     buffer.Write(\_xcrusher.Compress(v.x).cvalue, ref bitposition, cache\_xBits[0]);}
\DoxyCodeLine{01773                 \textcolor{keywordflow}{if} (cache\_yEnabled)}
\DoxyCodeLine{01774                     buffer.Write(\_ycrusher.Compress(v.y).cvalue, ref bitposition, cache\_yBits[0]);}
\DoxyCodeLine{01775                 \textcolor{keywordflow}{if} (cache\_zEnabled)}
\DoxyCodeLine{01776                     buffer.Write(\_zcrusher.Compress(v.z).cvalue, ref bitposition, cache\_zBits[0]);}
\DoxyCodeLine{01777             \}}
\DoxyCodeLine{01778         \}}
\DoxyCodeLine{01779 }
\DoxyCodeLine{01783         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Compress(CompressedElement nonalloc, Quaternion quat)}
\DoxyCodeLine{01784         \{}
\DoxyCodeLine{01785             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01786                 CacheValues();}
\DoxyCodeLine{01787 }
\DoxyCodeLine{01788 \textcolor{preprocessor}{\#if UNITY\_EDITOR || DEVELOPMENT\_BUILD}}
\DoxyCodeLine{01789             TryingToWriteQuatAsEulerError();}
\DoxyCodeLine{01790 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01791 }
\DoxyCodeLine{01792             \textcolor{keywordflow}{if} (cache\_qEnabled)}
\DoxyCodeLine{01793                 nonalloc.Set(\textcolor{keyword}{this}, \_qcrusher.Compress(quat));}
\DoxyCodeLine{01794         \}}
\DoxyCodeLine{01795 }
\DoxyCodeLine{01796         \textcolor{keyword}{public} CompressedElement Compress(Quaternion quat)}
\DoxyCodeLine{01797         \{}
\DoxyCodeLine{01798             Compress(CompressedElement.reusable, quat);}
\DoxyCodeLine{01799             \textcolor{keywordflow}{return} CompressedElement.reusable;}
\DoxyCodeLine{01800         \}}
\DoxyCodeLine{01801 }
\DoxyCodeLine{01806         \textcolor{keyword}{public} \textcolor{keywordtype}{void} CompressAndWrite(Quaternion quat, \textcolor{keywordtype}{byte}[] buffer, ref \textcolor{keywordtype}{int} bitposition)}
\DoxyCodeLine{01807         \{}
\DoxyCodeLine{01808             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01809                 CacheValues();}
\DoxyCodeLine{01810 }
\DoxyCodeLine{01811 \textcolor{preprocessor}{\#if UNITY\_EDITOR || DEVELOPMENT\_BUILD}}
\DoxyCodeLine{01812             TryingToWriteQuatAsEulerError();}
\DoxyCodeLine{01813 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01814 }
\DoxyCodeLine{01815             \textcolor{keywordflow}{if} (cache\_qEnabled)}
\DoxyCodeLine{01816                 buffer.Write(\_qcrusher.Compress(quat), ref bitposition, cache\_qBits);}
\DoxyCodeLine{01817         \}}
\DoxyCodeLine{01818 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{01819 }
\DoxyCodeLine{01820 \textcolor{preprocessor}{        \#region Decompress}}
\DoxyCodeLine{01821 }
\DoxyCodeLine{01825         \textcolor{keyword}{public} Element Decompress(CompressedElement compressed)}
\DoxyCodeLine{01826         \{}
\DoxyCodeLine{01827             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01828                 CacheValues();}
\DoxyCodeLine{01829 }
\DoxyCodeLine{01830             \textcolor{keywordflow}{if} (\_trsType == TRSType.Scale \&\& uniformAxes != UniformAxes.NonUniform)}
\DoxyCodeLine{01831             \{}
\DoxyCodeLine{01832                 \textcolor{keywordtype}{float} val = \_ucrusher.Decompress((uint)compressed.cUniform);}
\DoxyCodeLine{01833                 \textcolor{keywordflow}{return} \textcolor{keyword}{new} Vector3(val, val, val);}
\DoxyCodeLine{01834             \}}
\DoxyCodeLine{01835             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\_trsType == TRSType.Quaternion)}
\DoxyCodeLine{01836             \{}
\DoxyCodeLine{01837                 \textcolor{keywordflow}{return} \_qcrusher.Decompress((ulong)compressed.cQuat);}
\DoxyCodeLine{01838             \}}
\DoxyCodeLine{01839             \textcolor{keywordflow}{else}}
\DoxyCodeLine{01840             \{}
\DoxyCodeLine{01841                 \textcolor{comment}{// Issue log error for trying to write more than 64 bits to the ulong buffer}}
\DoxyCodeLine{01842                 \textcolor{comment}{//FloatCrusherUtilities.CheckBitCount(cache\_TotalBits[0], 64);}}
\DoxyCodeLine{01843 }
\DoxyCodeLine{01844                 \textcolor{keywordflow}{return} \textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{01845                     cache\_xEnabled ? (\_xcrusher.Decompress((uint)compressed.cx)) : 0,}
\DoxyCodeLine{01846                     cache\_yEnabled ? (\_ycrusher.Decompress((uint)compressed.cy)) : 0,}
\DoxyCodeLine{01847                     cache\_zEnabled ? (\_zcrusher.Decompress((uint)compressed.cz)) : 0}
\DoxyCodeLine{01848                     );}
\DoxyCodeLine{01849             \}}
\DoxyCodeLine{01850         \}}
\DoxyCodeLine{01851 }
\DoxyCodeLine{01852         \textcolor{keyword}{public} Element Decompress(ulong cval, IncludedAxes ia = IncludedAxes.XYZ)}
\DoxyCodeLine{01853         \{}
\DoxyCodeLine{01854             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01855                 CacheValues();}
\DoxyCodeLine{01856 }
\DoxyCodeLine{01857             \textcolor{keywordflow}{if} (\_trsType == TRSType.Scale \&\& uniformAxes != UniformAxes.NonUniform)}
\DoxyCodeLine{01858             \{}
\DoxyCodeLine{01859                 \textcolor{keywordtype}{float} val = \_ucrusher.Decompress((uint)cval);}
\DoxyCodeLine{01860                 \textcolor{keywordflow}{return} \textcolor{keyword}{new} Vector3(val, val, val);}
\DoxyCodeLine{01861             \}}
\DoxyCodeLine{01862             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\_trsType == TRSType.Quaternion)}
\DoxyCodeLine{01863             \{}
\DoxyCodeLine{01864                 \textcolor{comment}{//Debug.Log("{}We should not see this! Quats should be getting called to DecompressToQuat"{});}}
\DoxyCodeLine{01865                 \textcolor{keywordflow}{return} \_qcrusher.Decompress(cval);}
\DoxyCodeLine{01866             \}}
\DoxyCodeLine{01867             \textcolor{keywordflow}{else}}
\DoxyCodeLine{01868             \{}
\DoxyCodeLine{01869                 \textcolor{comment}{// Issue log error for trying to write more than 64 bits to the ulong buffer}}
\DoxyCodeLine{01870                 \textcolor{comment}{//FloatCrusherUtilities.CheckBitCount(cache\_TotalBits[0], 64);}}
\DoxyCodeLine{01871 }
\DoxyCodeLine{01872                 \textcolor{keywordtype}{int} bitposition = 0;}
\DoxyCodeLine{01873                 \textcolor{keywordflow}{return} \textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{01874                     (cache\_xEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 1) != 0) ? (\_xcrusher.ReadAndDecompress(cval, ref bitposition)) : 0,}
\DoxyCodeLine{01875                     (cache\_yEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 2) != 0) ? (\_ycrusher.ReadAndDecompress(cval, ref bitposition)) : 0,}
\DoxyCodeLine{01876                     (cache\_zEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 4) != 0) ? (\_zcrusher.ReadAndDecompress(cval, ref bitposition)) : 0}
\DoxyCodeLine{01877                     );}
\DoxyCodeLine{01878             \}}
\DoxyCodeLine{01879         \}}
\DoxyCodeLine{01880 }
\DoxyCodeLine{01881         \textcolor{comment}{//public Quaternion DecompressToQuat(CompressedElement compressed)}}
\DoxyCodeLine{01882         \textcolor{comment}{//\{}}
\DoxyCodeLine{01883         \textcolor{comment}{//  if (!cached)}}
\DoxyCodeLine{01884         \textcolor{comment}{//      CacheValues();}}
\DoxyCodeLine{01885 }
\DoxyCodeLine{01886         \textcolor{comment}{//  DebugX.LogError("{}You seem to be trying to decompress a Quaternion from a crusher that is set up for "{} +}}
\DoxyCodeLine{01887         \textcolor{comment}{//      System.Enum.GetName(typeof(TRSType), TRSType) + "{}. This likely won't end well."{}, TRSType != TRSType.Quaternion, true);}}
\DoxyCodeLine{01888 }
\DoxyCodeLine{01889         \textcolor{comment}{//  Quaternion quat = qcrusher.Decompress(compressed.cQuat);}}
\DoxyCodeLine{01890         \textcolor{comment}{//  return quat;}}
\DoxyCodeLine{01891         \textcolor{comment}{//\}}}
\DoxyCodeLine{01892 }
\DoxyCodeLine{01893 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{01894 }
\DoxyCodeLine{01895 \textcolor{preprocessor}{        \#region Rigidbody Set/Move}}
\DoxyCodeLine{01896 }
\DoxyCodeLine{01903         [System.Obsolete(\textcolor{stringliteral}{"{}Apply for Rigidbody has been replaced with Move and Set, to indicate usage of MovePosition/Rotation vs rb.position/rotation."{}})]}
\DoxyCodeLine{01904         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Apply(Rigidbody rb, CompressedElement ce, IncludedAxes ia = IncludedAxes.XYZ)}
\DoxyCodeLine{01905         \{}
\DoxyCodeLine{01906             Apply(rb, Decompress(ce), ia);}
\DoxyCodeLine{01907         \}}
\DoxyCodeLine{01908 }
\DoxyCodeLine{01917         [System.Obsolete(\textcolor{stringliteral}{"{}Apply for Rigidbody has been replaced with Move and Set, to indicate usage of MovePosition/Rotation vs rb.position/rotation."{}})]}
\DoxyCodeLine{01918         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Apply(Rigidbody rb, Element e, IncludedAxes ia = IncludedAxes.XYZ)}
\DoxyCodeLine{01919         \{}
\DoxyCodeLine{01920             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{01921                 CacheValues();}
\DoxyCodeLine{01922 }
\DoxyCodeLine{01923             \textcolor{keywordflow}{switch} (\_trsType)}
\DoxyCodeLine{01924             \{}
\DoxyCodeLine{01925                 \textcolor{keywordflow}{case} TRSType.Quaternion:}
\DoxyCodeLine{01926 }
\DoxyCodeLine{01927                     \textcolor{keywordflow}{if} (cache\_qEnabled)}
\DoxyCodeLine{01928                     \{}
\DoxyCodeLine{01929                         \textcolor{keywordflow}{if} (local \&\& rb.transform.parent)}
\DoxyCodeLine{01930                         \{}
\DoxyCodeLine{01931                             rb.transform.localRotation = e.quat;}
\DoxyCodeLine{01932                         \}}
\DoxyCodeLine{01933                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{01934                         \{}
\DoxyCodeLine{01935                             rb.MoveRotation(e.quat);}
\DoxyCodeLine{01936                         \}}
\DoxyCodeLine{01937                     \}}
\DoxyCodeLine{01938                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01939 }
\DoxyCodeLine{01940                 \textcolor{keywordflow}{case} TRSType.Position:}
\DoxyCodeLine{01941 }
\DoxyCodeLine{01942                     var localized = (local \& rb.transform.parent) ? rb.transform.TransformPoint(e.v) : e.v;}
\DoxyCodeLine{01943                     var curr = rb.position;}
\DoxyCodeLine{01944 }
\DoxyCodeLine{01945                     rb.MovePosition(\textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{01946                         cache\_xEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 1) != 0 ? localized.x : curr.x,}
\DoxyCodeLine{01947                         cache\_yEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 2) != 0 ? localized.y : curr.y,}
\DoxyCodeLine{01948                         cache\_zEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 4) != 0 ? localized.z : curr.z}
\DoxyCodeLine{01949                         ));}
\DoxyCodeLine{01950                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01951 }
\DoxyCodeLine{01952                 \textcolor{keywordflow}{case} TRSType.Euler:}
\DoxyCodeLine{01953 }
\DoxyCodeLine{01954                     var currE = rb.rotation.eulerAngles;}
\DoxyCodeLine{01955 }
\DoxyCodeLine{01956                     \textcolor{keywordflow}{if} (local \&\& rb.transform.parent)}
\DoxyCodeLine{01957                     \{}
\DoxyCodeLine{01958                         \textcolor{comment}{//rb.rotation = Quaternion.Euler(}}
\DoxyCodeLine{01959                         rb.transform.eulerAngles = \textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{01960                             cache\_xEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 1) != 0 ? e.v.x : currE.x,}
\DoxyCodeLine{01961                             cache\_yEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 2) != 0 ? e.v.y : currE.y,}
\DoxyCodeLine{01962                             cache\_zEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 4) != 0 ? e.v.z : currE.z}
\DoxyCodeLine{01963                             );}
\DoxyCodeLine{01964                     \}}
\DoxyCodeLine{01965                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{01966                     \{}
\DoxyCodeLine{01967                         \textcolor{comment}{//rb.rotation = Quaternion.Euler(}}
\DoxyCodeLine{01968                         rb.MoveRotation(Quaternion.Euler(}
\DoxyCodeLine{01969                             cache\_xEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 1) != 0 ? e.v.x : currE.x,}
\DoxyCodeLine{01970                             cache\_yEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 2) != 0 ? e.v.y : currE.y,}
\DoxyCodeLine{01971                             cache\_zEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 4) != 0 ? e.v.z : currE.z}
\DoxyCodeLine{01972                             ));}
\DoxyCodeLine{01973                     \}}
\DoxyCodeLine{01974 }
\DoxyCodeLine{01975                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01976 }
\DoxyCodeLine{01977                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01978                     Debug.LogError(\textcolor{stringliteral}{"{}Are you trying to Apply scale to a Rigidbody?"{}});}
\DoxyCodeLine{01979                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01980             \}}
\DoxyCodeLine{01981         \}}
\DoxyCodeLine{01982 }
\DoxyCodeLine{01991         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Move(Rigidbody rb, CompressedElement ce, IncludedAxes ia = IncludedAxes.XYZ)}
\DoxyCodeLine{01992         \{}
\DoxyCodeLine{01993             Move(rb, Decompress(ce), ia);}
\DoxyCodeLine{01994         \}}
\DoxyCodeLine{01995 }
\DoxyCodeLine{02004         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Move(Rigidbody rb, Element e, IncludedAxes ia = IncludedAxes.XYZ)}
\DoxyCodeLine{02005         \{}
\DoxyCodeLine{02006             \{}
\DoxyCodeLine{02007                 \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{02008                     CacheValues();}
\DoxyCodeLine{02009 }
\DoxyCodeLine{02010                 \textcolor{keywordflow}{switch} (\_trsType)}
\DoxyCodeLine{02011                 \{}
\DoxyCodeLine{02012                     \textcolor{keywordflow}{case} TRSType.Quaternion:}
\DoxyCodeLine{02013 }
\DoxyCodeLine{02014                         \textcolor{keywordflow}{if} (cache\_qEnabled)}
\DoxyCodeLine{02015                         \{}
\DoxyCodeLine{02016                             \textcolor{keywordflow}{if} (local \&\& rb.transform.parent)}
\DoxyCodeLine{02017                                 rb.MoveRotation(rb.transform.parent.rotation * e.quat);}
\DoxyCodeLine{02018                                 \textcolor{comment}{//rb.transform.localRotation = e.quat;}}
\DoxyCodeLine{02019                             \textcolor{keywordflow}{else}}
\DoxyCodeLine{02020                                 rb.MoveRotation(e.quat);}
\DoxyCodeLine{02021                         \}}
\DoxyCodeLine{02022                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{02023 }
\DoxyCodeLine{02024                     \textcolor{keywordflow}{case} TRSType.Position:}
\DoxyCodeLine{02025 }
\DoxyCodeLine{02026                         var localized = (local \& rb.transform.parent) ? rb.transform.TransformPoint(e.v) : e.v;}
\DoxyCodeLine{02027 }
\DoxyCodeLine{02028                         rb.MovePosition(\textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{02029                             cache\_xEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 1) != 0 ? localized.x : rb.position.x,}
\DoxyCodeLine{02030                             cache\_yEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 2) != 0 ? localized.y : rb.position.y,}
\DoxyCodeLine{02031                             cache\_zEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 4) != 0 ? localized.z : rb.position.z}
\DoxyCodeLine{02032                             ));}
\DoxyCodeLine{02033                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{02034 }
\DoxyCodeLine{02035                     \textcolor{keywordflow}{case} TRSType.Euler:}
\DoxyCodeLine{02036 }
\DoxyCodeLine{02037                         var currE = rb.rotation.eulerAngles;}
\DoxyCodeLine{02038 }
\DoxyCodeLine{02039                         \textcolor{keywordflow}{if} (local \&\& rb.transform.parent)}
\DoxyCodeLine{02040                         \{}
\DoxyCodeLine{02041                             \textcolor{comment}{//rb.rotation = Quaternion.Euler(}}
\DoxyCodeLine{02042                             rb.transform.eulerAngles = \textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{02043                                 cache\_xEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 1) != 0 ? e.v.x : currE.x,}
\DoxyCodeLine{02044                                 cache\_yEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 2) != 0 ? e.v.y : currE.y,}
\DoxyCodeLine{02045                                 cache\_zEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 4) != 0 ? e.v.z : currE.z}
\DoxyCodeLine{02046                                 );}
\DoxyCodeLine{02047                         \}}
\DoxyCodeLine{02048                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{02049                         \{}
\DoxyCodeLine{02050                             \textcolor{comment}{//rb.rotation = Quaternion.Euler(}}
\DoxyCodeLine{02051                             rb.MoveRotation(Quaternion.Euler(}
\DoxyCodeLine{02052                                 cache\_xEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 1) != 0 ? e.v.x : currE.x,}
\DoxyCodeLine{02053                                 cache\_yEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 2) != 0 ? e.v.y : currE.y,}
\DoxyCodeLine{02054                                 cache\_zEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 4) != 0 ? e.v.z : currE.z}
\DoxyCodeLine{02055                                 ));}
\DoxyCodeLine{02056                         \}}
\DoxyCodeLine{02057 }
\DoxyCodeLine{02058                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{02059 }
\DoxyCodeLine{02060                     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{02061                         Debug.LogError(\textcolor{stringliteral}{"{}Are you trying to Apply scale to a Rigidbody?"{}});}
\DoxyCodeLine{02062                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{02063                 \}}
\DoxyCodeLine{02064             \}}
\DoxyCodeLine{02065         \}}
\DoxyCodeLine{02066 }
\DoxyCodeLine{02075         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Set(Rigidbody rb, CompressedElement ce, IncludedAxes ia = IncludedAxes.XYZ)}
\DoxyCodeLine{02076         \{}
\DoxyCodeLine{02077             Set(rb, Decompress(ce), ia);}
\DoxyCodeLine{02078         \}}
\DoxyCodeLine{02079 }
\DoxyCodeLine{02088         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Set(Rigidbody2D rb, CompressedElement ce, IncludedAxes ia = IncludedAxes.XYZ)}
\DoxyCodeLine{02089         \{}
\DoxyCodeLine{02090             Set(rb, Decompress(ce), ia);}
\DoxyCodeLine{02091         \}}
\DoxyCodeLine{02100         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Set(Rigidbody rb, Element e, IncludedAxes ia = IncludedAxes.XYZ)}
\DoxyCodeLine{02101         \{}
\DoxyCodeLine{02102             \{}
\DoxyCodeLine{02103                 \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{02104                     CacheValues();}
\DoxyCodeLine{02105 }
\DoxyCodeLine{02106                 \textcolor{keywordflow}{switch} (\_trsType)}
\DoxyCodeLine{02107                 \{}
\DoxyCodeLine{02108                     \textcolor{keywordflow}{case} TRSType.Quaternion:}
\DoxyCodeLine{02109 }
\DoxyCodeLine{02110                         \textcolor{keywordflow}{if} (cache\_qEnabled)}
\DoxyCodeLine{02111                         \{}
\DoxyCodeLine{02112                             \textcolor{keywordflow}{if} (local \&\& rb.transform.parent)}
\DoxyCodeLine{02113                                 rb.rotation = rb.transform.parent.rotation * e.quat;}
\DoxyCodeLine{02114                                 \textcolor{comment}{//rb.transform.localRotation = e.quat;}}
\DoxyCodeLine{02115                             \textcolor{keywordflow}{else}}
\DoxyCodeLine{02116                                 rb.rotation = e.quat;}
\DoxyCodeLine{02117                         \}}
\DoxyCodeLine{02118 }
\DoxyCodeLine{02119                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{02120 }
\DoxyCodeLine{02121                     \textcolor{keywordflow}{case} TRSType.Position:}
\DoxyCodeLine{02122 }
\DoxyCodeLine{02123                         var localized = (local \& rb.transform.parent) ? rb.transform.TransformPoint(e.v) : e.v;}
\DoxyCodeLine{02124                         var currP = rb.position;}
\DoxyCodeLine{02125 }
\DoxyCodeLine{02126                         rb.position = \textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{02127                             cache\_xEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 1) != 0 ? localized.x : currP.x,}
\DoxyCodeLine{02128                             cache\_yEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 2) != 0 ? localized.y : currP.y,}
\DoxyCodeLine{02129                             cache\_zEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 4) != 0 ? localized.z : currP.z);}
\DoxyCodeLine{02130 }
\DoxyCodeLine{02131                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{02132 }
\DoxyCodeLine{02133                     \textcolor{keywordflow}{case} TRSType.Euler:}
\DoxyCodeLine{02134 }
\DoxyCodeLine{02135                         var currE = rb.rotation.eulerAngles;}
\DoxyCodeLine{02136 }
\DoxyCodeLine{02137                         \textcolor{keywordflow}{if} (local \&\& rb.transform.parent)}
\DoxyCodeLine{02138                         \{}
\DoxyCodeLine{02139                             rb.transform.eulerAngles = \textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{02140                                 cache\_xEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 1) != 0 ? e.v.x : currE.x,}
\DoxyCodeLine{02141                                 cache\_yEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 2) != 0 ? e.v.y : currE.y,}
\DoxyCodeLine{02142                                 cache\_zEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 4) != 0 ? e.v.z : currE.z}
\DoxyCodeLine{02143                                 );}
\DoxyCodeLine{02144                         \}}
\DoxyCodeLine{02145                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{02146                         \{}
\DoxyCodeLine{02147                             rb.rotation = Quaternion.Euler(}
\DoxyCodeLine{02148                             cache\_xEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 1) != 0 ? e.v.x : currE.x,}
\DoxyCodeLine{02149                             cache\_yEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 2) != 0 ? e.v.y : currE.y,}
\DoxyCodeLine{02150                             cache\_zEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 4) != 0 ? e.v.z : currE.z);}
\DoxyCodeLine{02151                         \}}
\DoxyCodeLine{02152                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{02153 }
\DoxyCodeLine{02154 }
\DoxyCodeLine{02155                     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{02156                         Debug.LogError(\textcolor{stringliteral}{"{}Are you trying to Apply scale to a Rigidbody?"{}});}
\DoxyCodeLine{02157                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{02158                 \}}
\DoxyCodeLine{02159             \}}
\DoxyCodeLine{02160         \}}
\DoxyCodeLine{02161 }
\DoxyCodeLine{02170         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Set(Rigidbody2D rb2d, Element e, IncludedAxes ia = IncludedAxes.XYZ)}
\DoxyCodeLine{02171         \{}
\DoxyCodeLine{02172             \{}
\DoxyCodeLine{02173                 \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{02174                     CacheValues();}
\DoxyCodeLine{02175 }
\DoxyCodeLine{02176                 \textcolor{keywordflow}{switch} (\_trsType)}
\DoxyCodeLine{02177                 \{}
\DoxyCodeLine{02178                     \textcolor{keywordflow}{case} TRSType.Quaternion:}
\DoxyCodeLine{02179 }
\DoxyCodeLine{02180                         \textcolor{keywordflow}{if} (cache\_qEnabled)}
\DoxyCodeLine{02181                         \{}
\DoxyCodeLine{02182                             \textcolor{keywordflow}{if} (local \&\& rb2d.transform.parent)}
\DoxyCodeLine{02183                                 rb2d.transform.localRotation = e.quat;}
\DoxyCodeLine{02184                             \textcolor{keywordflow}{else}}
\DoxyCodeLine{02185                                 rb2d.rotation = e.quat.z;}
\DoxyCodeLine{02186                         \}}
\DoxyCodeLine{02187 }
\DoxyCodeLine{02188                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{02189 }
\DoxyCodeLine{02190                     \textcolor{keywordflow}{case} TRSType.Position:}
\DoxyCodeLine{02191 }
\DoxyCodeLine{02192                         var localized = (local \& rb2d.transform.parent) ? rb2d.transform.TransformPoint(e.v) : e.v;}
\DoxyCodeLine{02193 }
\DoxyCodeLine{02194                         rb2d.position = \textcolor{keyword}{new} Vector2(}
\DoxyCodeLine{02195                             cache\_xEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 1) != 0 ? localized.x : rb2d.position.x,}
\DoxyCodeLine{02196                             cache\_yEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 2) != 0 ? localized.y : rb2d.position.y);}
\DoxyCodeLine{02197                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{02198 }
\DoxyCodeLine{02199                     \textcolor{keywordflow}{case} TRSType.Euler:}
\DoxyCodeLine{02200                         \textcolor{keywordflow}{if} (local \&\& rb2d.transform.parent)}
\DoxyCodeLine{02201                         \{}
\DoxyCodeLine{02202                             rb2d.transform.localEulerAngles = \textcolor{keyword}{new} Vector3(0, 0, (cache\_zEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 4) != 0 ? e.v.z : rb2d.rotation));}
\DoxyCodeLine{02203                         \}}
\DoxyCodeLine{02204                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{02205                         \{}
\DoxyCodeLine{02206                             rb2d.rotation = cache\_zEnabled \&\& ((int)ia \& 4) != 0 ? e.v.z : rb2d.rotation;}
\DoxyCodeLine{02207                         \}}
\DoxyCodeLine{02208                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{02209 }
\DoxyCodeLine{02210                     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{02211                         Debug.LogError(\textcolor{stringliteral}{"{}Are you trying to Apply scale to a Rigidbody?"{}});}
\DoxyCodeLine{02212                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{02213                 \}}
\DoxyCodeLine{02214             \}}
\DoxyCodeLine{02215         \}}
\DoxyCodeLine{02216 }
\DoxyCodeLine{02217 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{02218 }
\DoxyCodeLine{02219 \textcolor{preprocessor}{        \#region Transform Apply}}
\DoxyCodeLine{02220 }
\DoxyCodeLine{02227         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Apply(Transform trans, CompressedElement ce, IncludedAxes ia = IncludedAxes.XYZ)}
\DoxyCodeLine{02228         \{}
\DoxyCodeLine{02229             Apply(trans, Decompress(ce), ia);}
\DoxyCodeLine{02230         \}}
\DoxyCodeLine{02231 }
\DoxyCodeLine{02232 }
\DoxyCodeLine{02236         \textcolor{keyword}{public} \textcolor{keywordtype}{void} Apply(Transform trans, Element e, IncludedAxes ia = IncludedAxes.XYZ)}
\DoxyCodeLine{02237         \{}
\DoxyCodeLine{02238             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{02239                 CacheValues();}
\DoxyCodeLine{02240 }
\DoxyCodeLine{02241             \textcolor{keywordflow}{switch} (\_trsType)}
\DoxyCodeLine{02242             \{}
\DoxyCodeLine{02243                 \textcolor{keywordflow}{case} TRSType.Quaternion:}
\DoxyCodeLine{02244 }
\DoxyCodeLine{02245                     \textcolor{keywordflow}{if} (cache\_qEnabled)}
\DoxyCodeLine{02246                     \{}
\DoxyCodeLine{02247                         \textcolor{keywordflow}{if} (local)}
\DoxyCodeLine{02248                             trans.localRotation = e.quat;}
\DoxyCodeLine{02249                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{02250                             trans.rotation = e.quat;}
\DoxyCodeLine{02251                     \}}
\DoxyCodeLine{02252 }
\DoxyCodeLine{02253                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{02254 }
\DoxyCodeLine{02255                 \textcolor{keywordflow}{case} TRSType.Position:}
\DoxyCodeLine{02256 }
\DoxyCodeLine{02257                     \textcolor{keywordflow}{if} (local)}
\DoxyCodeLine{02258                     \{}
\DoxyCodeLine{02259                         trans.localPosition = \textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{02260                             cache\_xEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 1) != 0 ? e.v.x : trans.localPosition.x,}
\DoxyCodeLine{02261                             cache\_yEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 2) != 0 ? e.v.y : trans.localPosition.y,}
\DoxyCodeLine{02262                             cache\_zEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 4) != 0 ? e.v.z : trans.localPosition.z}
\DoxyCodeLine{02263                             );}
\DoxyCodeLine{02264                     \}}
\DoxyCodeLine{02265                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{02266                     \{}
\DoxyCodeLine{02267                         trans.position = \textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{02268                             cache\_xEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 1) != 0 ? e.v.x : trans.position.x,}
\DoxyCodeLine{02269                             cache\_yEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 2) != 0 ? e.v.y : trans.position.y,}
\DoxyCodeLine{02270                             cache\_zEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 4) != 0 ? e.v.z : trans.position.z}
\DoxyCodeLine{02271                             );}
\DoxyCodeLine{02272                     \}}
\DoxyCodeLine{02273                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{02274 }
\DoxyCodeLine{02275                 \textcolor{keywordflow}{case} TRSType.Euler:}
\DoxyCodeLine{02276 }
\DoxyCodeLine{02277                     \textcolor{keywordflow}{if} (local)}
\DoxyCodeLine{02278                     \{}
\DoxyCodeLine{02279                         trans.localEulerAngles = \textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{02280                             cache\_xEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 1) != 0 ? e.v.x : trans.localEulerAngles.x,}
\DoxyCodeLine{02281                             cache\_yEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 2) != 0 ? e.v.y : trans.localEulerAngles.y,}
\DoxyCodeLine{02282                             cache\_zEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 4) != 0 ? e.v.z : trans.localEulerAngles.z}
\DoxyCodeLine{02283                             );}
\DoxyCodeLine{02284                     \}}
\DoxyCodeLine{02285                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{02286                     \{}
\DoxyCodeLine{02287                         trans.eulerAngles = \textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{02288                             cache\_xEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 1) != 0 ? e.v.x : trans.eulerAngles.x,}
\DoxyCodeLine{02289                             cache\_yEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 2) != 0 ? e.v.y : trans.eulerAngles.y,}
\DoxyCodeLine{02290                             cache\_zEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 4) != 0 ? e.v.z : trans.eulerAngles.z}
\DoxyCodeLine{02291                             );}
\DoxyCodeLine{02292                     \}}
\DoxyCodeLine{02293                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{02294 }
\DoxyCodeLine{02295                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{02296                     \textcolor{keywordflow}{if} (local)}
\DoxyCodeLine{02297                     \{}
\DoxyCodeLine{02298                         \textcolor{keywordflow}{if} (uniformAxes == UniformAxes.NonUniform)}
\DoxyCodeLine{02299                         \{}
\DoxyCodeLine{02300                             trans.localScale = \textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{02301 }
\DoxyCodeLine{02302                             cache\_xEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 1) != 0 ? e.v.x : trans.localScale.x,}
\DoxyCodeLine{02303                             cache\_yEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 2) != 0 ? e.v.y : trans.localScale.y,}
\DoxyCodeLine{02304                             cache\_zEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 4) != 0 ? e.v.z : trans.localScale.z}
\DoxyCodeLine{02305                             );}
\DoxyCodeLine{02306                         \}}
\DoxyCodeLine{02307 }
\DoxyCodeLine{02308                         \textcolor{comment}{// Is a uniform scale}}
\DoxyCodeLine{02309                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{02310                         \{}
\DoxyCodeLine{02311                             \textcolor{keywordtype}{float} uniform = ((int)uniformAxes \& 1) != 0 ? e.v.x : e.v.y;}
\DoxyCodeLine{02312                             trans.localScale = \textcolor{keyword}{new} Vector3}
\DoxyCodeLine{02313                                 (}
\DoxyCodeLine{02314                                 ((\textcolor{keywordtype}{int})uniformAxes \& 1) != 0 ? uniform : trans.localScale.x,}
\DoxyCodeLine{02315                                 ((\textcolor{keywordtype}{int})uniformAxes \& 2) != 0 ? uniform : trans.localScale.y,}
\DoxyCodeLine{02316                                 ((\textcolor{keywordtype}{int})uniformAxes \& 4) != 0 ? uniform : trans.localScale.z}
\DoxyCodeLine{02317                                 );}
\DoxyCodeLine{02318                         \}}
\DoxyCodeLine{02319                     \}}
\DoxyCodeLine{02320                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{02321                     \{}
\DoxyCodeLine{02322                         \textcolor{keywordflow}{if} (uniformAxes == UniformAxes.NonUniform)}
\DoxyCodeLine{02323                         \{}
\DoxyCodeLine{02324                             trans.localScale = \textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{02325 }
\DoxyCodeLine{02326                             cache\_xEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 1) != 0 ? e.v.x : trans.lossyScale.x,}
\DoxyCodeLine{02327                             cache\_yEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 2) != 0 ? e.v.y : trans.lossyScale.y,}
\DoxyCodeLine{02328                             cache\_zEnabled \&\& ((\textcolor{keywordtype}{int})ia \& 4) != 0 ? e.v.z : trans.lossyScale.z}
\DoxyCodeLine{02329                             );}
\DoxyCodeLine{02330                         \}}
\DoxyCodeLine{02331 }
\DoxyCodeLine{02332                         \textcolor{comment}{// Is a uniform scale}}
\DoxyCodeLine{02333                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{02334                         \{}
\DoxyCodeLine{02335                             \textcolor{keywordtype}{float} uniform = ((int)uniformAxes \& 1) != 0 ? e.v.x : e.v.y;}
\DoxyCodeLine{02336                             trans.localScale = \textcolor{keyword}{new} Vector3}
\DoxyCodeLine{02337                                 (}
\DoxyCodeLine{02338                                 ((\textcolor{keywordtype}{int})uniformAxes \& 1) != 0 ? uniform : trans.lossyScale.x,}
\DoxyCodeLine{02339                                 ((\textcolor{keywordtype}{int})uniformAxes \& 2) != 0 ? uniform : trans.lossyScale.y,}
\DoxyCodeLine{02340                                 ((\textcolor{keywordtype}{int})uniformAxes \& 4) != 0 ? uniform : trans.lossyScale.z}
\DoxyCodeLine{02341                                 );}
\DoxyCodeLine{02342                         \}}
\DoxyCodeLine{02343                     \}}
\DoxyCodeLine{02344                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{02345             \}}
\DoxyCodeLine{02346         \}}
\DoxyCodeLine{02347 }
\DoxyCodeLine{02348         \textcolor{comment}{//public void Apply(Transform trans, Quaternion q)}}
\DoxyCodeLine{02349         \textcolor{comment}{//\{}}
\DoxyCodeLine{02350         \textcolor{comment}{//  if (!cached)}}
\DoxyCodeLine{02351         \textcolor{comment}{//      CacheValues();}}
\DoxyCodeLine{02352 }
\DoxyCodeLine{02353         \textcolor{comment}{//  if (\_trsType == TRSType.Quaternion)}}
\DoxyCodeLine{02354         \textcolor{comment}{//  \{}}
\DoxyCodeLine{02355         \textcolor{comment}{//      if (cache\_qEnabled)}}
\DoxyCodeLine{02356         \textcolor{comment}{//          if (local)}}
\DoxyCodeLine{02357         \textcolor{comment}{//              trans.rotation = q;}}
\DoxyCodeLine{02358         \textcolor{comment}{//          else}}
\DoxyCodeLine{02359         \textcolor{comment}{//              trans.localRotation = q;}}
\DoxyCodeLine{02360         \textcolor{comment}{//      return;}}
\DoxyCodeLine{02361         \textcolor{comment}{//  \}}}
\DoxyCodeLine{02362 }
\DoxyCodeLine{02363         \textcolor{comment}{//  DebugX.LogError("{}You seem to be trying to apply a Quaternion to "{} + System.Enum.GetName(typeof(TRSType), \_trsType) + "{}."{}, true, true);}}
\DoxyCodeLine{02364         \textcolor{comment}{//\}}}
\DoxyCodeLine{02365 }
\DoxyCodeLine{02366 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{02367 }
\DoxyCodeLine{02368 \textcolor{preprocessor}{        \#region  Utilities}}
\DoxyCodeLine{02369 }
\DoxyCodeLine{02375         \textcolor{keyword}{public} Vector3 Clamp(Vector3 v3)}
\DoxyCodeLine{02376         \{}
\DoxyCodeLine{02377             \textcolor{keywordflow}{if} (!cached)}
\DoxyCodeLine{02378                 CacheValues();}
\DoxyCodeLine{02379 }
\DoxyCodeLine{02380             \textcolor{keywordflow}{if} (TRSType == TRSType.Quaternion)}
\DoxyCodeLine{02381             \{}
\DoxyCodeLine{02382 \textcolor{preprocessor}{\#if UNITY\_EDITOR || DEVELOPMENT\_BUILD}}
\DoxyCodeLine{02383                 Debug.LogError(\textcolor{stringliteral}{"{}You cannot clamp a quaternion."{}});}
\DoxyCodeLine{02384 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02385                 \textcolor{keywordflow}{return} v3;}
\DoxyCodeLine{02386             \}}
\DoxyCodeLine{02387             \textcolor{keywordflow}{if} (TRSType == TRSType.Scale)}
\DoxyCodeLine{02388             \{}
\DoxyCodeLine{02389                 \textcolor{keywordflow}{if} (uniformAxes == UniformAxes.NonUniform)}
\DoxyCodeLine{02390                 \{}
\DoxyCodeLine{02391                     \textcolor{keywordflow}{return} \textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{02392                         (cache\_xEnabled) ? \_xcrusher.Clamp(v3.x) : 0,}
\DoxyCodeLine{02393                         (cache\_yEnabled) ? \_ycrusher.Clamp(v3.y) : 0,}
\DoxyCodeLine{02394                         (cache\_zEnabled) ? \_zcrusher.Clamp(v3.z) : 0}
\DoxyCodeLine{02395                     );}
\DoxyCodeLine{02396                 \}}
\DoxyCodeLine{02397                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{02398                 \{}
\DoxyCodeLine{02399                     \textcolor{keywordflow}{return} \textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{02400                     ((uniformAxes \& (UniformAxes)1) != 0) ? \_ucrusher.Clamp(v3.x) : 0,}
\DoxyCodeLine{02401                     ((uniformAxes \& (UniformAxes)2) != 0) ? \_ucrusher.Clamp(v3.x) : 0,}
\DoxyCodeLine{02402                     ((uniformAxes \& (UniformAxes)4) != 0) ? \_ucrusher.Clamp(v3.x) : 0}
\DoxyCodeLine{02403                     );}
\DoxyCodeLine{02404                 \}}
\DoxyCodeLine{02405             \}}
\DoxyCodeLine{02406             \textcolor{keywordflow}{if} (TRSType == TRSType.Euler)}
\DoxyCodeLine{02407             \{}
\DoxyCodeLine{02408                 \textcolor{keywordflow}{return} \textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{02409                     (cache\_xEnabled) ? \_xcrusher.ClampRotation(v3.x) : 0,}
\DoxyCodeLine{02410                     (cache\_yEnabled) ? \_ycrusher.ClampRotation(v3.y) : 0,}
\DoxyCodeLine{02411                     (cache\_zEnabled) ? \_zcrusher.ClampRotation(v3.z) : 0}
\DoxyCodeLine{02412                     );}
\DoxyCodeLine{02413             \}}
\DoxyCodeLine{02414             \textcolor{keywordflow}{else}}
\DoxyCodeLine{02415             \{}
\DoxyCodeLine{02416                 \textcolor{keywordflow}{return} \textcolor{keyword}{new} Vector3(}
\DoxyCodeLine{02417                         (cache\_xEnabled) ? \_xcrusher.Clamp(v3.x) : 0,}
\DoxyCodeLine{02418                         (cache\_yEnabled) ? \_ycrusher.Clamp(v3.y) : 0,}
\DoxyCodeLine{02419                         (cache\_zEnabled) ? \_zcrusher.Clamp(v3.z) : 0}
\DoxyCodeLine{02420                     );}
\DoxyCodeLine{02421             \}}
\DoxyCodeLine{02422         \}}
\DoxyCodeLine{02426         \textcolor{keyword}{public} BitCullingLevel FindBestBitCullLevel(CompressedElement a, CompressedElement b, BitCullingLevel maxCulling)}
\DoxyCodeLine{02427         \{}
\DoxyCodeLine{02429             \textcolor{keywordflow}{if} (TRSType == TRSType.Quaternion)}
\DoxyCodeLine{02430             \{}
\DoxyCodeLine{02431                 \textcolor{keywordflow}{if} ((ulong)a.cQuat == (ulong)b.cQuat)}
\DoxyCodeLine{02432                     \textcolor{keywordflow}{return} BitCullingLevel.DropAll;}
\DoxyCodeLine{02433                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{02434                     \textcolor{keywordflow}{return} BitCullingLevel.NoCulling;}
\DoxyCodeLine{02435             \}}
\DoxyCodeLine{02436 }
\DoxyCodeLine{02437             \textcolor{keywordflow}{if} (maxCulling == BitCullingLevel.NoCulling || !TestMatchingUpper(a, b, BitCullingLevel.DropThird))}
\DoxyCodeLine{02438                 \textcolor{keywordflow}{return} BitCullingLevel.NoCulling;}
\DoxyCodeLine{02439 }
\DoxyCodeLine{02440             \textcolor{keywordflow}{if} (maxCulling == BitCullingLevel.DropThird || !TestMatchingUpper(a, b, BitCullingLevel.DropHalf))}
\DoxyCodeLine{02441                 \textcolor{keywordflow}{return} BitCullingLevel.DropThird;}
\DoxyCodeLine{02442 }
\DoxyCodeLine{02443             \textcolor{keywordflow}{if} (maxCulling == BitCullingLevel.DropHalf || !TestMatchingUpper(a, b, BitCullingLevel.DropAll))}
\DoxyCodeLine{02444                 \textcolor{keywordflow}{return} BitCullingLevel.DropHalf;}
\DoxyCodeLine{02445 }
\DoxyCodeLine{02446             \textcolor{comment}{// both values are the same}}
\DoxyCodeLine{02447             \textcolor{keywordflow}{return} BitCullingLevel.DropAll;}
\DoxyCodeLine{02448         \}}
\DoxyCodeLine{02449 }
\DoxyCodeLine{02450         \textcolor{keyword}{private} \textcolor{keywordtype}{bool} TestMatchingUpper(uint a, uint b, \textcolor{keywordtype}{int} lowerbits)}
\DoxyCodeLine{02451         \{}
\DoxyCodeLine{02452             \textcolor{keywordflow}{return} (((a >> lowerbits) << lowerbits) == ((b >> lowerbits) << lowerbits));}
\DoxyCodeLine{02453         \}}
\DoxyCodeLine{02454 }
\DoxyCodeLine{02455         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} TestMatchingUpper(CompressedElement a, CompressedElement b, BitCullingLevel bcl)}
\DoxyCodeLine{02456         \{}
\DoxyCodeLine{02457             \textcolor{keywordflow}{return}}
\DoxyCodeLine{02458                 (}
\DoxyCodeLine{02459                 TestMatchingUpper(a.cx, b.cx, \_xcrusher.GetBits(bcl)) \&\&}
\DoxyCodeLine{02460                 TestMatchingUpper(a.cy, b.cy, \_ycrusher.GetBits(bcl)) \&\&}
\DoxyCodeLine{02461                 TestMatchingUpper(a.cz, b.cz, \_zcrusher.GetBits(bcl))}
\DoxyCodeLine{02462                 );}
\DoxyCodeLine{02463         \}}
\DoxyCodeLine{02464 }
\DoxyCodeLine{02468         \textcolor{keyword}{public} \textcolor{keywordtype}{int} TallyBits(BitCullingLevel bcl = BitCullingLevel.NoCulling)}
\DoxyCodeLine{02469         \{}
\DoxyCodeLine{02470             \textcolor{keywordflow}{if} (\_trsType == TRSType.Scale \&\& uniformAxes != UniformAxes.NonUniform)}
\DoxyCodeLine{02471             \{}
\DoxyCodeLine{02472                 \textcolor{keywordflow}{return} (\_ucrusher != \textcolor{keyword}{null} \&\& \_ucrusher.Enabled) ? \_ucrusher.GetBits(bcl) : 0;}
\DoxyCodeLine{02473             \}}
\DoxyCodeLine{02474             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\_trsType == TRSType.Quaternion)}
\DoxyCodeLine{02475             \{}
\DoxyCodeLine{02476                 \textcolor{keywordflow}{return} (\_qcrusher != \textcolor{keyword}{null} \&\& \_qcrusher.Enabled) ? \_qcrusher.Bits : 0;}
\DoxyCodeLine{02477             \}}
\DoxyCodeLine{02478             \textcolor{keywordflow}{else}}
\DoxyCodeLine{02479             \{}
\DoxyCodeLine{02480                 \textcolor{keywordflow}{if} (\_trsType == TRSType.Position \&\& useWorldBounds)}
\DoxyCodeLine{02481                 \{}
\DoxyCodeLine{02482                     \textcolor{keywordflow}{return} WorldBoundsSettings.TallyBits(ref boundsGroupId);}
\DoxyCodeLine{02483                 \}}
\DoxyCodeLine{02484                 \textcolor{keywordflow}{return}}
\DoxyCodeLine{02485                     ((\_xcrusher != \textcolor{keyword}{null} \&\& \_xcrusher.Enabled) ? \_xcrusher.GetBits(bcl) : 0) +}
\DoxyCodeLine{02486                     ((\_ycrusher != \textcolor{keyword}{null} \&\& \_ycrusher.Enabled) ? \_ycrusher.GetBits(bcl) : 0) +}
\DoxyCodeLine{02487                     ((\_zcrusher != \textcolor{keyword}{null} \&\& \_zcrusher.Enabled) ? \_zcrusher.GetBits(bcl) : 0);}
\DoxyCodeLine{02488             \}}
\DoxyCodeLine{02489         \}}
\DoxyCodeLine{02490 }
\DoxyCodeLine{02491         \textcolor{keyword}{public} \textcolor{keywordtype}{void} CopyFrom(ElementCrusher src)}
\DoxyCodeLine{02492         \{}
\DoxyCodeLine{02493             \_trsType = src.\_trsType;}
\DoxyCodeLine{02494             uniformAxes = src.uniformAxes;}
\DoxyCodeLine{02495             \textcolor{keywordflow}{if} (\_xcrusher != \textcolor{keyword}{null} \&\& src.\_xcrusher != \textcolor{keyword}{null}) \_xcrusher.CopyFrom(src.\_xcrusher);}
\DoxyCodeLine{02496             \textcolor{keywordflow}{if} (\_ycrusher != \textcolor{keyword}{null} \&\& src.\_ycrusher != \textcolor{keyword}{null}) \_ycrusher.CopyFrom(src.\_ycrusher);}
\DoxyCodeLine{02497             \textcolor{keywordflow}{if} (\_zcrusher != \textcolor{keyword}{null} \&\& src.\_zcrusher != \textcolor{keyword}{null}) \_zcrusher.CopyFrom(src.\_zcrusher);}
\DoxyCodeLine{02498             \textcolor{keywordflow}{if} (\_ucrusher != \textcolor{keyword}{null} \&\& src.\_ucrusher != \textcolor{keyword}{null}) \_ucrusher.CopyFrom(src.\_ucrusher);}
\DoxyCodeLine{02499             \textcolor{keywordflow}{if} (\_qcrusher != \textcolor{keyword}{null} \&\& src.\_qcrusher != \textcolor{keyword}{null}) \_qcrusher.CopyFrom(src.\_qcrusher);}
\DoxyCodeLine{02500             local = src.local;}
\DoxyCodeLine{02501         \}}
\DoxyCodeLine{02502 }
\DoxyCodeLine{02503         \textcolor{keyword}{public} \textcolor{keyword}{override} \textcolor{keywordtype}{string} ToString()}
\DoxyCodeLine{02504         \{}
\DoxyCodeLine{02505             \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}ElementCrusher ["{}} + \_trsType + \textcolor{stringliteral}{"{}] "{}};}
\DoxyCodeLine{02506         \}}
\DoxyCodeLine{02507 }
\DoxyCodeLine{02508 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{02509 }
\DoxyCodeLine{02510 \textcolor{preprocessor}{        \#region IEquatable}}
\DoxyCodeLine{02511 }
\DoxyCodeLine{02512         \textcolor{keyword}{public} \textcolor{keyword}{override} \textcolor{keywordtype}{bool} Equals(\textcolor{keywordtype}{object} obj)}
\DoxyCodeLine{02513         \{}
\DoxyCodeLine{02514             \textcolor{keywordflow}{return} Equals(obj as ElementCrusher);}
\DoxyCodeLine{02515         \}}
\DoxyCodeLine{02516 }
\DoxyCodeLine{02517         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} Equals(ElementCrusher other)}
\DoxyCodeLine{02518         \{}
\DoxyCodeLine{02519             \textcolor{keywordflow}{return} other != \textcolor{keyword}{null} \&\&}
\DoxyCodeLine{02520                    \_trsType == other.\_trsType \&\&}
\DoxyCodeLine{02521                    EqualityComparer<Transform>.Default.Equals(defaultTransform, other.defaultTransform) \&\&}
\DoxyCodeLine{02522                    uniformAxes == other.uniformAxes \&\&}
\DoxyCodeLine{02523 }
\DoxyCodeLine{02524                    (\_xcrusher == \textcolor{keyword}{null} ? (other.\_xcrusher == \textcolor{keyword}{null}) : \_xcrusher.Equals(other.\_xcrusher)) \&\&}
\DoxyCodeLine{02525                    (\_ycrusher == \textcolor{keyword}{null} ? (other.\_ycrusher == \textcolor{keyword}{null}) : \_ycrusher.Equals(other.\_ycrusher)) \&\&}
\DoxyCodeLine{02526                    (\_zcrusher == \textcolor{keyword}{null} ? (other.\_zcrusher == \textcolor{keyword}{null}) : \_zcrusher.Equals(other.\_zcrusher)) \&\&}
\DoxyCodeLine{02527                    (\_ucrusher == \textcolor{keyword}{null} ? (other.\_ucrusher == \textcolor{keyword}{null}) : \_ucrusher.Equals(other.\_ucrusher)) \&\&}
\DoxyCodeLine{02528                    (\_qcrusher == \textcolor{keyword}{null} ? (other.\_qcrusher == \textcolor{keyword}{null}) : \_qcrusher.Equals(other.\_qcrusher)) \&\&}
\DoxyCodeLine{02529 }
\DoxyCodeLine{02530                    local == other.local;}
\DoxyCodeLine{02531         \}}
\DoxyCodeLine{02532 }
\DoxyCodeLine{02533         \textcolor{keyword}{public} \textcolor{keyword}{override} \textcolor{keywordtype}{int} GetHashCode()}
\DoxyCodeLine{02534         \{}
\DoxyCodeLine{02535 }
\DoxyCodeLine{02536             var hashCode = -\/1042106911;}
\DoxyCodeLine{02537             hashCode = hashCode * -\/1521134295 + \_trsType.GetHashCode();}
\DoxyCodeLine{02538             \textcolor{comment}{//hashCode = hashCode * -\/1521134295 + EqualityComparer<Transform>.Default.GetHashCode(defaultTransform);}}
\DoxyCodeLine{02539             hashCode = hashCode * -\/1521134295 + uniformAxes.GetHashCode();}
\DoxyCodeLine{02540             hashCode = hashCode * -\/1521134295 + ((\_xcrusher == \textcolor{keyword}{null}) ? 0 : \_xcrusher.GetHashCode());}
\DoxyCodeLine{02541             hashCode = hashCode * -\/1521134295 + ((\_ycrusher == \textcolor{keyword}{null}) ? 0 : \_ycrusher.GetHashCode());}
\DoxyCodeLine{02542             hashCode = hashCode * -\/1521134295 + ((\_zcrusher == \textcolor{keyword}{null}) ? 0 : \_zcrusher.GetHashCode());}
\DoxyCodeLine{02543             hashCode = hashCode * -\/1521134295 + ((\_ucrusher == \textcolor{keyword}{null}) ? 0 : \_ucrusher.GetHashCode());}
\DoxyCodeLine{02544             hashCode = hashCode * -\/1521134295 + ((\_qcrusher == \textcolor{keyword}{null}) ? 0 : \_qcrusher.GetHashCode());}
\DoxyCodeLine{02545             \textcolor{comment}{//hashCode = hashCode * -\/1521134295 + EqualityComparer<FloatCrusher>.Default.GetHashCode(ycrusher);}}
\DoxyCodeLine{02546             \textcolor{comment}{//hashCode = hashCode * -\/1521134295 + EqualityComparer<FloatCrusher>.Default.GetHashCode(zcrusher);}}
\DoxyCodeLine{02547             \textcolor{comment}{//hashCode = hashCode * -\/1521134295 + EqualityComparer<FloatCrusher>.Default.GetHashCode(ucrusher);}}
\DoxyCodeLine{02548             \textcolor{comment}{//hashCode = hashCode * -\/1521134295 + EqualityComparer<QuatCrusher>.Default.GetHashCode(qcrusher);}}
\DoxyCodeLine{02549             hashCode = hashCode * -\/1521134295 + local.GetHashCode();}
\DoxyCodeLine{02550 }
\DoxyCodeLine{02551             \textcolor{keywordflow}{return} hashCode;}
\DoxyCodeLine{02552         \}}
\DoxyCodeLine{02553 }
\DoxyCodeLine{02554         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} operator ==(ElementCrusher crusher1, ElementCrusher crusher2)}
\DoxyCodeLine{02555         \{}
\DoxyCodeLine{02556             \textcolor{keywordflow}{return} EqualityComparer<ElementCrusher>.Default.Equals(crusher1, crusher2);}
\DoxyCodeLine{02557         \}}
\DoxyCodeLine{02558 }
\DoxyCodeLine{02559         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} operator !=(ElementCrusher crusher1, ElementCrusher crusher2)}
\DoxyCodeLine{02560         \{}
\DoxyCodeLine{02561             \textcolor{keywordflow}{return} !(crusher1 == crusher2);}
\DoxyCodeLine{02562         \}}
\DoxyCodeLine{02563 }
\DoxyCodeLine{02564 \textcolor{preprocessor}{        \#endregion}}
\DoxyCodeLine{02565     \}}
\DoxyCodeLine{02566 }
\DoxyCodeLine{02567 \textcolor{preprocessor}{    \#region UnityEditor Drawer}}
\DoxyCodeLine{02568 }
\DoxyCodeLine{02569 \textcolor{preprocessor}{\#if UNITY\_EDITOR}}
\DoxyCodeLine{02570 }
\DoxyCodeLine{02571     [CustomPropertyDrawer(typeof(ElementCrusher))]}
\DoxyCodeLine{02572     [CanEditMultipleObjects]}
\DoxyCodeLine{02573     [AddComponentMenu(\textcolor{stringliteral}{"{}Crusher/Element Crusher"{}})]}
\DoxyCodeLine{02574 }
\DoxyCodeLine{02575     \textcolor{keyword}{public} \textcolor{keyword}{class }ElementCrusherDrawer : CrusherDrawer}
\DoxyCodeLine{02576     \{}
\DoxyCodeLine{02577         \textcolor{keyword}{public} \textcolor{keyword}{const} \textcolor{keywordtype}{float} TOP\_PAD = 2f;}
\DoxyCodeLine{02578         \textcolor{keyword}{public} \textcolor{keyword}{const} \textcolor{keywordtype}{float} BTM\_PAD = 2f;}
\DoxyCodeLine{02579         \textcolor{comment}{//public const float BTM\_PAD\_SINGLE = 2f;}}
\DoxyCodeLine{02580         \textcolor{keyword}{private} \textcolor{keyword}{const} \textcolor{keywordtype}{float} TITL\_HGHT = 16f;}
\DoxyCodeLine{02581         \textcolor{keywordtype}{bool} haschanged;}
\DoxyCodeLine{02582 }
\DoxyCodeLine{02583         \textcolor{keyword}{private} \textcolor{keyword}{static} GUIContent gc\_label = \textcolor{keyword}{new} GUIContent();}
\DoxyCodeLine{02584         \textcolor{keyword}{public} \textcolor{keyword}{static} readonly GUIContent GC\_USE\_WRLDBNDS\_LONG = \textcolor{keyword}{new} GUIContent(\textcolor{stringliteral}{"{}Use World Bounds"{}}, \textcolor{stringliteral}{"{}Use position crusher generated by 'WorldBounds' components attached to scene objects."{}});}
\DoxyCodeLine{02585         \textcolor{keyword}{public} \textcolor{keyword}{static} readonly GUIContent GC\_USE\_WRLDBNDS\_SHRT = \textcolor{keyword}{new} GUIContent(\textcolor{stringliteral}{"{}World Bnds"{}}, \textcolor{stringliteral}{"{}Use position crusher generated by 'WorldBounds' components attached to scene objects."{}});}
\DoxyCodeLine{02586         readonly GUIContent GC\_LCL = \textcolor{keyword}{new} GUIContent(\textcolor{stringliteral}{"{}Lcl"{}});}
\DoxyCodeLine{02587 }
\DoxyCodeLine{02588         \textcolor{keyword}{private} \textcolor{keywordtype}{int} holdindent;}
\DoxyCodeLine{02589 }
\DoxyCodeLine{02590         \textcolor{keyword}{public} \textcolor{keyword}{override} \textcolor{keywordtype}{void} OnGUI(Rect r, SerializedProperty property, GUIContent label)}
\DoxyCodeLine{02591         \{}
\DoxyCodeLine{02592             haschanged = \textcolor{keyword}{false};}
\DoxyCodeLine{02593             EditorGUI.BeginChangeCheck();}
\DoxyCodeLine{02594 }
\DoxyCodeLine{02595             \textcolor{keywordtype}{bool} isWorldBounds = label.text.Contains(\textcolor{stringliteral}{"{}World Bounds"{}});}
\DoxyCodeLine{02596             \textcolor{keywordtype}{bool} disableRanges = (label.tooltip != \textcolor{keyword}{null} \&\& label.tooltip.Contains(\textcolor{stringliteral}{"{}DISABLE\_RANGES"{}}));}
\DoxyCodeLine{02597 }
\DoxyCodeLine{02598             gc\_label.text = label.text;}
\DoxyCodeLine{02599             gc\_label.tooltip = (disableRanges) ? \textcolor{keyword}{null} : label.tooltip;}
\DoxyCodeLine{02600 }
\DoxyCodeLine{02601             base.OnGUI(r, property, label);}
\DoxyCodeLine{02602 }
\DoxyCodeLine{02603             holdindent = EditorGUI.indentLevel;}
\DoxyCodeLine{02604 }
\DoxyCodeLine{02605             \textcolor{comment}{// Hacky way to get the real object}}
\DoxyCodeLine{02606             ElementCrusher target = (ElementCrusher)DrawerUtils.GetParent(property.FindPropertyRelative(\textcolor{stringliteral}{"{}\_xcrusher"{}}));}
\DoxyCodeLine{02607 }
\DoxyCodeLine{02608             \textcolor{comment}{//SerializedProperty uniformAxes = property.FindPropertyRelative("{}uniformAxes"{});}}
\DoxyCodeLine{02609             SerializedProperty x = \textcolor{keyword}{property}.FindPropertyRelative(\textcolor{stringliteral}{"{}\_xcrusher"{}});}
\DoxyCodeLine{02610             SerializedProperty y = \textcolor{keyword}{property}.FindPropertyRelative(\textcolor{stringliteral}{"{}\_ycrusher"{}});}
\DoxyCodeLine{02611             SerializedProperty z = \textcolor{keyword}{property}.FindPropertyRelative(\textcolor{stringliteral}{"{}\_zcrusher"{}});}
\DoxyCodeLine{02612             SerializedProperty u = \textcolor{keyword}{property}.FindPropertyRelative(\textcolor{stringliteral}{"{}\_ucrusher"{}});}
\DoxyCodeLine{02613             SerializedProperty q = \textcolor{keyword}{property}.FindPropertyRelative(\textcolor{stringliteral}{"{}\_qcrusher"{}});}
\DoxyCodeLine{02614             SerializedProperty hideFieldName = \textcolor{keyword}{property}.FindPropertyRelative(\textcolor{stringliteral}{"{}hideFieldName"{}});}
\DoxyCodeLine{02615             SerializedProperty useWorldBounds = \textcolor{keyword}{property}.FindPropertyRelative(\textcolor{stringliteral}{"{}useWorldBounds"{}});}
\DoxyCodeLine{02616             SerializedProperty boundsGroupId = \textcolor{keyword}{property}.FindPropertyRelative(\textcolor{stringliteral}{"{}boundsGroupId"{}});}
\DoxyCodeLine{02617             SerializedProperty isExpanded = \textcolor{keyword}{property}.FindPropertyRelative(\textcolor{stringliteral}{"{}isExpanded"{}});}
\DoxyCodeLine{02618 }
\DoxyCodeLine{02619             \textcolor{keywordtype}{float} xh = EditorGUI.GetPropertyHeight(x);}
\DoxyCodeLine{02620             \textcolor{keywordtype}{float} yh = EditorGUI.GetPropertyHeight(y);}
\DoxyCodeLine{02621             \textcolor{keywordtype}{float} zh = EditorGUI.GetPropertyHeight(z);}
\DoxyCodeLine{02622             \textcolor{keywordtype}{float} wh = EditorGUI.GetPropertyHeight(u);}
\DoxyCodeLine{02623             \textcolor{keywordtype}{float} qh = EditorGUI.GetPropertyHeight(q);}
\DoxyCodeLine{02624 }
\DoxyCodeLine{02625 }
\DoxyCodeLine{02626             \textcolor{comment}{//bool isQuatCrush = target.TRSType == TRSType.Quaternion;}}
\DoxyCodeLine{02627             \textcolor{comment}{//bool isUniformScale = target.TRSType == TRSType.Scale \&\& target.uniformAxes != 0;}}
\DoxyCodeLine{02628             \textcolor{keywordtype}{bool} isWrappedInTransformCrusher = DrawerUtils.GetParent(property) is TransformCrusher;}
\DoxyCodeLine{02629             \textcolor{keywordtype}{bool} showHeader = !hideFieldName.boolValue \&\& !isWrappedInTransformCrusher;}
\DoxyCodeLine{02630 }
\DoxyCodeLine{02631 }
\DoxyCodeLine{02632             Rect ir = EditorGUI.IndentedRect(r);}
\DoxyCodeLine{02633 }
\DoxyCodeLine{02634             \textcolor{keywordtype}{float} currentline = r.yMin;}
\DoxyCodeLine{02635 }
\DoxyCodeLine{02636             \textcolor{keywordflow}{if} (showHeader)}
\DoxyCodeLine{02637             \{}
\DoxyCodeLine{02638                 EditorGUI.LabelField(\textcolor{keyword}{new} Rect(r.xMin, currentline, r.width, LINEHEIGHT), gc\_label); \textcolor{comment}{//*/ property.displayName);}}
\DoxyCodeLine{02639                 currentline += LINEHEIGHT + SPACING;}
\DoxyCodeLine{02640                 ir.yMin += LINEHEIGHT;}
\DoxyCodeLine{02641             \}}
\DoxyCodeLine{02642             \textcolor{keywordflow}{else}}
\DoxyCodeLine{02643             \{}
\DoxyCodeLine{02644                 currentline += SPACING;}
\DoxyCodeLine{02645             \}}
\DoxyCodeLine{02646 }
\DoxyCodeLine{02647             \textcolor{comment}{//ir.yMin += currentline;}}
\DoxyCodeLine{02648             Rect framer = ir;}
\DoxyCodeLine{02649             \textcolor{keywordflow}{if} (!isWorldBounds)}
\DoxyCodeLine{02650             \{}
\DoxyCodeLine{02651                 framer.height -\/= BTTM\_MARGIN;}
\DoxyCodeLine{02652                 Rect oframer = \textcolor{keyword}{new} Rect(framer.xMin -\/ 1, framer.yMin -\/ 1, framer.width + 2, framer.height + 2);}
\DoxyCodeLine{02653                 SolidTextures.DrawTexture(oframer, SolidTextures.lowcontrast2D);}
\DoxyCodeLine{02654                 SolidTextures.DrawTexture(framer, SolidTextures.contrastgray2D);}
\DoxyCodeLine{02655             \}}
\DoxyCodeLine{02656             \textcolor{keywordflow}{else}}
\DoxyCodeLine{02657             \{}
\DoxyCodeLine{02658                 \textcolor{keyword}{const} \textcolor{keywordtype}{int} unpad = 4;}
\DoxyCodeLine{02659                 r.xMin -\/= unpad; r.xMax += unpad;}
\DoxyCodeLine{02660                 ir.xMin -\/= unpad; ir.xMax += unpad;}
\DoxyCodeLine{02661             \}}
\DoxyCodeLine{02662 }
\DoxyCodeLine{02663 }
\DoxyCodeLine{02664             \textcolor{comment}{//GUI.Box(new Rect(ir.xMin -\/ 2, currentline -\/ 2, ir.width + 4, ir.height -\/ 2), GUIContent.none, (GUIStyle)"{}GroupBox"{});}}
\DoxyCodeLine{02665             \textcolor{comment}{//SolidTextures.DrawTexture(new Rect(ir.xMin -\/ 2, currentline -\/2, ir.width + 4, ir.height), SolidTextures.highcontrast2D);}}
\DoxyCodeLine{02666             \textcolor{comment}{//SolidTextures.DrawTexture(new Rect(ir.xMin -\/ 1, currentline -\/ 1, ir.width + 2, ir.height -\/ 1), SolidTextures.white2D);}}
\DoxyCodeLine{02667 }
\DoxyCodeLine{02668             \textcolor{comment}{//SolidTextures.DrawTexture(new Rect(ir.xMin -\/ 2, currentline -\/ 2, ir.width + 4, ir.height -\/ BTM\_PAD), SolidTextures.lowcontrast2D);}}
\DoxyCodeLine{02669             \textcolor{comment}{//SolidTextures.DrawTexture(new Rect(ir.xMin, currentline, ir.width, 16 + 1/*+ SPACING*/), SolidTextures.contrastgray2D);}}
\DoxyCodeLine{02670 }
\DoxyCodeLine{02671 \textcolor{preprocessor}{\#if UNITY\_2019\_3\_OR\_NEWER}}
\DoxyCodeLine{02672             \textcolor{keyword}{const} \textcolor{keywordtype}{int} localtoggleleft = 74;}
\DoxyCodeLine{02673 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02674             \textcolor{keyword}{const} \textcolor{keywordtype}{int} localtoggleleft = 76;}
\DoxyCodeLine{02675 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02676             \textcolor{keywordtype}{float} fcLeft = ir.xMin + ((isWorldBounds) ? 4 : 15);}
\DoxyCodeLine{02677             \textcolor{keywordtype}{float} enumwidth = (ir.width -\/ 99) / 2 -\/ 1;}
\DoxyCodeLine{02678             \textcolor{keywordtype}{float} fcLeft2 = fcLeft + enumwidth + 2;}
\DoxyCodeLine{02679 }
\DoxyCodeLine{02680 }
\DoxyCodeLine{02681             isExpanded.boolValue = (isWorldBounds) ? \textcolor{keyword}{true} :}
\DoxyCodeLine{02682                 GUI.Toggle(\textcolor{keyword}{new} Rect(ir.xMin + 2, currentline, 16, LINEHEIGHT), isExpanded.boolValue, GUIContent.none, FOLDOUT\_STYLE);}
\DoxyCodeLine{02683 }
\DoxyCodeLine{02684             \textcolor{keywordflow}{if} (target.enableTRSTypeSelector)}
\DoxyCodeLine{02685             \{}
\DoxyCodeLine{02686                 EditorGUI.indentLevel = 0;}
\DoxyCodeLine{02687                 var trsType = (TRSType)EditorGUI.EnumPopup(\textcolor{keyword}{new} Rect(fcLeft -\/ 2, currentline -\/ 1, enumwidth, LINEHEIGHT), target.TRSType, (GUIStyle)\textcolor{stringliteral}{"{}GV Gizmo DropDown"{}});}
\DoxyCodeLine{02688                 EditorGUI.indentLevel = holdindent;}
\DoxyCodeLine{02689                 \textcolor{keywordflow}{if} (target.TRSType != trsType)}
\DoxyCodeLine{02690                 \{}
\DoxyCodeLine{02691                     haschanged = \textcolor{keyword}{true};}
\DoxyCodeLine{02692                     Undo.RecordObject(property.serializedObject.targetObject, \textcolor{stringliteral}{"{}Select TRS Type"{}});}
\DoxyCodeLine{02693                     target.TRSType = trsType;}
\DoxyCodeLine{02694                 \}}
\DoxyCodeLine{02695             \}}
\DoxyCodeLine{02696             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (target.TRSType == TRSType.Quaternion || target.TRSType == TRSType.Euler)}
\DoxyCodeLine{02697             \{}
\DoxyCodeLine{02698                 EditorGUI.indentLevel = 0;}
\DoxyCodeLine{02699                 var trsType = (TRSType)EditorGUI.EnumPopup(\textcolor{keyword}{new} Rect(fcLeft -\/ 2, currentline -\/ 1, enumwidth, LINEHEIGHT), GUIContent.none, (RotationType)target.TRSType, (GUIStyle)\textcolor{stringliteral}{"{}GV Gizmo DropDown"{}});}
\DoxyCodeLine{02700                 EditorGUI.indentLevel = holdindent;}
\DoxyCodeLine{02701                 \textcolor{keywordflow}{if} (target.TRSType != trsType)}
\DoxyCodeLine{02702                 \{}
\DoxyCodeLine{02703                     haschanged = \textcolor{keyword}{true};}
\DoxyCodeLine{02704                     Undo.RecordObject(property.serializedObject.targetObject, \textcolor{stringliteral}{"{}Select Rotation Type"{}});}
\DoxyCodeLine{02705                     target.TRSType = trsType;}
\DoxyCodeLine{02706                 \}}
\DoxyCodeLine{02707             \}}
\DoxyCodeLine{02708             \textcolor{keywordflow}{else}}
\DoxyCodeLine{02709             \{}
\DoxyCodeLine{02710                 GUIContent title =}
\DoxyCodeLine{02711                     (isWrappedInTransformCrusher || showHeader) ? \textcolor{keyword}{new} GUIContent(Enum.GetName(typeof(TRSType), target.TRSType)) : gc\_label; \textcolor{comment}{// + "{} Crshr"{});}}
\DoxyCodeLine{02712                 GUI.Label(\textcolor{keyword}{new} Rect(fcLeft + 2, currentline, r.width, LINEHEIGHT), title, MINI\_LBL\_STYLE);}
\DoxyCodeLine{02713             \}}
\DoxyCodeLine{02714 }
\DoxyCodeLine{02716             \textcolor{keywordflow}{if} (target.TRSType == TRSType.Position \&\& !isWorldBounds)}
\DoxyCodeLine{02717             \{}
\DoxyCodeLine{02718                 EditorGUI.indentLevel = 0;}
\DoxyCodeLine{02719 }
\DoxyCodeLine{02720                 GUIContent wb\_gc = (r.width > 320) ? GC\_USE\_WRLDBNDS\_LONG : GC\_USE\_WRLDBNDS\_SHRT;}
\DoxyCodeLine{02721 }
\DoxyCodeLine{02722                 EditorGUI.LabelField(\textcolor{keyword}{new} Rect(fcLeft2 + 14, currentline, enumwidth -\/ 10, LINEHEIGHT), wb\_gc, MINI\_LBL\_STYLE);}
\DoxyCodeLine{02723                 \textcolor{keywordtype}{bool} useWrldBnds = GUI.Toggle(\textcolor{keyword}{new} Rect(fcLeft2, currentline, 16, LINEHEIGHT), useWorldBounds.boolValue, GUIContent.none, MINI\_TGL\_STYLE);}
\DoxyCodeLine{02724                 \textcolor{keywordflow}{if} (useWrldBnds != useWorldBounds.boolValue)}
\DoxyCodeLine{02725                 \{}
\DoxyCodeLine{02726                     haschanged = \textcolor{keyword}{true};}
\DoxyCodeLine{02727                     Undo.RecordObject(property.serializedObject.targetObject, \textcolor{stringliteral}{"{}Toggle Use World Bounds"{}});}
\DoxyCodeLine{02728                     target.UseWorldBounds = useWrldBnds;}
\DoxyCodeLine{02729                 \}}
\DoxyCodeLine{02730                 EditorGUI.indentLevel = holdindent;}
\DoxyCodeLine{02731             \}}
\DoxyCodeLine{02732 }
\DoxyCodeLine{02733             \textcolor{keywordflow}{if} (target.enableLocalSelector \&\& (target.TRSType != TRSType.Position || !target.UseWorldBounds))}
\DoxyCodeLine{02734             \{}
\DoxyCodeLine{02735                 EditorGUI.indentLevel = 0;}
\DoxyCodeLine{02736 }
\DoxyCodeLine{02737                 GUI.Label(\textcolor{keyword}{new} Rect(paddedright -\/ localtoggleleft + 14 \textcolor{comment}{/*+ 14*/}, currentline, 80, LINEHEIGHT), GC\_LCL, MINI\_LBL\_STYLE);}
\DoxyCodeLine{02738 }
\DoxyCodeLine{02739                 \textcolor{keywordtype}{bool} local = GUI.Toggle(\textcolor{keyword}{new} Rect(paddedright -\/ localtoggleleft, currentline, 20, LINEHEIGHT), target.local, GUIContent.none, MINI\_TGL\_STYLE);}
\DoxyCodeLine{02740 }
\DoxyCodeLine{02741                 \textcolor{keywordflow}{if} (target.local != local)}
\DoxyCodeLine{02742                 \{}
\DoxyCodeLine{02743                     haschanged = \textcolor{keyword}{true};}
\DoxyCodeLine{02744                     Undo.RecordObject(property.serializedObject.targetObject, \textcolor{stringliteral}{"{}Toggle Local"{}});}
\DoxyCodeLine{02745                     target.local = local;}
\DoxyCodeLine{02746                 \}}
\DoxyCodeLine{02747 }
\DoxyCodeLine{02748                 EditorGUI.indentLevel = holdindent;}
\DoxyCodeLine{02749             \}}
\DoxyCodeLine{02750 }
\DoxyCodeLine{02751             EditorGUI.LabelField(\textcolor{keyword}{new} Rect(paddedleft, currentline, paddedwidth, 16), target.TallyBits() + \textcolor{stringliteral}{"{} Bits"{}}, miniLabelRight);}
\DoxyCodeLine{02752 }
\DoxyCodeLine{02753             \textcolor{comment}{// Scale Uniform Enum}}
\DoxyCodeLine{02754             \textcolor{keywordflow}{if} (target.TRSType == TRSType.Scale)}
\DoxyCodeLine{02755             \{}
\DoxyCodeLine{02756                 EditorGUI.indentLevel = 0;}
\DoxyCodeLine{02757 }
\DoxyCodeLine{02758                 var uniformAxes =}
\DoxyCodeLine{02759                     (ElementCrusher.UniformAxes)EditorGUI.EnumPopup(\textcolor{keyword}{new} Rect(fcLeft2, currentline -\/ 1, enumwidth, LINEHEIGHT), GUIContent.none, target.uniformAxes, (GUIStyle)\textcolor{stringliteral}{"{}GV Gizmo DropDown"{}});}
\DoxyCodeLine{02760                 \textcolor{keywordflow}{if} (target.uniformAxes != uniformAxes)}
\DoxyCodeLine{02761                 \{}
\DoxyCodeLine{02762                     haschanged = \textcolor{keyword}{true};}
\DoxyCodeLine{02763                     Undo.RecordObject(property.serializedObject.targetObject, \textcolor{stringliteral}{"{}Select Uniform Axes"{}});}
\DoxyCodeLine{02764                     target.uniformAxes = uniformAxes;}
\DoxyCodeLine{02765                 \}}
\DoxyCodeLine{02766                 EditorGUI.indentLevel = holdindent;}
\DoxyCodeLine{02767             \}}
\DoxyCodeLine{02768 }
\DoxyCodeLine{02769             \textcolor{keywordflow}{if} (isExpanded.boolValue\textcolor{comment}{/* \&\& (target.TRSType != TRSType.Position || !target.useWorldBounds)*/})}
\DoxyCodeLine{02770             \{}
\DoxyCodeLine{02771                 currentline += TITL\_HGHT + SPACING;}
\DoxyCodeLine{02772                 \textcolor{keywordtype}{bool} isSingleElement = (target.TRSType == TRSType.Scale \&\& target.uniformAxes != 0) || (target.TRSType == TRSType.Quaternion);}
\DoxyCodeLine{02773                 Rect propr = \textcolor{keyword}{new} Rect(r.xMin + PADDING, currentline, r.width -\/ PADDING * 2, isSingleElement ?}
\DoxyCodeLine{02774                     ((target.TRSType == TRSType.Quaternion) ? qh : wh) :}
\DoxyCodeLine{02775                     xh + yh + zh);}
\DoxyCodeLine{02776 }
\DoxyCodeLine{02777                 \textcolor{keywordflow}{if} (target.TRSType == TRSType.Scale \&\& target.uniformAxes != 0)}
\DoxyCodeLine{02778                 \{}
\DoxyCodeLine{02779                     EditorGUI.PropertyField(propr, u);}
\DoxyCodeLine{02780                 \}}
\DoxyCodeLine{02781                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (target.TRSType == TRSType.Quaternion)}
\DoxyCodeLine{02782                 \{}
\DoxyCodeLine{02783                     EditorGUI.PropertyField(propr, q);}
\DoxyCodeLine{02784                 \}}
\DoxyCodeLine{02785                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{02786                 \{}
\DoxyCodeLine{02787                     \textcolor{keywordflow}{if} (target.UseWorldBounds)}
\DoxyCodeLine{02788                     \{}
\DoxyCodeLine{02789                         EditorGUI.BeginChangeCheck();}
\DoxyCodeLine{02790                         EditorGUI.PropertyField(propr, boundsGroupId);}
\DoxyCodeLine{02791                         \textcolor{keywordflow}{if} (EditorGUI.EndChangeCheck())}
\DoxyCodeLine{02792                         \{}
\DoxyCodeLine{02793                             \textcolor{comment}{// Apply new value as a property in order to trigger the property.}}
\DoxyCodeLine{02794                             target.BoundsGroupId = boundsGroupId.intValue;}
\DoxyCodeLine{02795                         \}}
\DoxyCodeLine{02796                     \}}
\DoxyCodeLine{02797                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{02798                     \{}
\DoxyCodeLine{02799                         var fcgc = \textcolor{keyword}{new} GUIContent(\textcolor{stringliteral}{"{}"{}}, (isWorldBounds \&\& disableRanges) ? \textcolor{stringliteral}{"{}DISABLE\_RANGE"{}} : \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02800                         EditorGUI.PropertyField(propr, x, fcgc);}
\DoxyCodeLine{02801                         propr.yMin += xh;}
\DoxyCodeLine{02802                         EditorGUI.PropertyField(propr, y, fcgc);}
\DoxyCodeLine{02803                         propr.yMin += yh;}
\DoxyCodeLine{02804                         EditorGUI.PropertyField(propr, z, fcgc);}
\DoxyCodeLine{02805                     \}}
\DoxyCodeLine{02806                 \}}
\DoxyCodeLine{02807             \}}
\DoxyCodeLine{02808 }
\DoxyCodeLine{02809             \textcolor{keywordflow}{if} (EditorGUI.EndChangeCheck() || haschanged)}
\DoxyCodeLine{02810             \{}
\DoxyCodeLine{02811                 \textcolor{keyword}{property}.serializedObject.ApplyModifiedProperties();}
\DoxyCodeLine{02812                 EditorUtility.SetDirty(property.serializedObject.targetObject);}
\DoxyCodeLine{02813             \}}
\DoxyCodeLine{02814 }
\DoxyCodeLine{02815             EditorGUI.indentLevel = holdindent;}
\DoxyCodeLine{02816         \}}
\DoxyCodeLine{02817 }
\DoxyCodeLine{02818 }
\DoxyCodeLine{02819         \textcolor{keyword}{public} \textcolor{keyword}{override} \textcolor{keywordtype}{float} GetPropertyHeight(SerializedProperty property, GUIContent label)}
\DoxyCodeLine{02820         \{}
\DoxyCodeLine{02821             SerializedProperty trsType = \textcolor{keyword}{property}.FindPropertyRelative(\textcolor{stringliteral}{"{}\_trsType"{}});}
\DoxyCodeLine{02822             SerializedProperty uniformAxes = \textcolor{keyword}{property}.FindPropertyRelative(\textcolor{stringliteral}{"{}uniformAxes"{}});}
\DoxyCodeLine{02823             SerializedProperty x = \textcolor{keyword}{property}.FindPropertyRelative(\textcolor{stringliteral}{"{}\_xcrusher"{}});}
\DoxyCodeLine{02824             SerializedProperty y = \textcolor{keyword}{property}.FindPropertyRelative(\textcolor{stringliteral}{"{}\_ycrusher"{}});}
\DoxyCodeLine{02825             SerializedProperty z = \textcolor{keyword}{property}.FindPropertyRelative(\textcolor{stringliteral}{"{}\_zcrusher"{}});}
\DoxyCodeLine{02826             SerializedProperty u = \textcolor{keyword}{property}.FindPropertyRelative(\textcolor{stringliteral}{"{}\_ucrusher"{}});}
\DoxyCodeLine{02827             SerializedProperty q = \textcolor{keyword}{property}.FindPropertyRelative(\textcolor{stringliteral}{"{}\_qcrusher"{}});}
\DoxyCodeLine{02828             SerializedProperty useWorldBounds = \textcolor{keyword}{property}.FindPropertyRelative(\textcolor{stringliteral}{"{}useWorldBounds"{}});}
\DoxyCodeLine{02829             SerializedProperty boundsGroupId = \textcolor{keyword}{property}.FindPropertyRelative(\textcolor{stringliteral}{"{}boundsGroupId"{}});}
\DoxyCodeLine{02830             SerializedProperty isExpanded = \textcolor{keyword}{property}.FindPropertyRelative(\textcolor{stringliteral}{"{}isExpanded"{}});}
\DoxyCodeLine{02831             SerializedProperty hideFieldName = \textcolor{keyword}{property}.FindPropertyRelative(\textcolor{stringliteral}{"{}hideFieldName"{}});}
\DoxyCodeLine{02832 }
\DoxyCodeLine{02833             \textcolor{keywordtype}{bool} showHeader = !hideFieldName.boolValue \&\& !(DrawerUtils.GetParent(property) is TransformCrusher);}
\DoxyCodeLine{02834             \textcolor{keywordtype}{bool} isexpanded = isExpanded.boolValue \textcolor{comment}{/*\&\& (trsType.intValue != (int)TRSType.Position || !useWorldBounds.boolValue)*/};}
\DoxyCodeLine{02835 }
\DoxyCodeLine{02836             \textcolor{keywordtype}{float} topAndBottom = PADDING + TITL\_HGHT + BTTM\_MARGIN + ((showHeader) ? LINEHEIGHT : 0); \textcolor{comment}{// + TOP\_PAD : TOP\_PAD;}}
\DoxyCodeLine{02837 }
\DoxyCodeLine{02838             \textcolor{keywordflow}{if} (!isexpanded)}
\DoxyCodeLine{02839                 \textcolor{keywordflow}{return} topAndBottom;}
\DoxyCodeLine{02840 }
\DoxyCodeLine{02841             \textcolor{keywordtype}{float} h;}
\DoxyCodeLine{02842             \textcolor{keywordflow}{if} (trsType.enumValueIndex == (\textcolor{keywordtype}{int})TRSType.Scale \&\& uniformAxes.enumValueIndex != 0)}
\DoxyCodeLine{02843             \{}
\DoxyCodeLine{02844                 h = EditorGUI.GetPropertyHeight(u);}
\DoxyCodeLine{02845             \}}
\DoxyCodeLine{02846             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (trsType.enumValueIndex == (\textcolor{keywordtype}{int})TRSType.Quaternion)}
\DoxyCodeLine{02847             \{}
\DoxyCodeLine{02848                 h = (isexpanded) ? EditorGUI.GetPropertyHeight(q) : 0;}
\DoxyCodeLine{02849             \}}
\DoxyCodeLine{02850             \textcolor{keywordflow}{else}}
\DoxyCodeLine{02851             \{}
\DoxyCodeLine{02852                 \textcolor{keywordflow}{if} (useWorldBounds.boolValue)}
\DoxyCodeLine{02853                 \{}
\DoxyCodeLine{02854                     h = EditorGUI.GetPropertyHeight(boundsGroupId);}
\DoxyCodeLine{02855                 \}}
\DoxyCodeLine{02856                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{02857                 \{}
\DoxyCodeLine{02858                     \textcolor{keywordtype}{float} xh = EditorGUI.GetPropertyHeight(x);}
\DoxyCodeLine{02859                     \textcolor{keywordtype}{float} yh = EditorGUI.GetPropertyHeight(y);}
\DoxyCodeLine{02860                     \textcolor{keywordtype}{float} zh = EditorGUI.GetPropertyHeight(z);}
\DoxyCodeLine{02861 }
\DoxyCodeLine{02862                     h = xh + yh + zh;}
\DoxyCodeLine{02863                 \}}
\DoxyCodeLine{02864             \}}
\DoxyCodeLine{02865 }
\DoxyCodeLine{02866             \textcolor{keywordflow}{return} topAndBottom + SPACING + h + PADDING -\/ 1;}
\DoxyCodeLine{02867         \}}
\DoxyCodeLine{02868     \}}
\DoxyCodeLine{02869 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02870 }
\DoxyCodeLine{02871 \textcolor{preprocessor}{    \#endregion}}
\DoxyCodeLine{02872 \}}

\end{DoxyCode}
