\doxysection{Furniture\+Rigging.\+cs}
\label{_furniture_rigging_8cs_source}\index{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/\_Developers/Ainun/Scripts/FurnitureRigging.cs@{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/\_Developers/Ainun/Scripts/FurnitureRigging.cs}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{comment}{//using System.Collections;}}
\DoxyCodeLine{00002 \textcolor{comment}{//using System.Collections.Generic;}}
\DoxyCodeLine{00003 \textcolor{comment}{//using UnityEngine;}}
\DoxyCodeLine{00004 \textcolor{comment}{//using Photon.Pun;}}
\DoxyCodeLine{00005 }
\DoxyCodeLine{00006 \textcolor{comment}{//public class FurnitureRigging : MonoBehaviour}}
\DoxyCodeLine{00007 \textcolor{comment}{//\{}}
\DoxyCodeLine{00008 \textcolor{comment}{//    GameObject catPlayer;}}
\DoxyCodeLine{00009 \textcolor{comment}{//    BreakableFurniture furniCondition;}}
\DoxyCodeLine{00010 \textcolor{comment}{//    PhotonView photonView;}}
\DoxyCodeLine{00011 }
\DoxyCodeLine{00012 \textcolor{comment}{//    private void Start()}}
\DoxyCodeLine{00013 \textcolor{comment}{//    \{}}
\DoxyCodeLine{00014 \textcolor{comment}{//        //catPlayer = GameObject.FindGameObjectWithTag("{}Player"{});}}
\DoxyCodeLine{00015 \textcolor{comment}{//        catPlayer = GameObject.FindWithTag("{}Player"{});}}
\DoxyCodeLine{00016 \textcolor{comment}{//        //catPlayer = PhotonView.Find(2002).gameObject;}}
\DoxyCodeLine{00017 \textcolor{comment}{//        furniCondition = gameObject.GetComponent<BreakableFurniture>();}}
\DoxyCodeLine{00018 \textcolor{comment}{//    \}}}
\DoxyCodeLine{00019 }
\DoxyCodeLine{00020 \textcolor{comment}{//    private void Awake()}}
\DoxyCodeLine{00021 \textcolor{comment}{//    \{}}
\DoxyCodeLine{00022 \textcolor{comment}{//        TryGetComponent(out photonView);}}
\DoxyCodeLine{00023 \textcolor{comment}{//    \}}}
\DoxyCodeLine{00024 }
\DoxyCodeLine{00025 \textcolor{comment}{//    //void Update()}}
\DoxyCodeLine{00026 \textcolor{comment}{//    //\{}}
\DoxyCodeLine{00027 \textcolor{comment}{//    //    if(this.furniCondition.isBroken)}}
\DoxyCodeLine{00028 \textcolor{comment}{//    //    \{}}
\DoxyCodeLine{00029 \textcolor{comment}{//    //        photonView.RPC(nameof(TrapInstantiate), RpcTarget.AllBuffered);}}
\DoxyCodeLine{00030 \textcolor{comment}{//    //        DontDestroyOnLoad(this.gameObject);}}
\DoxyCodeLine{00031 \textcolor{comment}{//    //        Destroy(this.GetComponent<FurnitureRigging>());}}
\DoxyCodeLine{00032 \textcolor{comment}{//    //    \}}}
\DoxyCodeLine{00033 \textcolor{comment}{//    //\}}}
\DoxyCodeLine{00034 }
\DoxyCodeLine{00035 \textcolor{comment}{//    private void OnTriggerEnter(Collider other)}}
\DoxyCodeLine{00036 \textcolor{comment}{//    \{}}
\DoxyCodeLine{00037 \textcolor{comment}{//        if (other.gameObject == catPlayer)}}
\DoxyCodeLine{00038 \textcolor{comment}{//        \{}}
\DoxyCodeLine{00039 \textcolor{comment}{//            Debug.Log("{}Cat is in range within rigged furniture."{});}}
\DoxyCodeLine{00040 }
\DoxyCodeLine{00041 \textcolor{comment}{//            if (this.furniCondition.isBroken)}}
\DoxyCodeLine{00042 \textcolor{comment}{//            \{}}
\DoxyCodeLine{00043 \textcolor{comment}{//                this.furniCondition.isBroken = false;}}
\DoxyCodeLine{00044 \textcolor{comment}{//                photonView.RPC(nameof(TrapInstantiate), RpcTarget.AllBuffered);}}
\DoxyCodeLine{00045 \textcolor{comment}{//                Debug.Log("{}Photon should work!!!"{});}}
\DoxyCodeLine{00046 }
\DoxyCodeLine{00047 \textcolor{comment}{//                photonView.RPC(nameof(DisableRig), RpcTarget.AllBuffered);}}
\DoxyCodeLine{00048 \textcolor{comment}{//                Debug.Log("{}Furniture defaults."{});}}
\DoxyCodeLine{00049 \textcolor{comment}{//            \}}}
\DoxyCodeLine{00050 \textcolor{comment}{//        \}}}
\DoxyCodeLine{00051 \textcolor{comment}{//    \}}}
\DoxyCodeLine{00052 }
\DoxyCodeLine{00053 \textcolor{comment}{//    private void OnTriggerExit(Collider other)}}
\DoxyCodeLine{00054 \textcolor{comment}{//    \{}}
\DoxyCodeLine{00055 \textcolor{comment}{//        if (other.gameObject == catPlayer)}}
\DoxyCodeLine{00056 \textcolor{comment}{//        \{}}
\DoxyCodeLine{00057 \textcolor{comment}{//            Debug.Log("{}Cat is not in range within rigged furniture."{});}}
\DoxyCodeLine{00058 \textcolor{comment}{//        \}}}
\DoxyCodeLine{00059 \textcolor{comment}{//    \}}}
\DoxyCodeLine{00060 }
\DoxyCodeLine{00061 \textcolor{comment}{//    [PunRPC]}}
\DoxyCodeLine{00062 \textcolor{comment}{//    public void TrapInstantiate()}}
\DoxyCodeLine{00063 \textcolor{comment}{//    \{}}
\DoxyCodeLine{00064 \textcolor{comment}{//        Vector3 spawnLoc = new Vector3(catPlayer.transform.position.x, catPlayer.transform.position.y, catPlayer.transform.position.z);}}
\DoxyCodeLine{00065 \textcolor{comment}{//        Quaternion spawnRotation = Quaternion.Euler(-\/90, 0, 0);}}
\DoxyCodeLine{00066 }
\DoxyCodeLine{00067 \textcolor{comment}{//        if (PhotonNetwork.LocalPlayer.IsMasterClient)}}
\DoxyCodeLine{00068 \textcolor{comment}{//        \{}}
\DoxyCodeLine{00069 \textcolor{comment}{//            PhotonNetwork.InstantiateRoomObject("{}TudungSajiPlaceholder"{}, spawnLoc, spawnRotation);}}
\DoxyCodeLine{00070 }
\DoxyCodeLine{00071 \textcolor{comment}{//            Debug.Log("{}Trap is on cat"{});}}
\DoxyCodeLine{00072 \textcolor{comment}{//        \}}}
\DoxyCodeLine{00073 }
\DoxyCodeLine{00074 \textcolor{comment}{//        CatTrappedScript.instance.trappingCat = true;}}
\DoxyCodeLine{00075 \textcolor{comment}{//    \}}}
\DoxyCodeLine{00076 }
\DoxyCodeLine{00077 \textcolor{comment}{//    [PunRPC]}}
\DoxyCodeLine{00078 \textcolor{comment}{//    public void DisableRig()}}
\DoxyCodeLine{00079 \textcolor{comment}{//    \{}}
\DoxyCodeLine{00080 \textcolor{comment}{//        Destroy(this.GetComponent<FurnitureRigging>());}}
\DoxyCodeLine{00081 \textcolor{comment}{//    \}}}
\DoxyCodeLine{00082 \textcolor{comment}{//\}}}

\end{DoxyCode}
