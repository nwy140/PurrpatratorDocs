\doxysection{Hold\+Down\+Button.\+cs}
\label{_hold_down_button_8cs_source}\index{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/\_Developers/Ainun/Scripts/HoldDownButton.cs@{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/\_Developers/Ainun/Scripts/HoldDownButton.cs}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{keyword}{using} System.Collections;}
\DoxyCodeLine{00002 \textcolor{keyword}{using} System.Collections.Generic;}
\DoxyCodeLine{00003 \textcolor{keyword}{using} UnityEngine;}
\DoxyCodeLine{00004 \textcolor{keyword}{using} UnityEngine.UI;}
\DoxyCodeLine{00005 }
\DoxyCodeLine{00006 \textcolor{keyword}{public} \textcolor{keyword}{class }HoldDownButton : MonoBehaviour}
\DoxyCodeLine{00007 \{}
\DoxyCodeLine{00008     [Header(\textcolor{stringliteral}{"{}Condition"{}})]}
\DoxyCodeLine{00009     \textcolor{keyword}{public} \textcolor{keywordtype}{bool} buttonHasPressed = \textcolor{keyword}{false};}
\DoxyCodeLine{00010     \textcolor{keyword}{public} \textcolor{keyword}{static} HoldDownButton instance;}
\DoxyCodeLine{00011 }
\DoxyCodeLine{00012     \textcolor{comment}{//[Header("{}Reference"{})]}}
\DoxyCodeLine{00013     \textcolor{comment}{//public Transform humanPlayer;}}
\DoxyCodeLine{00014     \textcolor{comment}{//public List<Transform> brokenProps = new List<Transform>();}}
\DoxyCodeLine{00015     \textcolor{comment}{//public Transform nearestProp;}}
\DoxyCodeLine{00016 }
\DoxyCodeLine{00017 }
\DoxyCodeLine{00018     \textcolor{keyword}{private} \textcolor{keywordtype}{void} Awake()}
\DoxyCodeLine{00019     \{}
\DoxyCodeLine{00020         instance = \textcolor{keyword}{this};}
\DoxyCodeLine{00021 }
\DoxyCodeLine{00022         \textcolor{comment}{//nearestProp = gameObject.GetComponent<FixDestroyedFurniture>().transform;}}
\DoxyCodeLine{00023     \}}
\DoxyCodeLine{00024 }
\DoxyCodeLine{00025     \textcolor{keyword}{public} \textcolor{keywordtype}{void} FixFurniture()}
\DoxyCodeLine{00026     \{}
\DoxyCodeLine{00027         \textcolor{keywordflow}{if} (TriggeringZone.instance.brokenProp)}
\DoxyCodeLine{00028         \{}
\DoxyCodeLine{00029             buttonHasPressed = \textcolor{keyword}{true};}
\DoxyCodeLine{00030 }
\DoxyCodeLine{00031             \textcolor{comment}{//float minDistance = Mathf.Infinity;}}
\DoxyCodeLine{00032 }
\DoxyCodeLine{00033             \textcolor{comment}{//if(nearestProp != null)}}
\DoxyCodeLine{00034             \textcolor{comment}{//\{}}
\DoxyCodeLine{00035             \textcolor{comment}{//    buttonHasPressed = true;}}
\DoxyCodeLine{00036             \textcolor{comment}{//\}  }}
\DoxyCodeLine{00037 }
\DoxyCodeLine{00038             \textcolor{comment}{//nearestProp = null;}}
\DoxyCodeLine{00039 }
\DoxyCodeLine{00040             \textcolor{comment}{//foreach(Transform fixingProp in brokenProps)}}
\DoxyCodeLine{00041             \textcolor{comment}{//\{}}
\DoxyCodeLine{00042             \textcolor{comment}{//    float distance = Vector3.Distance(humanPlayer.position, fixingProp.position);}}
\DoxyCodeLine{00043 }
\DoxyCodeLine{00044             \textcolor{comment}{//    if(distance < minDistance)}}
\DoxyCodeLine{00045             \textcolor{comment}{//    \{}}
\DoxyCodeLine{00046             \textcolor{comment}{//        minDistance = distance;}}
\DoxyCodeLine{00047             \textcolor{comment}{//        nearestProp = fixingProp;}}
\DoxyCodeLine{00048             \textcolor{comment}{//    \}    }}
\DoxyCodeLine{00049             \textcolor{comment}{//\}}}
\DoxyCodeLine{00050 }
\DoxyCodeLine{00051             \textcolor{comment}{//buttonHasPressed = true;}}
\DoxyCodeLine{00052             \textcolor{comment}{//Debug.Log("{}Closest broken prop is "{} + nearestProp.name);}}
\DoxyCodeLine{00053         \}}
\DoxyCodeLine{00054     \}}
\DoxyCodeLine{00055 }
\DoxyCodeLine{00056     \textcolor{comment}{//public void PrepareTrapOnFurniture()}}
\DoxyCodeLine{00057     \textcolor{comment}{//\{}}
\DoxyCodeLine{00058     \textcolor{comment}{//    if (TriggeringZone.instance.readyTrap \&\& TriggeringZone.instance.furniture != null)}}
\DoxyCodeLine{00059     \textcolor{comment}{//    \{}}
\DoxyCodeLine{00060     \textcolor{comment}{//        GameObject furnitureRef = TriggeringZone.instance.furniture.gameObject;}}
\DoxyCodeLine{00061 }
\DoxyCodeLine{00062     \textcolor{comment}{//        if (furnitureRef.GetComponent<FurnitureRigging>() != null)}}
\DoxyCodeLine{00063     \textcolor{comment}{//        \{}}
\DoxyCodeLine{00064     \textcolor{comment}{//            return;}}
\DoxyCodeLine{00065     \textcolor{comment}{//        \}}}
\DoxyCodeLine{00066     \textcolor{comment}{//        else}}
\DoxyCodeLine{00067     \textcolor{comment}{//        \{}}
\DoxyCodeLine{00068     \textcolor{comment}{//            furnitureRef.AddComponent<FurnitureRigging>();}}
\DoxyCodeLine{00069     \textcolor{comment}{//            Debug.Log(furnitureRef.name + "{} is rigged"{});}}
\DoxyCodeLine{00070 }
\DoxyCodeLine{00071     \textcolor{comment}{//            ButtonCoolDown.instance.cooldownStart = true;}}
\DoxyCodeLine{00072     \textcolor{comment}{//            ButtonCoolDown.instance.coolDownImage.gameObject.SetActive(true);}}
\DoxyCodeLine{00073     \textcolor{comment}{//            ButtonCoolDown.instance.coolDownTimer.gameObject.SetActive(true);}}
\DoxyCodeLine{00074     \textcolor{comment}{//            ButtonCoolDown.instance.startCooldown = ButtonCoolDown.instance.coolDown;}}
\DoxyCodeLine{00075 }
\DoxyCodeLine{00076     \textcolor{comment}{//        \}}}
\DoxyCodeLine{00077     \textcolor{comment}{//    \}}}
\DoxyCodeLine{00078     \textcolor{comment}{//\}}}
\DoxyCodeLine{00079 }
\DoxyCodeLine{00080 \}}

\end{DoxyCode}
