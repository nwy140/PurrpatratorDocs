\doxysection{Name\+Type\+Drawer.\+cs}
\label{_name_type_drawer_8cs_source}\index{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/Photon/Simple/Utilities/GUITools/NameTypeDrawer.cs@{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/Photon/Simple/Utilities/GUITools/NameTypeDrawer.cs}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{comment}{//Copyright 2019, Da// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00002 \textcolor{comment}{// <copyright>PhotonNetwork Framework for Unity -\/ Copyright (C) 2020 Exit Games GmbH</copyright>}}
\DoxyCodeLine{00003 \textcolor{comment}{// <author>developer@exitgames.com</author>}}
\DoxyCodeLine{00004 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00005 }
\DoxyCodeLine{00006 \textcolor{keyword}{using} UnityEngine;}
\DoxyCodeLine{00007 }
\DoxyCodeLine{00008 \textcolor{preprocessor}{\#if UNITY\_EDITOR}}
\DoxyCodeLine{00009 \textcolor{keyword}{using} UnityEditor;}
\DoxyCodeLine{00010 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00011 }
\DoxyCodeLine{00012 \textcolor{keyword}{namespace }emotitron.Utilities}
\DoxyCodeLine{00013 \{}
\DoxyCodeLine{00014     \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keyword}{class }NameTypeUtils}
\DoxyCodeLine{00015     \{}
\DoxyCodeLine{00019         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{int} GetVitalTypeForName(\textcolor{keywordtype}{string} name, \textcolor{keywordtype}{string}[] enumNames)}
\DoxyCodeLine{00020         \{}
\DoxyCodeLine{00021             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < enumNames.Length; ++i)}
\DoxyCodeLine{00022                 \textcolor{keywordflow}{if} (name == enumNames[i])}
\DoxyCodeLine{00023                     \textcolor{keywordflow}{return} i;}
\DoxyCodeLine{00024 }
\DoxyCodeLine{00025             \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{00026         \}}
\DoxyCodeLine{00027     \}}
\DoxyCodeLine{00028 }
\DoxyCodeLine{00029 \textcolor{preprocessor}{\#if UNITY\_EDITOR}}
\DoxyCodeLine{00030 }
\DoxyCodeLine{00031     }
\DoxyCodeLine{00032     [CanEditMultipleObjects]}
\DoxyCodeLine{00033     \textcolor{keyword}{public} \textcolor{keyword}{abstract} \textcolor{keyword}{class }NameTypeDrawer : PropertyDrawer}
\DoxyCodeLine{00034     \{}
\DoxyCodeLine{00035         \textcolor{keyword}{protected} \textcolor{keyword}{static} GUIContent reusableGC = \textcolor{keyword}{new} GUIContent();}
\DoxyCodeLine{00036 }
\DoxyCodeLine{00037         \textcolor{keyword}{protected} \textcolor{keyword}{virtual} \textcolor{keywordtype}{string} LabelName \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Type"{}}; \} \}}
\DoxyCodeLine{00038         \textcolor{keyword}{protected} \textcolor{keyword}{virtual} \textcolor{keywordtype}{string} NameTypeFieldname \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}type"{}}; \} \}}
\DoxyCodeLine{00039         \textcolor{keyword}{protected} \textcolor{keyword}{virtual} \textcolor{keywordtype}{string} NameFieldname \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}name"{}}; \} \}}
\DoxyCodeLine{00040         \textcolor{keyword}{protected} \textcolor{keyword}{virtual} \textcolor{keywordtype}{string} HashFieldname \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}hash"{}}; \} \}}
\DoxyCodeLine{00041         \textcolor{keyword}{protected} \textcolor{keyword}{abstract} \textcolor{keywordtype}{string}[] EnumNames \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{00042 }
\DoxyCodeLine{00043         \textcolor{keyword}{public} \textcolor{keyword}{override} \textcolor{keywordtype}{void} OnGUI(Rect r, SerializedProperty property, GUIContent label)}
\DoxyCodeLine{00044         \{}
\DoxyCodeLine{00045             Rect er = \textcolor{keyword}{new} Rect(r) \{ xMin = r.xMin + EditorGUIUtility.labelWidth \};}
\DoxyCodeLine{00046             \textcolor{keywordtype}{float} labelWidth = EditorGUIUtility.labelWidth;}
\DoxyCodeLine{00047 }
\DoxyCodeLine{00048             var type = \textcolor{keyword}{property}.FindPropertyRelative(NameTypeFieldname);}
\DoxyCodeLine{00049             var name = \textcolor{keyword}{property}.FindPropertyRelative(NameFieldname);}
\DoxyCodeLine{00050             var hash = \textcolor{keyword}{property}.FindPropertyRelative(HashFieldname);}
\DoxyCodeLine{00051 }
\DoxyCodeLine{00052             \textcolor{comment}{// Label}}
\DoxyCodeLine{00053             GUIContent \_label;}
\DoxyCodeLine{00054             \textcolor{keywordflow}{if} (label.tooltip == \textcolor{keyword}{null} || label.tooltip == \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{00055             \{}
\DoxyCodeLine{00056                 reusableGC.text = LabelName;}
\DoxyCodeLine{00057                 reusableGC.tooltip = \textcolor{stringliteral}{"{}The enum or name value in this collection to target."{}};}
\DoxyCodeLine{00058                 \_label = reusableGC;}
\DoxyCodeLine{00059 }
\DoxyCodeLine{00060             \}\textcolor{keywordflow}{else}}
\DoxyCodeLine{00061                 \_label = label;}
\DoxyCodeLine{00062 }
\DoxyCodeLine{00063             EditorGUI.LabelField(r, \_label);}
\DoxyCodeLine{00064 }
\DoxyCodeLine{00065 \textcolor{preprocessor}{\#if UNITY\_2019\_3\_OR\_NEWER}}
\DoxyCodeLine{00066             \textcolor{keyword}{const} \textcolor{keywordtype}{int} ENUMWIDTH = 64;}
\DoxyCodeLine{00067 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00068             \textcolor{keyword}{const} \textcolor{keywordtype}{int} ENUMWIDTH = 59;}
\DoxyCodeLine{00069 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00070             EditorGUI.BeginChangeCheck();}
\DoxyCodeLine{00071             EditorGUI.PropertyField(\textcolor{keyword}{new} Rect(er) \{ x = er.x -\/ ENUMWIDTH -\/ 2, width = ENUMWIDTH \}, type, GUIContent.none);}
\DoxyCodeLine{00072             \textcolor{keywordflow}{if} (EditorGUI.EndChangeCheck())}
\DoxyCodeLine{00073             \{}
\DoxyCodeLine{00074                 name.stringValue = EnumNames[type.enumValueIndex];}
\DoxyCodeLine{00075                 hash.intValue = name.stringValue.GetHashCode();}
\DoxyCodeLine{00076                 \textcolor{keyword}{property}.serializedObject.ApplyModifiedProperties();}
\DoxyCodeLine{00077             \}}
\DoxyCodeLine{00078 }
\DoxyCodeLine{00079             \textcolor{comment}{// Name Field}}
\DoxyCodeLine{00080             er.xMin = r.xMin + labelWidth;}
\DoxyCodeLine{00081             er.xMax = r.xMax;}
\DoxyCodeLine{00082 }
\DoxyCodeLine{00083             EditorGUI.BeginChangeCheck();}
\DoxyCodeLine{00084             EditorGUI.PropertyField(\textcolor{keyword}{new} Rect(er) \{\textcolor{comment}{/* xMin = er.xMin + 64,*/} height = er.height -\/ 1 \}, name, GUIContent.none);}
\DoxyCodeLine{00085             \textcolor{keywordflow}{if} (EditorGUI.EndChangeCheck())}
\DoxyCodeLine{00086             \{}
\DoxyCodeLine{00087                 type.enumValueIndex = NameTypeUtils.GetVitalTypeForName(name.stringValue, EnumNames);}
\DoxyCodeLine{00088                 hash.intValue = name.stringValue.GetHashCode();}
\DoxyCodeLine{00089                 \textcolor{keyword}{property}.serializedObject.ApplyModifiedProperties();}
\DoxyCodeLine{00090             \}}
\DoxyCodeLine{00091         \}}
\DoxyCodeLine{00092 }
\DoxyCodeLine{00093         \textcolor{keyword}{public} \textcolor{keyword}{override} \textcolor{keywordtype}{float} GetPropertyHeight(SerializedProperty property, GUIContent label)}
\DoxyCodeLine{00094         \{}
\DoxyCodeLine{00095             \textcolor{keywordflow}{return} base.GetPropertyHeight(property, label);}
\DoxyCodeLine{00096         \}}
\DoxyCodeLine{00097     \}}
\DoxyCodeLine{00098 }
\DoxyCodeLine{00099 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00100 \}}

\end{DoxyCode}
