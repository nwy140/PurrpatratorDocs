\doxysection{Network\+Manager.\+cs}
\label{_network_manager_8cs_source}\index{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/FlatKit/Utils/Readme/Editor/NetworkManager.cs@{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/FlatKit/Utils/Readme/Editor/NetworkManager.cs}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{keyword}{using} System;}
\DoxyCodeLine{00002 \textcolor{keyword}{using} UnityEngine;}
\DoxyCodeLine{00003 \textcolor{keyword}{using} UnityEngine.Networking;}
\DoxyCodeLine{00004 }
\DoxyCodeLine{00005 \textcolor{keyword}{namespace }FlatKit \{}
\DoxyCodeLine{00006 \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keyword}{class }NetworkManager \{}
\DoxyCodeLine{00007     \textcolor{keyword}{private} \textcolor{keyword}{static} UnityWebRequest \_request;}
\DoxyCodeLine{00008 }
\DoxyCodeLine{00009     \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} GetVersion(Action<string> callback) \{}
\DoxyCodeLine{00010         \textcolor{keyword}{const} \textcolor{keywordtype}{string} url = \textcolor{stringliteral}{"{}https://dustyroom.com/flat-\/kit/version.txt"{}};}
\DoxyCodeLine{00011         GetRequest(url, request => \{}
\DoxyCodeLine{00012 \textcolor{preprocessor}{\#if UNITY\_2020\_3\_OR\_NEWER}}
\DoxyCodeLine{00013             \textcolor{keywordflow}{if} (request.result == UnityWebRequest.Result.Success) \{}
\DoxyCodeLine{00014 \#else}
\DoxyCodeLine{00015             if (!request.isNetworkError \&\& !request.isHttpError) \{}
\DoxyCodeLine{00016 \#endif}
\DoxyCodeLine{00017                 var text = request.downloadHandler.text;}
\DoxyCodeLine{00018                 callback(text);}
\DoxyCodeLine{00019             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00020                 Debug.LogError(\$\textcolor{stringliteral}{"{}[Flat Kit] \{request.error\}: \{request.downloadHandler.text\}."{}});}
\DoxyCodeLine{00021             \}}
\DoxyCodeLine{00022         \});}
\DoxyCodeLine{00023     \}}
\DoxyCodeLine{00024 }
\DoxyCodeLine{00025     \textcolor{keyword}{private} \textcolor{keyword}{static} \textcolor{keywordtype}{void} GetRequest(\textcolor{keywordtype}{string} url, Action<UnityWebRequest> callback) \{}
\DoxyCodeLine{00026         \textcolor{keywordflow}{if} (\_request != \textcolor{keyword}{null}) \{}
\DoxyCodeLine{00027             \textcolor{keywordflow}{return};}
\DoxyCodeLine{00028         \}}
\DoxyCodeLine{00029 }
\DoxyCodeLine{00030         \_request = UnityWebRequest.Get(url);}
\DoxyCodeLine{00031         var op = \_request.SendWebRequest();}
\DoxyCodeLine{00032         op.completed += operation => \{}
\DoxyCodeLine{00033             callback(\_request);}
\DoxyCodeLine{00034             \_request.Dispose();}
\DoxyCodeLine{00035             \_request = \textcolor{keyword}{null};}
\DoxyCodeLine{00036         \};}
\DoxyCodeLine{00037     \}}
\DoxyCodeLine{00038 \}}
\DoxyCodeLine{00039 \}}

\end{DoxyCode}
