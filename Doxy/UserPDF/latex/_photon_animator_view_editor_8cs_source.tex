\doxysection{Photon\+Animator\+View\+Editor.\+cs}
\label{_photon_animator_view_editor_8cs_source}\index{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/Photon/PhotonUnityNetworking/Code/Editor/Views/PhotonAnimatorViewEditor.cs@{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/Photon/PhotonUnityNetworking/Code/Editor/Views/PhotonAnimatorViewEditor.cs}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00002 \textcolor{comment}{// <copyright file="{}PhotonAnimatorViewEditor.cs"{} company="{}Exit Games GmbH"{}>}}
\DoxyCodeLine{00003 \textcolor{comment}{//   PhotonNetwork Framework for Unity -\/ Copyright (C) 2018 Exit Games GmbH}}
\DoxyCodeLine{00004 \textcolor{comment}{// </copyright>}}
\DoxyCodeLine{00005 \textcolor{comment}{// <summary>}}
\DoxyCodeLine{00006 \textcolor{comment}{//   This is a custom editor for the AnimatorView component.}}
\DoxyCodeLine{00007 \textcolor{comment}{// </summary>}}
\DoxyCodeLine{00008 \textcolor{comment}{// <author>developer@exitgames.com</author>}}
\DoxyCodeLine{00009 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00010 }
\DoxyCodeLine{00011 }
\DoxyCodeLine{00012 \textcolor{keyword}{namespace }Photon.Pun}
\DoxyCodeLine{00013 \{}
\DoxyCodeLine{00014     \textcolor{keyword}{using} System.Collections.Generic;}
\DoxyCodeLine{00015     \textcolor{keyword}{using} UnityEditor;}
\DoxyCodeLine{00016     \textcolor{keyword}{using} UnityEditor.Animations;}
\DoxyCodeLine{00017     \textcolor{keyword}{using} UnityEngine;}
\DoxyCodeLine{00018 }
\DoxyCodeLine{00019 }
\DoxyCodeLine{00020     [CustomEditor(typeof(PhotonAnimatorView))]}
\DoxyCodeLine{00021     \textcolor{keyword}{public} \textcolor{keyword}{class }PhotonAnimatorViewEditor : MonoBehaviourPunEditor}
\DoxyCodeLine{00022     \{}
\DoxyCodeLine{00023         \textcolor{keyword}{private} Animator m\_Animator;}
\DoxyCodeLine{00024         \textcolor{keyword}{private} PhotonAnimatorView m\_Target;}
\DoxyCodeLine{00025         \textcolor{keyword}{private} AnimatorController m\_Controller;}
\DoxyCodeLine{00026 }
\DoxyCodeLine{00027         \textcolor{keyword}{public} \textcolor{keyword}{override} \textcolor{keywordtype}{void} OnInspectorGUI()}
\DoxyCodeLine{00028         \{}
\DoxyCodeLine{00029             base.OnInspectorGUI();}
\DoxyCodeLine{00030 }
\DoxyCodeLine{00031             \textcolor{keywordflow}{if} (this.m\_Animator == \textcolor{keyword}{null})}
\DoxyCodeLine{00032             \{}
\DoxyCodeLine{00033                 EditorGUILayout.HelpBox(\textcolor{stringliteral}{"{}GameObject doesn't have an Animator component to synchronize"{}}, MessageType.Warning);}
\DoxyCodeLine{00034                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{00035             \}}
\DoxyCodeLine{00036 }
\DoxyCodeLine{00037             this.DrawWeightInspector();}
\DoxyCodeLine{00038 }
\DoxyCodeLine{00039             \textcolor{keywordflow}{if} (this.GetLayerCount() == 0)}
\DoxyCodeLine{00040             \{}
\DoxyCodeLine{00041                 EditorGUILayout.HelpBox(\textcolor{stringliteral}{"{}Animator doesn't have any layers setup to synchronize"{}}, MessageType.Warning);}
\DoxyCodeLine{00042             \}}
\DoxyCodeLine{00043 }
\DoxyCodeLine{00044             this.DrawParameterInspector();}
\DoxyCodeLine{00045 }
\DoxyCodeLine{00046             \textcolor{keywordflow}{if} (this.GetParameterCount() == 0)}
\DoxyCodeLine{00047             \{}
\DoxyCodeLine{00048                 EditorGUILayout.HelpBox(\textcolor{stringliteral}{"{}Animator doesn't have any parameters setup to synchronize"{}}, MessageType.Warning);}
\DoxyCodeLine{00049             \}}
\DoxyCodeLine{00050 }
\DoxyCodeLine{00051             this.serializedObject.ApplyModifiedProperties();}
\DoxyCodeLine{00052 }
\DoxyCodeLine{00053             \textcolor{comment}{//GUILayout.Label( "{}m\_SynchronizeLayers "{} + serializedObject.FindProperty( "{}m\_SynchronizeLayers"{} ).arraySize );}}
\DoxyCodeLine{00054             \textcolor{comment}{//GUILayout.Label( "{}m\_SynchronizeParameters "{} + serializedObject.FindProperty( "{}m\_SynchronizeParameters"{} ).arraySize );}}
\DoxyCodeLine{00055         \}}
\DoxyCodeLine{00056 }
\DoxyCodeLine{00057 }
\DoxyCodeLine{00058         \textcolor{keyword}{private} \textcolor{keywordtype}{int} GetLayerCount()}
\DoxyCodeLine{00059         \{}
\DoxyCodeLine{00060             \textcolor{keywordflow}{return} (this.m\_Controller == \textcolor{keyword}{null}) ? 0 : this.m\_Controller.layers.Length;}
\DoxyCodeLine{00061         \}}
\DoxyCodeLine{00062 }
\DoxyCodeLine{00063         \textcolor{keyword}{private} \textcolor{keywordtype}{int} GetParameterCount()}
\DoxyCodeLine{00064         \{}
\DoxyCodeLine{00065             \textcolor{keywordflow}{return} (this.m\_Controller == \textcolor{keyword}{null}) ? 0 : this.m\_Controller.parameters.Length;}
\DoxyCodeLine{00066         \}}
\DoxyCodeLine{00067 }
\DoxyCodeLine{00068         \textcolor{keyword}{private} AnimatorControllerParameter GetAnimatorControllerParameter(\textcolor{keywordtype}{int} i)}
\DoxyCodeLine{00069         \{}
\DoxyCodeLine{00070             \textcolor{keywordflow}{return} this.m\_Controller.parameters[i];}
\DoxyCodeLine{00071         \}}
\DoxyCodeLine{00072 }
\DoxyCodeLine{00073 }
\DoxyCodeLine{00074         \textcolor{keyword}{private} RuntimeAnimatorController GetEffectiveController(Animator animator)}
\DoxyCodeLine{00075         \{}
\DoxyCodeLine{00076             RuntimeAnimatorController controller = animator.runtimeAnimatorController;}
\DoxyCodeLine{00077 }
\DoxyCodeLine{00078             AnimatorOverrideController overrideController = controller as AnimatorOverrideController;}
\DoxyCodeLine{00079             \textcolor{keywordflow}{while} (overrideController != \textcolor{keyword}{null})}
\DoxyCodeLine{00080             \{}
\DoxyCodeLine{00081                 controller = overrideController.runtimeAnimatorController;}
\DoxyCodeLine{00082                 overrideController = controller as AnimatorOverrideController;}
\DoxyCodeLine{00083             \}}
\DoxyCodeLine{00084 }
\DoxyCodeLine{00085             \textcolor{keywordflow}{return} controller;}
\DoxyCodeLine{00086         \}}
\DoxyCodeLine{00087 }
\DoxyCodeLine{00088         \textcolor{keyword}{private} \textcolor{keywordtype}{void} OnEnable()}
\DoxyCodeLine{00089         \{}
\DoxyCodeLine{00090             this.m\_Target = (PhotonAnimatorView)this.target;}
\DoxyCodeLine{00091             this.m\_Animator = this.m\_Target.GetComponent<Animator>();}
\DoxyCodeLine{00092 }
\DoxyCodeLine{00093             \textcolor{keywordflow}{if} (m\_Animator)}
\DoxyCodeLine{00094             \{}
\DoxyCodeLine{00095                 this.m\_Controller = this.GetEffectiveController(this.m\_Animator) as AnimatorController;}
\DoxyCodeLine{00096 }
\DoxyCodeLine{00097                 this.CheckIfStoredParametersExist();}
\DoxyCodeLine{00098             \}}
\DoxyCodeLine{00099         \}}
\DoxyCodeLine{00100 }
\DoxyCodeLine{00101         \textcolor{keyword}{private} \textcolor{keywordtype}{void} DrawWeightInspector()}
\DoxyCodeLine{00102         \{}
\DoxyCodeLine{00103             SerializedProperty foldoutProperty = this.serializedObject.FindProperty(\textcolor{stringliteral}{"{}ShowLayerWeightsInspector"{}});}
\DoxyCodeLine{00104             foldoutProperty.boolValue = PhotonGUI.ContainerHeaderFoldout(\textcolor{stringliteral}{"{}Synchronize Layer Weights"{}}, foldoutProperty.boolValue);}
\DoxyCodeLine{00105 }
\DoxyCodeLine{00106             \textcolor{keywordflow}{if} (foldoutProperty.boolValue == \textcolor{keyword}{false})}
\DoxyCodeLine{00107             \{}
\DoxyCodeLine{00108                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{00109             \}}
\DoxyCodeLine{00110 }
\DoxyCodeLine{00111             \textcolor{keywordtype}{float} lineHeight = 20;}
\DoxyCodeLine{00112             Rect containerRect = PhotonGUI.ContainerBody(this.GetLayerCount() * lineHeight);}
\DoxyCodeLine{00113 }
\DoxyCodeLine{00114             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < this.GetLayerCount(); ++i)}
\DoxyCodeLine{00115             \{}
\DoxyCodeLine{00116                 \textcolor{keywordflow}{if} (this.m\_Target.DoesLayerSynchronizeTypeExist(i) == \textcolor{keyword}{false})}
\DoxyCodeLine{00117                 \{}
\DoxyCodeLine{00118                     this.m\_Target.SetLayerSynchronized(i, PhotonAnimatorView.SynchronizeType.Disabled);}
\DoxyCodeLine{00119                 \}}
\DoxyCodeLine{00120 }
\DoxyCodeLine{00121                 PhotonAnimatorView.SynchronizeType syncType = this.m\_Target.GetLayerSynchronizeType(i);}
\DoxyCodeLine{00122 }
\DoxyCodeLine{00123                 Rect elementRect = \textcolor{keyword}{new} Rect(containerRect.xMin, containerRect.yMin + i * lineHeight, containerRect.width, lineHeight);}
\DoxyCodeLine{00124 }
\DoxyCodeLine{00125                 Rect labelRect = \textcolor{keyword}{new} Rect(elementRect.xMin + 5, elementRect.yMin + 2, EditorGUIUtility.labelWidth -\/ 5, elementRect.height);}
\DoxyCodeLine{00126                 GUI.Label(labelRect, \textcolor{stringliteral}{"{}Layer "{}} + i);}
\DoxyCodeLine{00127 }
\DoxyCodeLine{00128                 Rect popupRect = \textcolor{keyword}{new} Rect(elementRect.xMin + EditorGUIUtility.labelWidth, elementRect.yMin + 2, elementRect.width -\/ EditorGUIUtility.labelWidth -\/ 5, EditorGUIUtility.singleLineHeight);}
\DoxyCodeLine{00129                 syncType = (PhotonAnimatorView.SynchronizeType)EditorGUI.EnumPopup(popupRect, syncType);}
\DoxyCodeLine{00130 }
\DoxyCodeLine{00131                 \textcolor{keywordflow}{if} (i < this.GetLayerCount() -\/ 1)}
\DoxyCodeLine{00132                 \{}
\DoxyCodeLine{00133                     Rect splitterRect = \textcolor{keyword}{new} Rect(elementRect.xMin + 2, elementRect.yMax, elementRect.width -\/ 4, 1);}
\DoxyCodeLine{00134                     PhotonGUI.DrawSplitter(splitterRect);}
\DoxyCodeLine{00135                 \}}
\DoxyCodeLine{00136 }
\DoxyCodeLine{00137                 \textcolor{keywordflow}{if} (syncType != this.m\_Target.GetLayerSynchronizeType(i))}
\DoxyCodeLine{00138                 \{}
\DoxyCodeLine{00139                     Undo.RecordObject(this.target, \textcolor{stringliteral}{"{}Modify Synchronize Layer Weights"{}});}
\DoxyCodeLine{00140                     this.m\_Target.SetLayerSynchronized(i, syncType);}
\DoxyCodeLine{00141                 \}}
\DoxyCodeLine{00142             \}}
\DoxyCodeLine{00143         \}}
\DoxyCodeLine{00144 }
\DoxyCodeLine{00145         \textcolor{keyword}{private} \textcolor{keywordtype}{bool} DoesParameterExist(\textcolor{keywordtype}{string} name)}
\DoxyCodeLine{00146         \{}
\DoxyCodeLine{00147             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < this.GetParameterCount(); ++i)}
\DoxyCodeLine{00148             \{}
\DoxyCodeLine{00149                 \textcolor{keywordflow}{if} (this.GetAnimatorControllerParameter(i).name == name)}
\DoxyCodeLine{00150                 \{}
\DoxyCodeLine{00151                     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00152                 \}}
\DoxyCodeLine{00153             \}}
\DoxyCodeLine{00154 }
\DoxyCodeLine{00155             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00156         \}}
\DoxyCodeLine{00157 }
\DoxyCodeLine{00158         \textcolor{keyword}{private} \textcolor{keywordtype}{void} CheckIfStoredParametersExist()}
\DoxyCodeLine{00159         \{}
\DoxyCodeLine{00160             var syncedParams = this.m\_Target.GetSynchronizedParameters();}
\DoxyCodeLine{00161             List<string> paramsToRemove = \textcolor{keyword}{new} List<string>();}
\DoxyCodeLine{00162 }
\DoxyCodeLine{00163             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < syncedParams.Count; ++i)}
\DoxyCodeLine{00164             \{}
\DoxyCodeLine{00165                 \textcolor{keywordtype}{string} parameterName = syncedParams[i].Name;}
\DoxyCodeLine{00166                 \textcolor{keywordflow}{if} (this.DoesParameterExist(parameterName) == \textcolor{keyword}{false})}
\DoxyCodeLine{00167                 \{}
\DoxyCodeLine{00168                     Debug.LogWarning(\textcolor{stringliteral}{"{}Parameter '"{}} + this.m\_Target.GetSynchronizedParameters()[i].Name + \textcolor{stringliteral}{"{}' doesn't exist anymore. Removing it from the list of synchronized parameters"{}});}
\DoxyCodeLine{00169                     paramsToRemove.Add(parameterName);}
\DoxyCodeLine{00170                 \}}
\DoxyCodeLine{00171             \}}
\DoxyCodeLine{00172 }
\DoxyCodeLine{00173             \textcolor{keywordflow}{if} (paramsToRemove.Count > 0)}
\DoxyCodeLine{00174             \{}
\DoxyCodeLine{00175                 \textcolor{keywordflow}{foreach} (\textcolor{keywordtype}{string} param \textcolor{keywordflow}{in} paramsToRemove)}
\DoxyCodeLine{00176                 \{}
\DoxyCodeLine{00177                     this.m\_Target.GetSynchronizedParameters().RemoveAll(item => item.Name == param);}
\DoxyCodeLine{00178                 \}}
\DoxyCodeLine{00179             \}}
\DoxyCodeLine{00180         \}}
\DoxyCodeLine{00181 }
\DoxyCodeLine{00182 }
\DoxyCodeLine{00183         \textcolor{keyword}{private} \textcolor{keywordtype}{void} DrawParameterInspector()}
\DoxyCodeLine{00184         \{}
\DoxyCodeLine{00185             \textcolor{comment}{// flag to expose a note in Interface if one or more trigger(s) are synchronized}}
\DoxyCodeLine{00186             \textcolor{keywordtype}{bool} isUsingTriggers = \textcolor{keyword}{false};}
\DoxyCodeLine{00187 }
\DoxyCodeLine{00188             SerializedProperty foldoutProperty = this.serializedObject.FindProperty(\textcolor{stringliteral}{"{}ShowParameterInspector"{}});}
\DoxyCodeLine{00189             foldoutProperty.boolValue = PhotonGUI.ContainerHeaderFoldout(\textcolor{stringliteral}{"{}Synchronize Parameters"{}}, foldoutProperty.boolValue);}
\DoxyCodeLine{00190 }
\DoxyCodeLine{00191             \textcolor{keywordflow}{if} (foldoutProperty.boolValue == \textcolor{keyword}{false})}
\DoxyCodeLine{00192             \{}
\DoxyCodeLine{00193                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{00194             \}}
\DoxyCodeLine{00195 }
\DoxyCodeLine{00196             \textcolor{keywordtype}{float} lineHeight = 20;}
\DoxyCodeLine{00197             Rect containerRect = PhotonGUI.ContainerBody(this.GetParameterCount() * lineHeight);}
\DoxyCodeLine{00198 }
\DoxyCodeLine{00199             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < this.GetParameterCount(); i++)}
\DoxyCodeLine{00200             \{}
\DoxyCodeLine{00201                 AnimatorControllerParameter parameter = \textcolor{keyword}{null};}
\DoxyCodeLine{00202                 parameter = this.GetAnimatorControllerParameter(i);}
\DoxyCodeLine{00203 }
\DoxyCodeLine{00204                 \textcolor{keywordtype}{string} defaultValue = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00205 }
\DoxyCodeLine{00206                 \textcolor{keywordflow}{if} (parameter.type == AnimatorControllerParameterType.Bool)}
\DoxyCodeLine{00207                 \{}
\DoxyCodeLine{00208                     \textcolor{keywordflow}{if} (Application.isPlaying \&\& \textcolor{keyword}{this}.m\_Animator.gameObject.activeInHierarchy)}
\DoxyCodeLine{00209                     \{}
\DoxyCodeLine{00210                         defaultValue += this.m\_Animator.GetBool(parameter.name);}
\DoxyCodeLine{00211                     \}}
\DoxyCodeLine{00212                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00213                     \{}
\DoxyCodeLine{00214                         defaultValue += parameter.defaultBool.ToString();}
\DoxyCodeLine{00215                     \}}
\DoxyCodeLine{00216                 \}}
\DoxyCodeLine{00217                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (parameter.type == AnimatorControllerParameterType.Float)}
\DoxyCodeLine{00218                 \{}
\DoxyCodeLine{00219                     \textcolor{keywordflow}{if} (Application.isPlaying \&\& \textcolor{keyword}{this}.m\_Animator.gameObject.activeInHierarchy)}
\DoxyCodeLine{00220                     \{}
\DoxyCodeLine{00221                         defaultValue += this.m\_Animator.GetFloat(parameter.name).ToString(\textcolor{stringliteral}{"{}0.00"{}});}
\DoxyCodeLine{00222                     \}}
\DoxyCodeLine{00223                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00224                     \{}
\DoxyCodeLine{00225                         defaultValue += parameter.defaultFloat.ToString();}
\DoxyCodeLine{00226                     \}}
\DoxyCodeLine{00227                 \}}
\DoxyCodeLine{00228                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (parameter.type == AnimatorControllerParameterType.Int)}
\DoxyCodeLine{00229                 \{}
\DoxyCodeLine{00230                     \textcolor{keywordflow}{if} (Application.isPlaying \&\& \textcolor{keyword}{this}.m\_Animator.gameObject.activeInHierarchy)}
\DoxyCodeLine{00231                     \{}
\DoxyCodeLine{00232                         defaultValue += this.m\_Animator.GetInteger(parameter.name);}
\DoxyCodeLine{00233                     \}}
\DoxyCodeLine{00234                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00235                     \{}
\DoxyCodeLine{00236                         defaultValue += parameter.defaultInt.ToString();}
\DoxyCodeLine{00237                     \}}
\DoxyCodeLine{00238                 \}}
\DoxyCodeLine{00239                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (parameter.type == AnimatorControllerParameterType.Trigger)}
\DoxyCodeLine{00240                 \{}
\DoxyCodeLine{00241                     \textcolor{keywordflow}{if} (Application.isPlaying \&\& \textcolor{keyword}{this}.m\_Animator.gameObject.activeInHierarchy)}
\DoxyCodeLine{00242                     \{}
\DoxyCodeLine{00243                         defaultValue += this.m\_Animator.GetBool(parameter.name);}
\DoxyCodeLine{00244                     \}}
\DoxyCodeLine{00245                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00246                     \{}
\DoxyCodeLine{00247                         defaultValue += parameter.defaultBool.ToString();}
\DoxyCodeLine{00248                     \}}
\DoxyCodeLine{00249                 \}}
\DoxyCodeLine{00250 }
\DoxyCodeLine{00251                 \textcolor{keywordflow}{if} (this.m\_Target.DoesParameterSynchronizeTypeExist(parameter.name) == \textcolor{keyword}{false})}
\DoxyCodeLine{00252                 \{}
\DoxyCodeLine{00253                     this.m\_Target.SetParameterSynchronized(parameter.name, (PhotonAnimatorView.ParameterType)parameter.type, PhotonAnimatorView.SynchronizeType.Disabled);}
\DoxyCodeLine{00254                 \}}
\DoxyCodeLine{00255 }
\DoxyCodeLine{00256                 PhotonAnimatorView.SynchronizeType value = this.m\_Target.GetParameterSynchronizeType(parameter.name);}
\DoxyCodeLine{00257 }
\DoxyCodeLine{00258                 \textcolor{comment}{// check if using trigger and actually synchronizing it}}
\DoxyCodeLine{00259                 \textcolor{keywordflow}{if} (value != PhotonAnimatorView.SynchronizeType.Disabled \&\& parameter.type == AnimatorControllerParameterType.Trigger)}
\DoxyCodeLine{00260                 \{}
\DoxyCodeLine{00261                     isUsingTriggers = \textcolor{keyword}{true};}
\DoxyCodeLine{00262                 \}}
\DoxyCodeLine{00263 }
\DoxyCodeLine{00264                 Rect elementRect = \textcolor{keyword}{new} Rect(containerRect.xMin, containerRect.yMin + i * lineHeight, containerRect.width, lineHeight);}
\DoxyCodeLine{00265 }
\DoxyCodeLine{00266                 Rect labelRect = \textcolor{keyword}{new} Rect(elementRect.xMin + 5, elementRect.yMin + 2, EditorGUIUtility.labelWidth -\/ 5, elementRect.height);}
\DoxyCodeLine{00267                 GUI.Label(labelRect, parameter.name + \textcolor{stringliteral}{"{} ("{}} + defaultValue + \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{00268 }
\DoxyCodeLine{00269                 Rect popupRect = \textcolor{keyword}{new} Rect(elementRect.xMin + EditorGUIUtility.labelWidth, elementRect.yMin + 2, elementRect.width -\/ EditorGUIUtility.labelWidth -\/ 5, EditorGUIUtility.singleLineHeight);}
\DoxyCodeLine{00270                 value = (PhotonAnimatorView.SynchronizeType)EditorGUI.EnumPopup(popupRect, value);}
\DoxyCodeLine{00271 }
\DoxyCodeLine{00272                 \textcolor{keywordflow}{if} (i < this.GetParameterCount() -\/ 1)}
\DoxyCodeLine{00273                 \{}
\DoxyCodeLine{00274                     Rect splitterRect = \textcolor{keyword}{new} Rect(elementRect.xMin + 2, elementRect.yMax, elementRect.width -\/ 4, 1);}
\DoxyCodeLine{00275                     PhotonGUI.DrawSplitter(splitterRect);}
\DoxyCodeLine{00276                 \}}
\DoxyCodeLine{00277 }
\DoxyCodeLine{00278                 \textcolor{keywordflow}{if} (value != this.m\_Target.GetParameterSynchronizeType(parameter.name))}
\DoxyCodeLine{00279                 \{}
\DoxyCodeLine{00280                     Undo.RecordObject(this.target, \textcolor{stringliteral}{"{}Modify Synchronize Parameter "{}} + parameter.name);}
\DoxyCodeLine{00281                     this.m\_Target.SetParameterSynchronized(parameter.name, (PhotonAnimatorView.ParameterType)parameter.type, value);}
\DoxyCodeLine{00282                 \}}
\DoxyCodeLine{00283             \}}
\DoxyCodeLine{00284 }
\DoxyCodeLine{00285             \textcolor{comment}{// display note when synchronized triggers are detected.}}
\DoxyCodeLine{00286             \textcolor{keywordflow}{if} (isUsingTriggers)}
\DoxyCodeLine{00287             \{}
\DoxyCodeLine{00288                 EditorGUILayout.HelpBox(\textcolor{stringliteral}{"{}When using triggers, make sure this component is last in the stack. "{}} +}
\DoxyCodeLine{00289                                 \textcolor{stringliteral}{"{}If you still experience issues, implement triggers as a regular RPC "{}} +}
\DoxyCodeLine{00290                                 \textcolor{stringliteral}{"{}or in custom IPunObservable component instead."{}}, MessageType.Warning);}
\DoxyCodeLine{00291                }
\DoxyCodeLine{00292             \}}
\DoxyCodeLine{00293         \}}
\DoxyCodeLine{00294     \}}
\DoxyCodeLine{00295 \}}

\end{DoxyCode}
