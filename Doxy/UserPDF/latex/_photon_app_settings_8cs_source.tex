\doxysection{Photon\+App\+Settings.\+cs}
\label{_photon_app_settings_8cs_source}\index{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/Photon/PhotonRealtime/Code/Unity/PhotonAppSettings.cs@{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/Photon/PhotonRealtime/Code/Unity/PhotonAppSettings.cs}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00002 \textcolor{comment}{// <copyright file="{}PhotonAppSettings.cs"{} company="{}Exit Games GmbH"{}>}}
\DoxyCodeLine{00003 \textcolor{comment}{// </copyright>}}
\DoxyCodeLine{00004 \textcolor{comment}{// <author>developer@photonengine.com</author>}}
\DoxyCodeLine{00005 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00006 }
\DoxyCodeLine{00007 \textcolor{preprocessor}{\#if UNITY\_2017\_4\_OR\_NEWER}}
\DoxyCodeLine{00008 \textcolor{preprocessor}{\#define SUPPORTED\_UNITY}}
\DoxyCodeLine{00009 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00010 }
\DoxyCodeLine{00011 }
\DoxyCodeLine{00012 \textcolor{preprocessor}{\#if !PHOTON\_UNITY\_NETWORKING}}
\DoxyCodeLine{00013 }
\DoxyCodeLine{00014 \textcolor{keyword}{namespace }Photon.Realtime}
\DoxyCodeLine{00015 \{}
\DoxyCodeLine{00016     \textcolor{keyword}{using} System;}
\DoxyCodeLine{00017     \textcolor{keyword}{using} System.IO;}
\DoxyCodeLine{00018     \textcolor{keyword}{using} UnityEditor;}
\DoxyCodeLine{00019     \textcolor{keyword}{using} UnityEngine;}
\DoxyCodeLine{00025     [Serializable]}
\DoxyCodeLine{00026     [HelpURL(\textcolor{stringliteral}{"{}https://doc.photonengine.com/en-\/us/pun/v2/getting-\/started/initial-\/setup"{}})]}
\DoxyCodeLine{00027     \textcolor{keyword}{public} \textcolor{keyword}{class }PhotonAppSettings : ScriptableObject}
\DoxyCodeLine{00028     \{}
\DoxyCodeLine{00029         [Tooltip(\textcolor{stringliteral}{"{}Core Photon Server/Cloud settings."{}})]}
\DoxyCodeLine{00030         \textcolor{keyword}{public} AppSettings AppSettings;}
\DoxyCodeLine{00031 }
\DoxyCodeLine{00032 \textcolor{preprocessor}{        \#if UNITY\_EDITOR}}
\DoxyCodeLine{00033         [HideInInspector]}
\DoxyCodeLine{00034         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} DisableAutoOpenWizard;}
\DoxyCodeLine{00035         \textcolor{comment}{//public bool ShowSettings;}}
\DoxyCodeLine{00036         \textcolor{comment}{//public bool DevRegionSetOnce;}}
\DoxyCodeLine{00037 \textcolor{preprocessor}{        \#endif}}
\DoxyCodeLine{00038 }
\DoxyCodeLine{00039         \textcolor{keyword}{private} \textcolor{keyword}{static} PhotonAppSettings instance;}
\DoxyCodeLine{00040 }
\DoxyCodeLine{00042         \textcolor{keyword}{public} \textcolor{keyword}{static} PhotonAppSettings Instance}
\DoxyCodeLine{00043         \{}
\DoxyCodeLine{00044             \textcolor{keyword}{get}}
\DoxyCodeLine{00045             \{}
\DoxyCodeLine{00046                 \textcolor{keywordflow}{if} (instance == \textcolor{keyword}{null})}
\DoxyCodeLine{00047                 \{}
\DoxyCodeLine{00048                     LoadOrCreateSettings();}
\DoxyCodeLine{00049                 \}}
\DoxyCodeLine{00050 }
\DoxyCodeLine{00051                 \textcolor{keywordflow}{return} instance;}
\DoxyCodeLine{00052             \}}
\DoxyCodeLine{00053 }
\DoxyCodeLine{00054             \textcolor{keyword}{private} \textcolor{keyword}{set} \{ instance = value; \}}
\DoxyCodeLine{00055         \}}
\DoxyCodeLine{00056 }
\DoxyCodeLine{00057 }
\DoxyCodeLine{00058 }
\DoxyCodeLine{00059         \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{void} LoadOrCreateSettings()}
\DoxyCodeLine{00060         \{}
\DoxyCodeLine{00061             \textcolor{keywordflow}{if} (instance != \textcolor{keyword}{null})}
\DoxyCodeLine{00062             \{}
\DoxyCodeLine{00063                 Debug.LogWarning(\textcolor{stringliteral}{"{}Instance is not null. Will not LoadOrCreateSettings()."{}});}
\DoxyCodeLine{00064                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{00065             \}}
\DoxyCodeLine{00066 }
\DoxyCodeLine{00067 }
\DoxyCodeLine{00068 \textcolor{preprocessor}{            \#if UNITY\_EDITOR}}
\DoxyCodeLine{00069             \textcolor{comment}{// let's check if the AssetDatabase finds the file; aimed to avoid multiple files being created, potentially a futile step}}
\DoxyCodeLine{00070             AssetDatabase.Refresh();}
\DoxyCodeLine{00071 \textcolor{preprocessor}{            \#endif}}
\DoxyCodeLine{00072 }
\DoxyCodeLine{00073             \textcolor{comment}{// try to load the resource / asset (ServerSettings a.k.a. PhotonServerSettings)}}
\DoxyCodeLine{00074             instance = (PhotonAppSettings)Resources.Load(typeof(PhotonAppSettings).Name, typeof(PhotonAppSettings));}
\DoxyCodeLine{00075             \textcolor{keywordflow}{if} (instance != \textcolor{keyword}{null})}
\DoxyCodeLine{00076             \{}
\DoxyCodeLine{00077                 \textcolor{comment}{//Debug.LogWarning("{}Settings from Resources."{}); // DEBUG}}
\DoxyCodeLine{00078                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{00079             \}}
\DoxyCodeLine{00080 }
\DoxyCodeLine{00081 }
\DoxyCodeLine{00082             \textcolor{comment}{// create it if not loaded}}
\DoxyCodeLine{00083             \textcolor{keywordflow}{if} (instance == \textcolor{keyword}{null})}
\DoxyCodeLine{00084             \{}
\DoxyCodeLine{00085                 instance = (PhotonAppSettings)CreateInstance(typeof(PhotonAppSettings));}
\DoxyCodeLine{00086                 \textcolor{keywordflow}{if} (instance == \textcolor{keyword}{null})}
\DoxyCodeLine{00087                 \{}
\DoxyCodeLine{00088                     Debug.LogError(\textcolor{stringliteral}{"{}Failed to create ServerSettings. PUN is unable to run this way. If you deleted it from the project, reload the Editor."{}});}
\DoxyCodeLine{00089                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00090                 \}}
\DoxyCodeLine{00091 }
\DoxyCodeLine{00092                 \textcolor{comment}{//Debug.LogWarning("{}Settings created!"{}); // DEBUG}}
\DoxyCodeLine{00093             \}}
\DoxyCodeLine{00094 }
\DoxyCodeLine{00095             \textcolor{comment}{// in the editor, store the settings file as it's not loaded}}
\DoxyCodeLine{00096 \textcolor{preprocessor}{            \#if UNITY\_EDITOR}}
\DoxyCodeLine{00097             \textcolor{keywordtype}{string} punResourcesDirectory = \textcolor{stringliteral}{"{}Assets/Photon/Resources/"{}};}
\DoxyCodeLine{00098             \textcolor{keywordtype}{string} serverSettingsAssetPath = punResourcesDirectory + typeof(PhotonAppSettings).Name + \textcolor{stringliteral}{"{}.asset"{}};}
\DoxyCodeLine{00099             \textcolor{keywordtype}{string} serverSettingsDirectory = Path.GetDirectoryName(serverSettingsAssetPath);}
\DoxyCodeLine{00100 }
\DoxyCodeLine{00101             \textcolor{keywordflow}{if} (!Directory.Exists(serverSettingsDirectory))}
\DoxyCodeLine{00102             \{}
\DoxyCodeLine{00103                 Directory.CreateDirectory(serverSettingsDirectory);}
\DoxyCodeLine{00104                 AssetDatabase.ImportAsset(serverSettingsDirectory);}
\DoxyCodeLine{00105             \}}
\DoxyCodeLine{00106 }
\DoxyCodeLine{00107             AssetDatabase.CreateAsset(instance, serverSettingsAssetPath);}
\DoxyCodeLine{00108             AssetDatabase.SaveAssets();}
\DoxyCodeLine{00109 }
\DoxyCodeLine{00110 }
\DoxyCodeLine{00111             \textcolor{comment}{//Debug.Log("{}Settings stored to DB."{}); // DEBUG}}
\DoxyCodeLine{00112 \textcolor{preprocessor}{            \#endif}}
\DoxyCodeLine{00113         \}}
\DoxyCodeLine{00114     \}}
\DoxyCodeLine{00115 \}}
\DoxyCodeLine{00116 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
