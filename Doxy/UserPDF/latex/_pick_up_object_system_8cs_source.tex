\doxysection{Pick\+Up\+Object\+System.\+cs}
\label{_pick_up_object_system_8cs_source}\index{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/\_Developers/Adriana/Scripts/Human/PickUpObjectSystem.cs@{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/\_Developers/Adriana/Scripts/Human/PickUpObjectSystem.cs}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{keyword}{using} System.Collections;}
\DoxyCodeLine{00002 \textcolor{keyword}{using} System.Collections.Generic;}
\DoxyCodeLine{00003 \textcolor{keyword}{using} UnityEngine;}
\DoxyCodeLine{00004 \textcolor{keyword}{using} UnityEngine.UI;}
\DoxyCodeLine{00005 }
\DoxyCodeLine{00006 \textcolor{keyword}{public} \textcolor{keyword}{class }PickUpObjectSystem : MonoBehaviour}
\DoxyCodeLine{00007 \{}
\DoxyCodeLine{00008     [Header(\textcolor{stringliteral}{"{}References"{}})]}
\DoxyCodeLine{00009 }
\DoxyCodeLine{00010     [SerializeField] \textcolor{keyword}{private} GameObject broomPrefab;}
\DoxyCodeLine{00011     [SerializeField] \textcolor{keyword}{private} GameObject clothPrefab;}
\DoxyCodeLine{00012     \textcolor{keyword}{private} Transform broomPos;}
\DoxyCodeLine{00013 }
\DoxyCodeLine{00014     [SerializeField] \textcolor{keyword}{private} Camera characterCamera;}
\DoxyCodeLine{00015     [SerializeField] \textcolor{keyword}{private} Transform slot;}
\DoxyCodeLine{00016     \textcolor{keyword}{private} PickableObjects pickedItem;}
\DoxyCodeLine{00017 }
\DoxyCodeLine{00018     [Header(\textcolor{stringliteral}{"{}UI Settings"{}})]}
\DoxyCodeLine{00019     [SerializeField] \textcolor{keyword}{private} Button grabButton;}
\DoxyCodeLine{00020     [SerializeField] \textcolor{keyword}{private} Button releaseButton;}
\DoxyCodeLine{00021 }
\DoxyCodeLine{00022     \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} havePenyapu = \textcolor{keyword}{false};}
\DoxyCodeLine{00023     \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} haveCloth = \textcolor{keyword}{false};}
\DoxyCodeLine{00024     \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} haveDuster = \textcolor{keyword}{false};}
\DoxyCodeLine{00025     \textcolor{keyword}{public} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} haveChicken = \textcolor{keyword}{false};}
\DoxyCodeLine{00026 }
\DoxyCodeLine{00027     \textcolor{keyword}{private} \textcolor{keywordtype}{bool} inBroomZone = \textcolor{keyword}{false};}
\DoxyCodeLine{00028     \textcolor{keyword}{private} \textcolor{keywordtype}{bool} inDusterZone = \textcolor{keyword}{false};}
\DoxyCodeLine{00029 }
\DoxyCodeLine{00030     \textcolor{keyword}{public} \textcolor{keywordtype}{bool} isInTaskRange;}
\DoxyCodeLine{00031 }
\DoxyCodeLine{00032     \textcolor{keyword}{public} \textcolor{keywordtype}{void} Update()}
\DoxyCodeLine{00033     \{}
\DoxyCodeLine{00034         var ray = characterCamera.ViewportPointToRay(Vector3.one * 0.5f);}
\DoxyCodeLine{00035         RaycastHit hit;}
\DoxyCodeLine{00036 }
\DoxyCodeLine{00037         \textcolor{keywordflow}{if} (Physics.Raycast(ray, out hit, 5f))}
\DoxyCodeLine{00038         \{}
\DoxyCodeLine{00039             \textcolor{keywordflow}{if} (hit.transform.GetComponent<PickableObjects>() != \textcolor{keyword}{null})}
\DoxyCodeLine{00040             \{}
\DoxyCodeLine{00041                 isInTaskRange = \textcolor{keyword}{true};}
\DoxyCodeLine{00042             \}}
\DoxyCodeLine{00043 }
\DoxyCodeLine{00044             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00045             \{}
\DoxyCodeLine{00046                 isInTaskRange = \textcolor{keyword}{false};}
\DoxyCodeLine{00047             \}}
\DoxyCodeLine{00048         \}}
\DoxyCodeLine{00049 }
\DoxyCodeLine{00050         \textcolor{keywordflow}{if} (isInTaskRange)}
\DoxyCodeLine{00051         \{}
\DoxyCodeLine{00052             releaseButton.interactable = \textcolor{keyword}{true};}
\DoxyCodeLine{00053         \}}
\DoxyCodeLine{00054 }
\DoxyCodeLine{00055         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00056         \{}
\DoxyCodeLine{00057             releaseButton.interactable = \textcolor{keyword}{false};}
\DoxyCodeLine{00058         \}}
\DoxyCodeLine{00059 }
\DoxyCodeLine{00060     \}}
\DoxyCodeLine{00061 }
\DoxyCodeLine{00062     \textcolor{keyword}{private} \textcolor{keywordtype}{void} PickItem(PickableObjects item)}
\DoxyCodeLine{00063     \{}
\DoxyCodeLine{00064         pickedItem = item;}
\DoxyCodeLine{00065         \textcolor{comment}{//item.Rb.isKinematic = true;}}
\DoxyCodeLine{00066         \textcolor{comment}{//item.Rb.velocity = Vector3.zero;}}
\DoxyCodeLine{00067         \textcolor{comment}{//item.Rb.angularVelocity = Vector3.zero;}}
\DoxyCodeLine{00068 }
\DoxyCodeLine{00069         \textcolor{comment}{//item.transform.SetParent(slot);}}
\DoxyCodeLine{00070         item.transform.position = \textcolor{keyword}{new} Vector3 (999,999,999);}
\DoxyCodeLine{00071         \textcolor{comment}{//item.transform.localEulerAngles = Vector3.zero;}}
\DoxyCodeLine{00072         \textcolor{comment}{//releaseButton.gameObject.SetActive(true);}}
\DoxyCodeLine{00073 }
\DoxyCodeLine{00074         \textcolor{keywordflow}{if}(item.gameObject.tag == \textcolor{stringliteral}{"{}Penyapu"{}})}
\DoxyCodeLine{00075         \{}
\DoxyCodeLine{00076             havePenyapu = \textcolor{keyword}{true};}
\DoxyCodeLine{00077             Debug.Log(\textcolor{stringliteral}{"{}Human\_Player grab PENYAPU"{}});}
\DoxyCodeLine{00078         \}}
\DoxyCodeLine{00079         \textcolor{keywordflow}{if} (item.gameObject.tag == \textcolor{stringliteral}{"{}Cloth"{}})}
\DoxyCodeLine{00080         \{}
\DoxyCodeLine{00081             haveCloth = \textcolor{keyword}{true};}
\DoxyCodeLine{00082             Debug.Log(\textcolor{stringliteral}{"{}Human\_Player grab CLOTH"{}});}
\DoxyCodeLine{00083         \}}
\DoxyCodeLine{00084         \textcolor{keywordflow}{if} (item.gameObject.tag == \textcolor{stringliteral}{"{}Duster"{}})}
\DoxyCodeLine{00085         \{}
\DoxyCodeLine{00086             haveDuster = \textcolor{keyword}{true};}
\DoxyCodeLine{00087             Debug.Log(\textcolor{stringliteral}{"{}Human\_Player grab DUSTER"{}});}
\DoxyCodeLine{00088         \}}
\DoxyCodeLine{00089         \textcolor{keywordflow}{if} (item.gameObject.tag == \textcolor{stringliteral}{"{}Chicken"{}})}
\DoxyCodeLine{00090         \{}
\DoxyCodeLine{00091             haveChicken = \textcolor{keyword}{true};}
\DoxyCodeLine{00092             Debug.Log(\textcolor{stringliteral}{"{}Human\_Player grab CHICKEN"{}});}
\DoxyCodeLine{00093         \}}
\DoxyCodeLine{00094 }
\DoxyCodeLine{00095     \}}
\DoxyCodeLine{00096 }
\DoxyCodeLine{00097 }
\DoxyCodeLine{00098     \textcolor{keyword}{private} \textcolor{keywordtype}{void} DropItem(PickableObjects item)}
\DoxyCodeLine{00099     \{}
\DoxyCodeLine{00100         pickedItem = \textcolor{keyword}{null};}
\DoxyCodeLine{00101         item.transform.SetParent(\textcolor{keyword}{null});}
\DoxyCodeLine{00102         item.Rb.isKinematic = \textcolor{keyword}{false};}
\DoxyCodeLine{00103 }
\DoxyCodeLine{00104         item.Rb.AddForce(item.transform.forward * 0.5f, ForceMode.Impulse);}
\DoxyCodeLine{00105         item.Rb.AddForce(item.transform.up * 0.5f, ForceMode.Impulse);}
\DoxyCodeLine{00106 }
\DoxyCodeLine{00107 }
\DoxyCodeLine{00108         releaseButton.gameObject.SetActive(\textcolor{keyword}{false});}
\DoxyCodeLine{00109 }
\DoxyCodeLine{00110         havePenyapu = \textcolor{keyword}{false};}
\DoxyCodeLine{00111         haveCloth = \textcolor{keyword}{false};}
\DoxyCodeLine{00112     \}}
\DoxyCodeLine{00113 }
\DoxyCodeLine{00114     \textcolor{keyword}{private} \textcolor{keywordtype}{void} OnTriggerStay(Collider other)}
\DoxyCodeLine{00115     \{}
\DoxyCodeLine{00116         \textcolor{keywordflow}{if} (other.gameObject.CompareTag(\textcolor{stringliteral}{"{}Broom\_Zone"{}}))}
\DoxyCodeLine{00117         \{}
\DoxyCodeLine{00118             inBroomZone = \textcolor{keyword}{true};}
\DoxyCodeLine{00119             releaseButton.interactable = \textcolor{keyword}{true};}
\DoxyCodeLine{00120 }
\DoxyCodeLine{00121             Debug.Log(\textcolor{stringliteral}{"{}Player\_Human is in broom zone."{}});}
\DoxyCodeLine{00122         \}}
\DoxyCodeLine{00123         \textcolor{keywordflow}{if} (other.gameObject.CompareTag(\textcolor{stringliteral}{"{}Duster\_Zone"{}}))}
\DoxyCodeLine{00124         \{}
\DoxyCodeLine{00125             inDusterZone = \textcolor{keyword}{true};}
\DoxyCodeLine{00126             releaseButton.interactable = \textcolor{keyword}{true};}
\DoxyCodeLine{00127 }
\DoxyCodeLine{00128             Debug.Log(\textcolor{stringliteral}{"{}Player\_Human is in duster zone."{}});}
\DoxyCodeLine{00129         \}}
\DoxyCodeLine{00130 }
\DoxyCodeLine{00131         \textcolor{comment}{//Take out chicken}}
\DoxyCodeLine{00132         \textcolor{keywordflow}{if}(Chores.inFridgeZone \&\& Chores.fridgeIsOpen)}
\DoxyCodeLine{00133         \{}
\DoxyCodeLine{00134             releaseButton.interactable = \textcolor{keyword}{true};}
\DoxyCodeLine{00135 }
\DoxyCodeLine{00136         \}}
\DoxyCodeLine{00137     \}}
\DoxyCodeLine{00138 }
\DoxyCodeLine{00139     \textcolor{keyword}{private} \textcolor{keywordtype}{void} OnTriggerExit(Collider other)}
\DoxyCodeLine{00140     \{}
\DoxyCodeLine{00141         \textcolor{keywordflow}{if} (other.gameObject.CompareTag(\textcolor{stringliteral}{"{}Broom\_Zone"{}}))}
\DoxyCodeLine{00142         \{}
\DoxyCodeLine{00143             inBroomZone = \textcolor{keyword}{false};}
\DoxyCodeLine{00144             releaseButton.interactable = \textcolor{keyword}{false};}
\DoxyCodeLine{00145             Debug.Log(\textcolor{stringliteral}{"{}Player\_Human EXIT broom zone."{}});}
\DoxyCodeLine{00146         \}}
\DoxyCodeLine{00147         \textcolor{keywordflow}{if} (other.gameObject.CompareTag(\textcolor{stringliteral}{"{}Duster\_Zone"{}}))}
\DoxyCodeLine{00148         \{}
\DoxyCodeLine{00149             inDusterZone = \textcolor{keyword}{false};}
\DoxyCodeLine{00150             releaseButton.interactable = \textcolor{keyword}{false};}
\DoxyCodeLine{00151 }
\DoxyCodeLine{00152             Debug.Log(\textcolor{stringliteral}{"{}Player\_Human EXIT duster zone."{}});}
\DoxyCodeLine{00153         \}}
\DoxyCodeLine{00154 }
\DoxyCodeLine{00155     \}}
\DoxyCodeLine{00156 }
\DoxyCodeLine{00157 }
\DoxyCodeLine{00158     \textcolor{keyword}{public} \textcolor{keywordtype}{void} PickUpCheck()}
\DoxyCodeLine{00159     \{}
\DoxyCodeLine{00160         \textcolor{keywordflow}{if} (pickedItem)}
\DoxyCodeLine{00161         \{}
\DoxyCodeLine{00162             Debug.Log(\textcolor{stringliteral}{"{}Destroy item"{}});}
\DoxyCodeLine{00163             \textcolor{keywordflow}{if} (inBroomZone \&\& havePenyapu)}
\DoxyCodeLine{00164             \{}
\DoxyCodeLine{00165                 Destroy(pickedItem);}
\DoxyCodeLine{00166                 Instantiate(broomPrefab, pickedItem.transform);}
\DoxyCodeLine{00167                 havePenyapu = \textcolor{keyword}{false};}
\DoxyCodeLine{00168             \}}
\DoxyCodeLine{00169 }
\DoxyCodeLine{00170             \textcolor{keywordflow}{if} (inDusterZone \&\& haveDuster)}
\DoxyCodeLine{00171             \{}
\DoxyCodeLine{00172                 Destroy(pickedItem);}
\DoxyCodeLine{00173                 \textcolor{comment}{//Instantiate(broomPrefab, pickedItem.transform);}}
\DoxyCodeLine{00174                 haveDuster = \textcolor{keyword}{false};}
\DoxyCodeLine{00175 }
\DoxyCodeLine{00176             \}}
\DoxyCodeLine{00177         \}}
\DoxyCodeLine{00178 }
\DoxyCodeLine{00179         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00180         \{}
\DoxyCodeLine{00181             var ray = characterCamera.ViewportPointToRay(Vector3.one * 0.5f);}
\DoxyCodeLine{00182             RaycastHit hit;}
\DoxyCodeLine{00183 }
\DoxyCodeLine{00184             \textcolor{keywordflow}{if} (Physics.Raycast(ray, out hit, 5f))}
\DoxyCodeLine{00185             \{}
\DoxyCodeLine{00186                 \textcolor{keywordflow}{if} (hit.transform.GetComponent<PickableObjects>() != \textcolor{keyword}{null})}
\DoxyCodeLine{00187                 \{}
\DoxyCodeLine{00188                     var pickable = hit.transform.GetComponent<PickableObjects>();}
\DoxyCodeLine{00189                     \textcolor{keywordflow}{if} (pickable)}
\DoxyCodeLine{00190                     \{}
\DoxyCodeLine{00191                         \textcolor{comment}{// pick it}}
\DoxyCodeLine{00192                         PickItem(pickable);}
\DoxyCodeLine{00193                     \}}
\DoxyCodeLine{00194                 \}}
\DoxyCodeLine{00195             \}}
\DoxyCodeLine{00196         \}}
\DoxyCodeLine{00197 }
\DoxyCodeLine{00198     \}}
\DoxyCodeLine{00199 }
\DoxyCodeLine{00200 \}}
\DoxyCodeLine{00201 }
\DoxyCodeLine{00202 }

\end{DoxyCode}
