\doxysection{Player\+List\+Cell.\+cs}
\label{_player_list_cell_8cs_source}\index{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/Photon/PhotonUnityNetworking/Demos/PunCockpit/Scripts/Lists/PlayerListCell.cs@{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/Photon/PhotonUnityNetworking/Demos/PunCockpit/Scripts/Lists/PlayerListCell.cs}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00002 \textcolor{comment}{// <copyright file="{}PlayerListCell.cs"{} company="{}Exit Games GmbH"{}>}}
\DoxyCodeLine{00003 \textcolor{comment}{//   Part of: Photon Unity Utilities,}}
\DoxyCodeLine{00004 \textcolor{comment}{// </copyright>}}
\DoxyCodeLine{00005 \textcolor{comment}{// <summary>}}
\DoxyCodeLine{00006 \textcolor{comment}{//  Player list cell representing a given PhotonPlayer}}
\DoxyCodeLine{00007 \textcolor{comment}{// </summary>}}
\DoxyCodeLine{00008 \textcolor{comment}{// <author>developer@exitgames.com</author>}}
\DoxyCodeLine{00009 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00010 }
\DoxyCodeLine{00011 \textcolor{keyword}{using} System.Collections;}
\DoxyCodeLine{00012 }
\DoxyCodeLine{00013 \textcolor{keyword}{using} UnityEngine;}
\DoxyCodeLine{00014 \textcolor{keyword}{using} UnityEngine.UI;}
\DoxyCodeLine{00015 }
\DoxyCodeLine{00016 \textcolor{keyword}{using} Photon.Realtime;}
\DoxyCodeLine{00017 \textcolor{keyword}{using} Photon.Pun.UtilityScripts;}
\DoxyCodeLine{00018 }
\DoxyCodeLine{00019 \textcolor{keyword}{namespace }Photon.Pun.Demo.Cockpit}
\DoxyCodeLine{00020 \{}
\DoxyCodeLine{00024     \textcolor{keyword}{public} \textcolor{keyword}{class }PlayerListCell : MonoBehaviour}
\DoxyCodeLine{00025     \{}
\DoxyCodeLine{00026 }
\DoxyCodeLine{00027         \textcolor{keyword}{public} PlayerListView ListManager;}
\DoxyCodeLine{00028 }
\DoxyCodeLine{00029         \textcolor{keyword}{public} Text NumberText;}
\DoxyCodeLine{00030         \textcolor{keyword}{public} Text NameText;}
\DoxyCodeLine{00031         \textcolor{keyword}{public} Image ActiveFlag;}
\DoxyCodeLine{00032         \textcolor{keyword}{public} Color InactiveColor;}
\DoxyCodeLine{00033         \textcolor{keyword}{public} Color ActiveColor;}
\DoxyCodeLine{00034 }
\DoxyCodeLine{00035         \textcolor{keyword}{public} Text isLocalText;}
\DoxyCodeLine{00036         \textcolor{keyword}{public} Image isMasterFlag;}
\DoxyCodeLine{00037 }
\DoxyCodeLine{00038         \textcolor{keyword}{public} LayoutElement LayoutElement;}
\DoxyCodeLine{00039 }
\DoxyCodeLine{00040         Player \_player;}
\DoxyCodeLine{00041 }
\DoxyCodeLine{00042         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} isInactiveCache;}
\DoxyCodeLine{00043 }
\DoxyCodeLine{00044 }
\DoxyCodeLine{00045 }
\DoxyCodeLine{00046         \textcolor{keyword}{public} \textcolor{keywordtype}{void} RefreshInfo(ExitGames.Client.Photon.Hashtable changedProps)}
\DoxyCodeLine{00047         \{}
\DoxyCodeLine{00048             UpdateInfo();}
\DoxyCodeLine{00049         \}}
\DoxyCodeLine{00050 }
\DoxyCodeLine{00051         \textcolor{keyword}{public} \textcolor{keywordtype}{void} AddToList(Player info, \textcolor{keywordtype}{bool} animate = \textcolor{keyword}{false})}
\DoxyCodeLine{00052         \{}
\DoxyCodeLine{00053             \textcolor{comment}{//Debug.Log("{}AddToList "{} + info.ToStringFull());}}
\DoxyCodeLine{00054 }
\DoxyCodeLine{00055             \_player = info;}
\DoxyCodeLine{00056 }
\DoxyCodeLine{00057             UpdateInfo();}
\DoxyCodeLine{00058 }
\DoxyCodeLine{00059             \textcolor{keywordflow}{if} (animate)}
\DoxyCodeLine{00060             \{}
\DoxyCodeLine{00061 }
\DoxyCodeLine{00062                 StartCoroutine(\textcolor{stringliteral}{"{}Add"{}});}
\DoxyCodeLine{00063             \}}
\DoxyCodeLine{00064             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00065             \{}
\DoxyCodeLine{00066                 LayoutElement.minHeight = 30f;}
\DoxyCodeLine{00067             \}}
\DoxyCodeLine{00068         \}}
\DoxyCodeLine{00069 }
\DoxyCodeLine{00070         \textcolor{keyword}{public} \textcolor{keywordtype}{void} RemoveFromList()}
\DoxyCodeLine{00071         \{}
\DoxyCodeLine{00072             StartCoroutine(\textcolor{stringliteral}{"{}Remove"{}});}
\DoxyCodeLine{00073         \}}
\DoxyCodeLine{00074 }
\DoxyCodeLine{00075 }
\DoxyCodeLine{00076         \textcolor{keyword}{public} \textcolor{keywordtype}{void} OnClick()}
\DoxyCodeLine{00077         \{}
\DoxyCodeLine{00078             ListManager.SelectPlayer(\_player);}
\DoxyCodeLine{00079         \}}
\DoxyCodeLine{00080 }
\DoxyCodeLine{00081         \textcolor{keywordtype}{void} UpdateInfo()}
\DoxyCodeLine{00082         \{}
\DoxyCodeLine{00083             \textcolor{keywordflow}{if} (\textcolor{keywordtype}{string}.IsNullOrEmpty(\_player.NickName))}
\DoxyCodeLine{00084             \{}
\DoxyCodeLine{00085                 NameText.text = \_player.ActorNumber.ToString();}
\DoxyCodeLine{00086             \}}
\DoxyCodeLine{00087 }
\DoxyCodeLine{00088             \textcolor{keywordtype}{int} \_index = \_player.GetPlayerNumber();}
\DoxyCodeLine{00089             NumberText.text = \textcolor{stringliteral}{"{}\#"{}} + \_index.ToString(\textcolor{stringliteral}{"{}00"{}}); \textcolor{comment}{// if this function was not called on every update, we would need to listen to the PlayerNumbering delegate}}
\DoxyCodeLine{00090 }
\DoxyCodeLine{00091             NameText.text = \_player.NickName;}
\DoxyCodeLine{00092 }
\DoxyCodeLine{00093             ActiveFlag.color = \_player.IsInactive ? InactiveColor : ActiveColor;}
\DoxyCodeLine{00094 }
\DoxyCodeLine{00095             isLocalText.gameObject.SetActive(\_player.IsLocal);}
\DoxyCodeLine{00096 }
\DoxyCodeLine{00097             isMasterFlag.gameObject.SetActive(\_player.IsMasterClient);}
\DoxyCodeLine{00098 }
\DoxyCodeLine{00099 }
\DoxyCodeLine{00100             \textcolor{comment}{// reorder the list to match player number}}
\DoxyCodeLine{00101             \textcolor{keywordflow}{if} (\_index >= 0 \&\& this.transform.GetSiblingIndex() != \_index)}
\DoxyCodeLine{00102             \{}
\DoxyCodeLine{00103                 this.transform.SetSiblingIndex(\_index + 1);}
\DoxyCodeLine{00104             \}}
\DoxyCodeLine{00105         \}}
\DoxyCodeLine{00106 }
\DoxyCodeLine{00107 }
\DoxyCodeLine{00108         IEnumerator Add()}
\DoxyCodeLine{00109         \{}
\DoxyCodeLine{00110             this.isInactiveCache = \textcolor{keyword}{false};}
\DoxyCodeLine{00111 }
\DoxyCodeLine{00112             LayoutElement.minHeight = 0f;}
\DoxyCodeLine{00113 }
\DoxyCodeLine{00114             \textcolor{keywordflow}{while} (LayoutElement.minHeight != 30f)}
\DoxyCodeLine{00115             \{}
\DoxyCodeLine{00116 }
\DoxyCodeLine{00117                 LayoutElement.minHeight = Mathf.MoveTowards(LayoutElement.minHeight, 30f, 2f);}
\DoxyCodeLine{00118                 yield \textcolor{keywordflow}{return} \textcolor{keyword}{new} WaitForEndOfFrame();}
\DoxyCodeLine{00119             \}}
\DoxyCodeLine{00120         \}}
\DoxyCodeLine{00121 }
\DoxyCodeLine{00122         IEnumerator Remove()}
\DoxyCodeLine{00123         \{}
\DoxyCodeLine{00124             \textcolor{keywordflow}{while} (LayoutElement.minHeight != 0f)}
\DoxyCodeLine{00125             \{}
\DoxyCodeLine{00126                 LayoutElement.minHeight = Mathf.MoveTowards(LayoutElement.minHeight, 0f, 2f);}
\DoxyCodeLine{00127                 yield \textcolor{keywordflow}{return} \textcolor{keyword}{new} WaitForEndOfFrame();}
\DoxyCodeLine{00128             \}}
\DoxyCodeLine{00129 }
\DoxyCodeLine{00130             Destroy(this.gameObject);}
\DoxyCodeLine{00131         \}}
\DoxyCodeLine{00132 }
\DoxyCodeLine{00133     \}}
\DoxyCodeLine{00134 \}}

\end{DoxyCode}
