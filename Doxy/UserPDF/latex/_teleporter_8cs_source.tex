\doxysection{Teleporter.\+cs}
\label{_teleporter_8cs_source}\index{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/\_Developers/WeiYuen/Scripts/\_Bin/Kit/Interactive/Runtime/Teleporter.cs@{C:/\_SSDSPEEDUP/2021/GPS/gps2\_purrpatrator/GPS2\_Purrpatrator/Assets/\_Developers/WeiYuen/Scripts/\_Bin/Kit/Interactive/Runtime/Teleporter.cs}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{keyword}{using} System;}
\DoxyCodeLine{00002 \textcolor{keyword}{using} System.Collections;}
\DoxyCodeLine{00003 \textcolor{keyword}{using} UnityEngine;}
\DoxyCodeLine{00004 }
\DoxyCodeLine{00005 \textcolor{keyword}{namespace }SInt.QuickTask.Gamekit3D.KitHelpers.GameCommands}
\DoxyCodeLine{00006 \{}
\DoxyCodeLine{00007 }
\DoxyCodeLine{00008     [RequireComponent(typeof(Collider))]}
\DoxyCodeLine{00009     \textcolor{keyword}{public} \textcolor{keyword}{class }Teleporter : MonoBehaviour}
\DoxyCodeLine{00010     \{}
\DoxyCodeLine{00011         \textcolor{keyword}{new} \textcolor{keyword}{public} Collider collider;}
\DoxyCodeLine{00012         \textcolor{keyword}{public} LayerMask layers;}
\DoxyCodeLine{00013 }
\DoxyCodeLine{00014         \textcolor{keyword}{public} GameObject enterEffect;}
\DoxyCodeLine{00015         \textcolor{keyword}{public} GameObject exitEffect;}
\DoxyCodeLine{00016         \textcolor{keyword}{public} Transform destinationTransform;}
\DoxyCodeLine{00017         \textcolor{keyword}{public} \textcolor{keywordtype}{float} delayTime;}
\DoxyCodeLine{00018 }
\DoxyCodeLine{00019         WaitForSeconds delay;}
\DoxyCodeLine{00020 }
\DoxyCodeLine{00021         IEnumerator Activate(GameObject teleportee)}
\DoxyCodeLine{00022         \{}
\DoxyCodeLine{00023             \textcolor{keywordflow}{if} (destinationTransform)}
\DoxyCodeLine{00024             \{}
\DoxyCodeLine{00025                 \textcolor{keywordflow}{foreach} (var i \textcolor{keywordflow}{in} teleportee.GetComponentsInChildren<OnTeleportEvent>())}
\DoxyCodeLine{00026                     i.OnTeleport(\textcolor{keyword}{this});}
\DoxyCodeLine{00027                 \textcolor{keywordflow}{if} (enterEffect) enterEffect.SetActive(\textcolor{keyword}{true});}
\DoxyCodeLine{00028                 yield \textcolor{keywordflow}{return} delay;}
\DoxyCodeLine{00029                 \textcolor{keywordflow}{if} (exitEffect) exitEffect.SetActive(\textcolor{keyword}{true});}
\DoxyCodeLine{00030                 teleportee.transform.position = destinationTransform.position;}
\DoxyCodeLine{00031                 teleportee.transform.rotation = destinationTransform.rotation;}
\DoxyCodeLine{00032             \}}
\DoxyCodeLine{00033         \}}
\DoxyCodeLine{00034 }
\DoxyCodeLine{00035         \textcolor{keywordtype}{void} Reset()}
\DoxyCodeLine{00036         \{}
\DoxyCodeLine{00037             collider = GetComponent<Collider>();}
\DoxyCodeLine{00038             collider.isTrigger = \textcolor{keyword}{true};}
\DoxyCodeLine{00039         \}}
\DoxyCodeLine{00040 }
\DoxyCodeLine{00041         \textcolor{keywordtype}{void} Awake()}
\DoxyCodeLine{00042         \{}
\DoxyCodeLine{00043             delay = \textcolor{keyword}{new} WaitForSeconds(delayTime);}
\DoxyCodeLine{00044         \}}
\DoxyCodeLine{00045 }
\DoxyCodeLine{00046         \textcolor{keywordtype}{void} OnTriggerEnter(Collider other)}
\DoxyCodeLine{00047         \{}
\DoxyCodeLine{00048             \textcolor{keywordflow}{if} (IsTeleportable(other))}
\DoxyCodeLine{00049                 StartCoroutine(Activate(other.gameObject));}
\DoxyCodeLine{00050         \}}
\DoxyCodeLine{00051 }
\DoxyCodeLine{00052         \textcolor{keywordtype}{bool} IsTeleportable(Collider other)}
\DoxyCodeLine{00053         \{}
\DoxyCodeLine{00054             \textcolor{keywordflow}{return} 0 != (layers.value \& 1 << other.gameObject.layer);}
\DoxyCodeLine{00055         \}}
\DoxyCodeLine{00056 }
\DoxyCodeLine{00057     \}}
\DoxyCodeLine{00058 }
\DoxyCodeLine{00059 }
\DoxyCodeLine{00060 \}}

\end{DoxyCode}
