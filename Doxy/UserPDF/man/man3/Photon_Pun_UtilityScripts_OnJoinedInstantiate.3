.TH "Photon.Pun.UtilityScripts.OnJoinedInstantiate" 3 "Mon Apr 18 2022" "Purrpatrator User manual" \" -*- nroff -*-
.ad l
.nh
.SH NAME
Photon.Pun.UtilityScripts.OnJoinedInstantiate \- This component will instantiate a network GameObject when a room is joined  

.SH SYNOPSIS
.br
.PP
.PP
Inherits MonoBehaviour, and \fBPhoton\&.Realtime\&.IMatchmakingCallbacks\fP\&.
.SS "Public Types"

.in +1c
.ti -1c
.RI "enum \fBSpawnSequence\fP { \fBConnection\fP, \fBRandom\fP, \fBRoundRobin\fP }"
.br
.in -1c
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "virtual void \fBOnEnable\fP ()"
.br
.ti -1c
.RI "virtual void \fBOnDisable\fP ()"
.br
.ti -1c
.RI "virtual void \fBOnJoinedRoom\fP ()"
.br
.RI "Called when the LoadBalancingClient entered a room, no matter if this client created it or simply joined\&. "
.ti -1c
.RI "virtual void \fBSpawnObjects\fP ()"
.br
.ti -1c
.RI "virtual void \fBDespawnObjects\fP (bool localOnly)"
.br
.RI "Destroy all objects that have been spawned by this component for this client\&. "
.ti -1c
.RI "virtual void \fBOnFriendListUpdate\fP (List< \fBFriendInfo\fP > friendList)"
.br
.RI "Called when the server sent the response to a FindFriends request\&. "
.ti -1c
.RI "virtual void \fBOnCreatedRoom\fP ()"
.br
.RI "Called when this client created a room and entered it\&. "
.ti -1c
.RI "virtual void \fBOnCreateRoomFailed\fP (short returnCode, string message)"
.br
.RI "Called when the server couldn't create a room (OpCreateRoom failed)\&. "
.ti -1c
.RI "virtual void \fBOnJoinRoomFailed\fP (short returnCode, string message)"
.br
.RI "Called when a previous OpJoinRoom call failed on the server\&. "
.ti -1c
.RI "virtual void \fBOnJoinRandomFailed\fP (short returnCode, string message)"
.br
.RI "Called when a previous OpJoinRandom call failed on the server\&. "
.ti -1c
.RI "virtual void \fBOnLeftRoom\fP ()"
.br
.RI "Called when the local user/client left a room, so the game's logic can clean up it's internal state\&. "
.ti -1c
.RI "virtual void \fBGetSpawnPoint\fP (out Vector3 spawnPos, out Quaternion spawnRot)"
.br
.RI "Gets the next SpawnPoint from the list using the SpawnSequence, and applies RandomOffset (if used) to the transform matrix\&. "
.in -1c
.SS "Public Attributes"

.in +1c
.ti -1c
.RI "\fBSpawnSequence\fP \fBSequence\fP = \fBSpawnSequence\&.Connection\fP"
.br
.ti -1c
.RI "List< Transform > \fBSpawnPoints\fP = new List<Transform>(1) { null }"
.br
.ti -1c
.RI "bool \fBUseRandomOffset\fP = true"
.br
.ti -1c
.RI "float \fBRandomOffset\fP = 2\&.0f"
.br
.ti -1c
.RI "bool \fBClampY\fP = true"
.br
.ti -1c
.RI "List< GameObject > \fBPrefabsToInstantiate\fP = new List<GameObject>(1) { null }"
.br
.ti -1c
.RI "bool \fBAutoSpawnObjects\fP = true"
.br
.ti -1c
.RI "Stack< GameObject > \fBSpawnedObjects\fP = new Stack<GameObject>()"
.br
.in -1c
.SS "Protected Member Functions"

.in +1c
.ti -1c
.RI "virtual Transform \fBGetSpawnPoint\fP ()"
.br
.RI "Get the transform of the next SpawnPoint from the list, selected using the SpawnSequence setting\&. "
.ti -1c
.RI "virtual Vector3 \fBGetRandomOffset\fP ()"
.br
.RI "When UseRandomeOffset is enabled, this method is called to produce a Vector3 offset\&. "
.in -1c
.SS "Protected Attributes"

.in +1c
.ti -1c
.RI "int \fBspawnedAsActorId\fP"
.br
.ti -1c
.RI "int \fBlastUsedSpawnPointIndex\fP = \-1"
.br
.in -1c
.SH "Detailed Description"
.PP 
This component will instantiate a network GameObject when a room is joined 
.PP
Definition at line \fB27\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SH "Member Enumeration Documentation"
.PP 
.SS "enum \fBPhoton\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.SpawnSequence\fP"

.PP
\fBEnumerator\fP
.in +1c
.TP
\fB\fIConnection \fP\fP
.TP
\fB\fIRandom \fP\fP
.TP
\fB\fIRoundRobin \fP\fP
.PP
Definition at line \fB30\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SH "Member Function Documentation"
.PP 
.SS "virtual void Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.DespawnObjects (bool localOnly)\fC [virtual]\fP"

.PP
Destroy all objects that have been spawned by this component for this client\&. 
.PP
\fBParameters\fP
.RS 4
\fIlocalOnly\fP Use Object\&.Destroy rather than \fBPhotonNetwork\&.Destroy\fP\&.
.RE
.PP

.PP
Definition at line \fB205\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "virtual Vector3 Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.GetRandomOffset ()\fC [protected]\fP, \fC [virtual]\fP"

.PP
When UseRandomeOffset is enabled, this method is called to produce a Vector3 offset\&. The default implementation clamps the Y value to zero\&. You may override this with your own implementation\&. 
.PP
Definition at line \fB307\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "virtual Transform Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.GetSpawnPoint ()\fC [protected]\fP, \fC [virtual]\fP"

.PP
Get the transform of the next SpawnPoint from the list, selected using the SpawnSequence setting\&. RandomOffset is not applied, only the transform of the SpawnPoint is returned\&. Override this method to change how Spawn Point transform is selected\&. Return the transform you want to use as a spawn point\&. 
.PP
\fBReturns\fP
.RS 4
.RE
.PP
Use Vector\&.Zero and Quaternion\&.Identity if we are dealing with no or a null spawnpoint\&.
.PP
Definition at line \fB266\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "virtual void Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.GetSpawnPoint (out Vector3 spawnPos, out Quaternion spawnRot)\fC [virtual]\fP"

.PP
Gets the next SpawnPoint from the list using the SpawnSequence, and applies RandomOffset (if used) to the transform matrix\&. Override this method with any custom code for coming up with a spawn location\&. This method is used by AutoSpawn\&. 
.PP
Definition at line \fB235\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "virtual void Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.OnCreatedRoom ()\fC [virtual]\fP"

.PP
Called when this client created a room and entered it\&. \fBOnJoinedRoom()\fP will be called as well\&. 
.PP
This callback is only called on the client which created a room (see OpCreateRoom)\&.
.PP
As any client might close (or drop connection) anytime, there is a chance that the creator of a room does not execute OnCreatedRoom\&.
.PP
If you need specific room properties or a 'start signal', implement OnMasterClientSwitched() and make each new MasterClient check the room's state\&. 
.PP
Implements \fBPhoton\&.Realtime\&.IMatchmakingCallbacks\fP\&.
.PP
Definition at line \fB223\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "virtual void Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.OnCreateRoomFailed (short returnCode, string message)\fC [virtual]\fP"

.PP
Called when the server couldn't create a room (OpCreateRoom failed)\&. Creating a room may fail for various reasons\&. Most often, the room already exists (roomname in use) or the RoomOptions clash and it's impossible to create the room\&.
.PP
When creating a room fails on a Game Server: The client will cache the failure internally and returns to the Master Server before it calls the fail-callback\&. This way, the client is ready to find/create a room at the moment of the callback\&. In this case, the client skips calling OnConnectedToMaster but returning to the Master Server will still call OnConnected\&. Treat callbacks of OnConnected as pure information that the client could connect\&. 
.PP
\fBParameters\fP
.RS 4
\fIreturnCode\fP Operation ReturnCode from the server\&.
.br
\fImessage\fP Debug message for the error\&.
.RE
.PP

.PP
Implements \fBPhoton\&.Realtime\&.IMatchmakingCallbacks\fP\&.
.PP
Definition at line \fB224\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "virtual void Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.OnDisable ()\fC [virtual]\fP"

.PP
Definition at line \fB165\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "virtual void Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.OnEnable ()\fC [virtual]\fP"

.PP
Definition at line \fB160\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "virtual void Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.OnFriendListUpdate (List< \fBFriendInfo\fP > friendList)\fC [virtual]\fP"

.PP
Called when the server sent the response to a FindFriends request\&. After calling OpFindFriends, the Master Server will cache the friend list and send updates to the friend list\&. The friends includes the name, userId, online state and the room (if any) for each requested user/friend\&.
.PP
Use the friendList to update your UI and store it, if the UI should highlight changes\&. 
.PP
Implements \fBPhoton\&.Realtime\&.IMatchmakingCallbacks\fP\&.
.PP
Definition at line \fB222\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "virtual void Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.OnJoinedRoom ()\fC [virtual]\fP"

.PP
Called when the LoadBalancingClient entered a room, no matter if this client created it or simply joined\&. When this is called, you can access the existing players in \fBRoom\&.Players\fP, their custom properties and \fBRoom\&.CustomProperties\fP\&.
.PP
In this callback, you could create player objects\&. For example in Unity, instantiate a prefab for the player\&.
.PP
If you want a match to be started 'actively', enable the user to signal 'ready' (using OpRaiseEvent or a Custom Property)\&. 
.PP
Implements \fBPhoton\&.Realtime\&.IMatchmakingCallbacks\fP\&.
.PP
Definition at line \fB171\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "virtual void Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.OnJoinRandomFailed (short returnCode, string message)\fC [virtual]\fP"

.PP
Called when a previous OpJoinRandom call failed on the server\&. The most common causes are that a room is full or does not exist (due to someone else being faster or closing the room)\&.
.PP
This operation is only ever sent to the Master Server\&. Once a room is found by the Master Server, the client will head off to the designated Game Server and use the operation Join on the Game Server\&.
.PP
When using multiple lobbies (via OpJoinLobby or a TypedLobby parameter), another lobby might have more/fitting rooms\&.
.br
 
.PP
\fBParameters\fP
.RS 4
\fIreturnCode\fP Operation ReturnCode from the server\&.
.br
\fImessage\fP Debug message for the error\&.
.RE
.PP

.PP
Implements \fBPhoton\&.Realtime\&.IMatchmakingCallbacks\fP\&.
.PP
Definition at line \fB226\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "virtual void Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.OnJoinRoomFailed (short returnCode, string message)\fC [virtual]\fP"

.PP
Called when a previous OpJoinRoom call failed on the server\&. Joining a room may fail for various reasons\&. Most often, the room is full or does not exist anymore (due to someone else being faster or closing the room)\&.
.PP
When joining a room fails on a Game Server: The client will cache the failure internally and returns to the Master Server before it calls the fail-callback\&. This way, the client is ready to find/create a room at the moment of the callback\&. In this case, the client skips calling OnConnectedToMaster but returning to the Master Server will still call OnConnected\&. Treat callbacks of OnConnected as pure information that the client could connect\&. 
.PP
\fBParameters\fP
.RS 4
\fIreturnCode\fP Operation ReturnCode from the server\&.
.br
\fImessage\fP Debug message for the error\&.
.RE
.PP

.PP
Implements \fBPhoton\&.Realtime\&.IMatchmakingCallbacks\fP\&.
.PP
Definition at line \fB225\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "virtual void Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.OnLeftRoom ()\fC [virtual]\fP"

.PP
Called when the local user/client left a room, so the game's logic can clean up it's internal state\&. When leaving a room, the LoadBalancingClient will disconnect the Game Server and connect to the Master Server\&. This wraps up multiple internal actions\&.
.PP
Wait for the callback OnConnectedToMaster, before you use lobbies and join or create rooms\&. 
.PP
Implements \fBPhoton\&.Realtime\&.IMatchmakingCallbacks\fP\&.
.PP
Definition at line \fB227\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "virtual void Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.SpawnObjects ()\fC [virtual]\fP"

.PP
Definition at line \fB180\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SH "Member Data Documentation"
.PP 
.SS "bool Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.AutoSpawnObjects = true"

.PP
Definition at line \fB54\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "bool Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.ClampY = true"

.PP
Definition at line \fB49\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "int Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.lastUsedSpawnPointIndex = \-1\fC [protected]\fP"

.PP
Definition at line \fB229\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "List<GameObject> Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.PrefabsToInstantiate = new List<GameObject>(1) { null }"

.PP
Definition at line \fB51\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "float Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.RandomOffset = 2\&.0f"

.PP
Definition at line \fB46\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "\fBSpawnSequence\fP Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.Sequence = \fBSpawnSequence\&.Connection\fP"

.PP
Definition at line \fB37\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "int Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.spawnedAsActorId\fC [protected]\fP"

.PP
Definition at line \fB60\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "Stack<GameObject> Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.SpawnedObjects = new Stack<GameObject>()"

.PP
Definition at line \fB59\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "List<Transform> Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.SpawnPoints = new List<Transform>(1) { null }"

.PP
Definition at line \fB39\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.
.SS "bool Photon\&.Pun\&.UtilityScripts\&.OnJoinedInstantiate\&.UseRandomOffset = true"

.PP
Definition at line \fB42\fP of file \fBOnJoinedInstantiate\&.cs\fP\&.

.SH "Author"
.PP 
Generated automatically by Doxygen for Purrpatrator User manual from the source code\&.
